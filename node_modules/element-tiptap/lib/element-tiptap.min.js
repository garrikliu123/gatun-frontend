!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("vue"),require("tiptap"),require("tiptap-extensions"),require("prosemirror-state"),require("prosemirror-utils"),require("element-ui/lib/tooltip"),require("element-ui/lib/message-box"),require("element-ui/lib/dropdown-item"),require("element-ui/lib/dropdown-menu"),require("element-ui/lib/dropdown"),require("element-ui/lib/popover"),require("element-ui/lib/upload"),require("element-ui/lib/dialog"),require("prosemirror-model"),require("prosemirror-tables"),require("element-ui/lib/button")):"function"==typeof define&&define.amd?define(["exports","vue","tiptap","tiptap-extensions","prosemirror-state","prosemirror-utils","element-ui/lib/tooltip","element-ui/lib/message-box","element-ui/lib/dropdown-item","element-ui/lib/dropdown-menu","element-ui/lib/dropdown","element-ui/lib/popover","element-ui/lib/upload","element-ui/lib/dialog","prosemirror-model","prosemirror-tables","element-ui/lib/button"],e):e((t=t||self).ElementTiptap={},t.Vue,t.tiptap,t.tiptapExtensions,t.prosemirrorState,t.prosemirrorUtils,t.ELEMENT.Tooltip,t.ELEMENT.MessageBox,t.ELEMENT.DropdownItem,t.ELEMENT.DropdownMenu,t.ELEMENT.Dropdown,t.ELEMENT.Popover,t.ELEMENT.Upload,t.ELEMENT.Dialog,t.prosemirrorModel,t.prosemirrorTables,t.ELEMENT.Button)}(this,(function(t,e,n,o,r,i,s,a,c,l,u,p,d,f,h,m,v){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,s=s&&s.hasOwnProperty("default")?s.default:s,a=a&&a.hasOwnProperty("default")?a.default:a,c=c&&c.hasOwnProperty("default")?c.default:c,l=l&&l.hasOwnProperty("default")?l.default:l,u=u&&u.hasOwnProperty("default")?u.default:u,p=p&&p.hasOwnProperty("default")?p.default:p,d=d&&d.hasOwnProperty("default")?d.default:d,f=f&&f.hasOwnProperty("default")?f.default:f,v=v&&v.hasOwnProperty("default")?v.default:v;var g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function y(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function b(t,e){return t(e={exports:{}},e.exports),e.exports}var w=function(t){return t&&t.Math==Math&&t},x=w("object"==typeof globalThis&&globalThis)||w("object"==typeof window&&window)||w("object"==typeof self&&self)||w("object"==typeof g&&g)||Function("return this")(),_=function(t){try{return!!t()}catch(t){return!0}},S=!_((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),C={}.propertyIsEnumerable,k=Object.getOwnPropertyDescriptor,O={f:k&&!C.call({1:2},1)?function(t){var e=k(this,t);return!!e&&e.enumerable}:C},M=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},T={}.toString,E=function(t){return T.call(t).slice(8,-1)},A="".split,z=_((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==E(t)?A.call(t,""):Object(t)}:Object,P=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},N=function(t){return z(P(t))},D=function(t){return"object"==typeof t?null!==t:"function"==typeof t},I=function(t,e){if(!D(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!D(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!D(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!D(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")},j={}.hasOwnProperty,R=function(t,e){return j.call(t,e)},B=x.document,V=D(B)&&D(B.createElement),F=function(t){return V?B.createElement(t):{}},L=!S&&!_((function(){return 7!=Object.defineProperty(F("div"),"a",{get:function(){return 7}}).a})),$=Object.getOwnPropertyDescriptor,q={f:S?$:function(t,e){if(t=N(t),e=I(e,!0),L)try{return $(t,e)}catch(t){}if(R(t,e))return M(!O.f.call(t,e),t[e])}},H=function(t){if(!D(t))throw TypeError(String(t)+" is not an object");return t},U=Object.defineProperty,W={f:S?U:function(t,e,n){if(H(t),e=I(e,!0),H(n),L)try{return U(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},K=S?function(t,e,n){return W.f(t,e,M(1,n))}:function(t,e,n){return t[e]=n,t},G=function(t,e){try{K(x,t,e)}catch(n){x[t]=e}return e},J=x["__core-js_shared__"]||G("__core-js_shared__",{}),X=Function.toString;"function"!=typeof J.inspectSource&&(J.inspectSource=function(t){return X.call(t)});var Z,Y,Q,tt=J.inspectSource,et=x.WeakMap,nt="function"==typeof et&&/native code/.test(tt(et)),ot=b((function(t){(t.exports=function(t,e){return J[t]||(J[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),rt=0,it=Math.random(),st=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++rt+it).toString(36)},at=ot("keys"),ct=function(t){return at[t]||(at[t]=st(t))},lt={},ut=x.WeakMap;if(nt){var pt=new ut,dt=pt.get,ft=pt.has,ht=pt.set;Z=function(t,e){return ht.call(pt,t,e),e},Y=function(t){return dt.call(pt,t)||{}},Q=function(t){return ft.call(pt,t)}}else{var mt=ct("state");lt[mt]=!0,Z=function(t,e){return K(t,mt,e),e},Y=function(t){return R(t,mt)?t[mt]:{}},Q=function(t){return R(t,mt)}}var vt={set:Z,get:Y,has:Q,enforce:function(t){return Q(t)?Y(t):Z(t,{})},getterFor:function(t){return function(e){var n;if(!D(e)||(n=Y(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},gt=b((function(t){var e=vt.get,n=vt.enforce,o=String(String).split("String");(t.exports=function(t,e,r,i){var s=!!i&&!!i.unsafe,a=!!i&&!!i.enumerable,c=!!i&&!!i.noTargetGet;"function"==typeof r&&("string"!=typeof e||R(r,"name")||K(r,"name",e),n(r).source=o.join("string"==typeof e?e:"")),t!==x?(s?!c&&t[e]&&(a=!0):delete t[e],a?t[e]=r:K(t,e,r)):a?t[e]=r:G(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||tt(this)}))})),yt=x,bt=function(t){return"function"==typeof t?t:void 0},wt=function(t,e){return arguments.length<2?bt(yt[t])||bt(x[t]):yt[t]&&yt[t][e]||x[t]&&x[t][e]},xt=Math.ceil,_t=Math.floor,St=function(t){return isNaN(t=+t)?0:(t>0?_t:xt)(t)},Ct=Math.min,kt=function(t){return t>0?Ct(St(t),9007199254740991):0},Ot=Math.max,Mt=Math.min,Tt=function(t,e){var n=St(t);return n<0?Ot(n+e,0):Mt(n,e)},Et=function(t){return function(e,n,o){var r,i=N(e),s=kt(i.length),a=Tt(o,s);if(t&&n!=n){for(;s>a;)if((r=i[a++])!=r)return!0}else for(;s>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},At={includes:Et(!0),indexOf:Et(!1)},zt=At.indexOf,Pt=function(t,e){var n,o=N(t),r=0,i=[];for(n in o)!R(lt,n)&&R(o,n)&&i.push(n);for(;e.length>r;)R(o,n=e[r++])&&(~zt(i,n)||i.push(n));return i},Nt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Dt=Nt.concat("length","prototype"),It={f:Object.getOwnPropertyNames||function(t){return Pt(t,Dt)}},jt={f:Object.getOwnPropertySymbols},Rt=wt("Reflect","ownKeys")||function(t){var e=It.f(H(t)),n=jt.f;return n?e.concat(n(t)):e},Bt=function(t,e){for(var n=Rt(e),o=W.f,r=q.f,i=0;i<n.length;i++){var s=n[i];R(t,s)||o(t,s,r(e,s))}},Vt=/#|\.prototype\./,Ft=function(t,e){var n=$t[Lt(t)];return n==Ht||n!=qt&&("function"==typeof e?_(e):!!e)},Lt=Ft.normalize=function(t){return String(t).replace(Vt,".").toLowerCase()},$t=Ft.data={},qt=Ft.NATIVE="N",Ht=Ft.POLYFILL="P",Ut=Ft,Wt=q.f,Kt=function(t,e){var n,o,r,i,s,a=t.target,c=t.global,l=t.stat;if(n=c?x:l?x[a]||G(a,{}):(x[a]||{}).prototype)for(o in e){if(i=e[o],r=t.noTargetGet?(s=Wt(n,o))&&s.value:n[o],!Ut(c?o:a+(l?".":"#")+o,t.forced)&&void 0!==r){if(typeof i==typeof r)continue;Bt(i,r)}(t.sham||r&&r.sham)&&K(i,"sham",!0),gt(n,o,i,t)}},Gt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Jt=function(t){return Object(P(t))},Xt=function(t){return function(e,n,o,r){Gt(n);var i=Jt(e),s=z(i),a=kt(i.length),c=t?a-1:0,l=t?-1:1;if(o<2)for(;;){if(c in s){r=s[c],c+=l;break}if(c+=l,t?c<0:a<=c)throw TypeError("Reduce of empty array with no initial value")}for(;t?c>=0:a>c;c+=l)c in s&&(r=n(r,s[c],c,i));return r}},Zt={left:Xt(!1),right:Xt(!0)},Yt=function(t,e){var n=[][t];return!!n&&_((function(){n.call(null,e||function(){throw 1},1)}))},Qt=Object.defineProperty,te={},ee=function(t){throw t},ne=function(t,e){if(R(te,t))return te[t];e||(e={});var n=[][t],o=!!R(e,"ACCESSORS")&&e.ACCESSORS,r=R(e,0)?e[0]:ee,i=R(e,1)?e[1]:void 0;return te[t]=!!n&&!_((function(){if(o&&!S)return!0;var t={length:-1};o?Qt(t,1,{enumerable:!0,get:ee}):t[1]=1,n.call(t,r,i)}))},oe=Zt.left,re=Yt("reduce"),ie=ne("reduce",{1:0});Kt({target:"Array",proto:!0,forced:!re||!ie},{reduce:function(t){return oe(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var se=function(){var t=H(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function ae(t,e){return RegExp(t,e)}var ce={UNSUPPORTED_Y:_((function(){var t=ae("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:_((function(){var t=ae("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},le=RegExp.prototype.exec,ue=String.prototype.replace,pe=le,de=function(){var t=/a/,e=/b*/g;return le.call(t,"a"),le.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),fe=ce.UNSUPPORTED_Y||ce.BROKEN_CARET,he=void 0!==/()??/.exec("")[1];(de||he||fe)&&(pe=function(t){var e,n,o,r,i=this,s=fe&&i.sticky,a=se.call(i),c=i.source,l=0,u=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),u=String(t).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(c="(?: "+c+")",u=" "+u,l++),n=new RegExp("^(?:"+c+")",a)),he&&(n=new RegExp("^"+c+"$(?!\\s)",a)),de&&(e=i.lastIndex),o=le.call(s?n:i,u),s?o?(o.input=o.input.slice(l),o[0]=o[0].slice(l),o.index=i.lastIndex,i.lastIndex+=o[0].length):i.lastIndex=0:de&&o&&(i.lastIndex=i.global?o.index+o[0].length:e),he&&o&&o.length>1&&ue.call(o[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)})),o});var me=pe;Kt({target:"RegExp",proto:!0,forced:/./.exec!==me},{exec:me});var ve=!!Object.getOwnPropertySymbols&&!_((function(){return!String(Symbol())})),ge=ve&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ye=ot("wks"),be=x.Symbol,we=ge?be:be&&be.withoutSetter||st,xe=function(t){return R(ye,t)||(ve&&R(be,t)?ye[t]=be[t]:ye[t]=we("Symbol."+t)),ye[t]},_e=xe("species"),Se=!_((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Ce="$0"==="a".replace(/./,"$0"),ke=xe("replace"),Oe=!!/./[ke]&&""===/./[ke]("a","$0"),Me=!_((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Te=function(t,e,n,o){var r=xe(t),i=!_((function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})),s=i&&!_((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[_e]=function(){return n},n.flags="",n[r]=/./[r]),n.exec=function(){return e=!0,null},n[r](""),!e}));if(!i||!s||"replace"===t&&(!Se||!Ce||Oe)||"split"===t&&!Me){var a=/./[r],c=n(r,""[t],(function(t,e,n,o,r){return e.exec===me?i&&!r?{done:!0,value:a.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}}),{REPLACE_KEEPS_$0:Ce,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Oe}),l=c[0],u=c[1];gt(String.prototype,t,l),gt(RegExp.prototype,r,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}o&&K(RegExp.prototype[r],"sham",!0)},Ee=xe("match"),Ae=function(t){var e;return D(t)&&(void 0!==(e=t[Ee])?!!e:"RegExp"==E(t))},ze=xe("species"),Pe=function(t,e){var n,o=H(t).constructor;return void 0===o||null==(n=H(o)[ze])?e:Gt(n)},Ne=function(t){return function(e,n){var o,r,i=String(P(e)),s=St(n),a=i.length;return s<0||s>=a?t?"":void 0:(o=i.charCodeAt(s))<55296||o>56319||s+1===a||(r=i.charCodeAt(s+1))<56320||r>57343?t?i.charAt(s):o:t?i.slice(s,s+2):r-56320+(o-55296<<10)+65536}},De={codeAt:Ne(!1),charAt:Ne(!0)},Ie=De.charAt,je=function(t,e,n){return e+(n?Ie(t,e).length:1)},Re=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==E(t))throw TypeError("RegExp#exec called on incompatible receiver");return me.call(t,e)},Be=[].push,Ve=Math.min,Fe=!_((function(){return!RegExp(4294967295,"y")}));Te("split",2,(function(t,e,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var o=String(P(this)),r=void 0===n?4294967295:n>>>0;if(0===r)return[];if(void 0===t)return[o];if(!Ae(t))return e.call(o,t,r);for(var i,s,a,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,p=new RegExp(t.source,l+"g");(i=me.call(p,o))&&!((s=p.lastIndex)>u&&(c.push(o.slice(u,i.index)),i.length>1&&i.index<o.length&&Be.apply(c,i.slice(1)),a=i[0].length,u=s,c.length>=r));)p.lastIndex===i.index&&p.lastIndex++;return u===o.length?!a&&p.test("")||c.push(""):c.push(o.slice(u)),c.length>r?c.slice(0,r):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=P(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,r,n):o.call(String(r),e,n)},function(t,r){var i=n(o,t,this,r,o!==e);if(i.done)return i.value;var s=H(t),a=String(this),c=Pe(s,RegExp),l=s.unicode,u=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(Fe?"y":"g"),p=new c(Fe?s:"^(?:"+s.source+")",u),d=void 0===r?4294967295:r>>>0;if(0===d)return[];if(0===a.length)return null===Re(p,a)?[a]:[];for(var f=0,h=0,m=[];h<a.length;){p.lastIndex=Fe?h:0;var v,g=Re(p,Fe?a:a.slice(h));if(null===g||(v=Ve(kt(p.lastIndex+(Fe?0:h)),a.length))===f)h=je(a,h,l);else{if(m.push(a.slice(f,h)),m.length===d)return m;for(var y=1;y<=g.length-1;y++)if(m.push(g[y]),m.length===d)return m;h=f=v}}return m.push(a.slice(f)),m}]}),!Fe);var Le=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return H(n),function(t){if(!D(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(o),e?t.call(n,o):n.__proto__=o,n}}():void 0),$e=function(t,e,n){var o,r;return Le&&"function"==typeof(o=e.constructor)&&o!==n&&D(r=o.prototype)&&r!==n.prototype&&Le(t,r),t},qe=xe("species"),He=function(t){var e=wt(t),n=W.f;S&&e&&!e[qe]&&n(e,qe,{configurable:!0,get:function(){return this}})},Ue=W.f,We=It.f,Ke=vt.set,Ge=xe("match"),Je=x.RegExp,Xe=Je.prototype,Ze=/a/g,Ye=/a/g,Qe=new Je(Ze)!==Ze,tn=ce.UNSUPPORTED_Y;if(S&&Ut("RegExp",!Qe||tn||_((function(){return Ye[Ge]=!1,Je(Ze)!=Ze||Je(Ye)==Ye||"/a/i"!=Je(Ze,"i")})))){for(var en=function(t,e){var n,o=this instanceof en,r=Ae(t),i=void 0===e;if(!o&&r&&t.constructor===en&&i)return t;Qe?r&&!i&&(t=t.source):t instanceof en&&(i&&(e=se.call(t)),t=t.source),tn&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var s=$e(Qe?new Je(t,e):Je(t,e),o?this:Xe,en);return tn&&n&&Ke(s,{sticky:n}),s},nn=function(t){t in en||Ue(en,t,{configurable:!0,get:function(){return Je[t]},set:function(e){Je[t]=e}})},on=We(Je),rn=0;on.length>rn;)nn(on[rn++]);Xe.constructor=en,en.prototype=Xe,gt(x,"RegExp",en)}He("RegExp");var sn=RegExp.prototype,an=sn.toString,cn=_((function(){return"/a/b"!=an.call({source:"a",flags:"b"})})),ln="toString"!=an.name;(cn||ln)&&gt(RegExp.prototype,"toString",(function(){var t=H(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in sn)?se.call(t):n)}),{unsafe:!0});var un=new RegExp("(left|center|right|justify)");function pn(t){console.warn("[Element-Tiptap Tip] "+t)}var dn={en:{editor:{extensions:{Bold:{tooltip:"Bold"},Underline:{tooltip:"Underline"},Italic:{tooltip:"Italic"},Strike:{tooltip:"Strike through"},Heading:{tooltip:"Heading",buttons:{paragraph:"Paragraph",heading:"Heading"}},Blockquote:{tooltip:"Block quote"},CodeBlock:{tooltip:"Code block"},Link:{add:{tooltip:"Apply link",control:{title:"Apply Link",placeholder:"Href",confirm:"Apply",cancel:"Cancel"}},edit:{tooltip:"Edit link",control:{title:"Edit Link",placeholder:"Href",confirm:"Update",cancel:"Cancel"}},unlink:{tooltip:"Unlink"},open:{tooltip:"Open link"}},Image:{tooltip:"Insert image",buttons:{insert_by_url:"Insert Image By Url",upload_image:"Upload Image"},control:{insert_by_url:{title:"Insert image",placeholder:"Url of image",confirm:"Insert",cancel:"Cancel",invalid_url:"Please enter the correct url"},upload_image:{title:"Upload image",button:"Choose an image file or drag it here"}}},Iframe:{tooltip:"Insert video",control:{title:"Insert video",placeholder:"Href",confirm:"Insert",cancel:"Cancel"}},BulletList:{tooltip:"Bullet list"},OrderedList:{tooltip:"Ordered list"},TodoList:{tooltip:"Todo list"},TextAlign:{buttons:{align_left:{tooltip:"Align left"},align_center:{tooltip:"Align center"},align_right:{tooltip:"Align right"},align_justify:{tooltip:"Align justify"}}},TextColor:{tooltip:"Text color"},TextHighlight:{tooltip:"Text highlight"},LineHeight:{tooltip:"Line height"},Table:{tooltip:"Table",buttons:{insert_table:"Insert Table",add_column_before:"Add Column Before",add_column_after:"Add Column After",delete_column:"Delete Column",add_row_before:"Add Row Before",add_row_after:"Add Row After",delete_row:"Delete Row",merge_cells:"Merge Cells",split_cell:"Split Cell",delete_table:"Delete Table"}},Indent:{buttons:{indent:{tooltip:"Indent"},outdent:{tooltip:"Outdent"}}},FormatClear:{tooltip:"Clear format"},HorizontalRule:{tooltip:"Horizontal rule"},History:{tooltip:{undo:"Undo",redo:"Redo"}},Fullscreen:{tooltip:{fullscreen:"Full screen",exit_fullscreen:"Exit full screen"}},Print:{tooltip:"Print"},Preview:{tooltip:"Preview",dialog:{title:"Preview"}},SelectAll:{tooltip:"Select all"}},characters:"Characters"}},zh:{editor:{extensions:{Bold:{tooltip:"ç²ä½"},Underline:{tooltip:"ä¸åçº¿"},Italic:{tooltip:"æä½"},Strike:{tooltip:"ä¸­åçº¿"},Heading:{tooltip:"æ é¢",buttons:{paragraph:"æ­£æ",heading:"æ é¢"}},Blockquote:{tooltip:"å¼ç¨"},CodeBlock:{tooltip:"ä»£ç å"},Link:{add:{tooltip:"æ·»å é¾æ¥",control:{title:"æ·»å é¾æ¥",placeholder:"è¾å¥é¾æ¥",confirm:"æ·»å ",cancel:"åæ¶"}},edit:{tooltip:"ç¼è¾é¾æ¥",control:{title:"ç¼è¾é¾æ¥",placeholder:"è¾å¥é¾æ¥",confirm:"æ´æ°",cancel:"åæ¶"}},unlink:{tooltip:"åæ¶é¾æ¥"},open:{tooltip:"æå¼é¾æ¥"}},Image:{tooltip:"æå¥å¾ç",buttons:{insert_by_url:"æå¥ç½ç»å¾ç",upload_image:"ä¸ä¼ æ¬å°å¾ç"},control:{insert_by_url:{title:"æå¥ç½ç»å¾ç",placeholder:"è¾å¥é¾æ¥",confirm:"æå¥",cancel:"åæ¶",invalid_url:"è¯·è¾å¥æ­£ç¡®çå¾çé¾æ¥"},upload_image:{title:"ä¸ä¼ æ¬å°å¾ç",button:"å°å¾çæä»¶æå°æ­¤å¤æèç¹å»ä¸ä¼ "}}},Iframe:{tooltip:"æå¥è§é¢",control:{title:"æå¥è§é¢",placeholder:"è¾å¥é¾æ¥",confirm:"æå¥",cancel:"åæ¶"}},BulletList:{tooltip:"æ åºåè¡¨"},OrderedList:{tooltip:"æåºåè¡¨"},TodoList:{tooltip:"ä»»å¡åè¡¨"},TextAlign:{buttons:{align_left:{tooltip:"å·¦å¯¹é½"},align_center:{tooltip:"å±ä¸­å¯¹é½"},align_right:{tooltip:"å³å¯¹é½"},align_justify:{tooltip:"ä¸¤ç«¯å¯¹é½"}}},TextColor:{tooltip:"ææ¬é¢è²"},TextHighlight:{tooltip:"ææ¬é«äº®"},LineHeight:{tooltip:"è¡è·"},Table:{tooltip:"è¡¨æ ¼",buttons:{insert_table:"æå¥è¡¨æ ¼",add_column_before:"åå·¦æå¥ä¸å",add_column_after:"åå³æå¥ä¸å",delete_column:"å é¤å",add_row_before:"åä¸æå¥ä¸è¡",add_row_after:"åä¸æå¥ä¸è¡",delete_row:"å é¤è¡",merge_cells:"åå¹¶ååæ ¼",split_cell:"æåååæ ¼",delete_table:"å é¤è¡¨æ ¼"}},Indent:{buttons:{indent:{tooltip:"å¢å éè¿"},outdent:{tooltip:"åå°éè¿"}}},FormatClear:{tooltip:"æ¸é¤æ ¼å¼"},HorizontalRule:{tooltip:"åéçº¿"},History:{tooltip:{undo:"æ¤é",redo:"éå"}},Fullscreen:{tooltip:{fullscreen:"å¨å±",exit_fullscreen:"éåºå¨å±"}},Print:{tooltip:"æå°"},Preview:{tooltip:"é¢è§",dialog:{title:"é¢è§"}},SelectAll:{tooltip:"å¨é"}},characters:"å­æ°"}},pl:{editor:{extensions:{Bold:{tooltip:"Pogrubienie"},Underline:{tooltip:"PodkreÅlenie"},Italic:{tooltip:"Kursywa"},Strike:{tooltip:"PrzekreÅlenie"},Heading:{tooltip:"NagÅÃ³wek",buttons:{paragraph:"Paragraf",heading:"NagÅÃ³wek"}},Blockquote:{tooltip:"Cytat"},CodeBlock:{tooltip:"Kod"},Link:{add:{tooltip:"Dodaj link",control:{title:"Dodaj Link",placeholder:"Å¹rÃ³dÅo",confirm:"Dodaj",cancel:"Anuluj"}},edit:{tooltip:"Edytuj link",control:{title:"Edytuj link",placeholder:"Å¹rÃ³dÅo",confirm:"aktualizacja",cancel:"Anuluj"}},unlink:{tooltip:"OdczepiÄ"},open:{tooltip:"OtwÃ³rz link"}},Image:{tooltip:"Dodaj obraz",buttons:{insert_by_url:"Dodaj obraz online",upload_image:"Dodaj obraz z dysku"},control:{insert_by_url:{title:"Dodawanie obrazu online",placeholder:"URL obrazu",confirm:"Dodaj",cancel:"Zamknij",invalid_url:"ProszÄ podaÄ prawidÅowy link prowadzÄcy do obrazu"},upload_image:{title:"Dodawanie obrazu z dysku",button:"WskaÅ¼ obraz lub przeciÄgnij go tutaj"}}},Iframe:{tooltip:"Dodaj film",control:{title:"Dodaj film",placeholder:"URL filmu",confirm:"Dodaj",cancel:"Zamknij"}},BulletList:{tooltip:"Lista wypunktowana"},OrderedList:{tooltip:"Lista uporzÄdkowana"},TodoList:{tooltip:"Lista rzeczy do zrobienia"},TextAlign:{buttons:{align_left:{tooltip:"WyrÃ³wnaj do lewej"},align_center:{tooltip:"WyÅrodkuj"},align_right:{tooltip:"WyrÃ³wnaj do prawej"},align_justify:{tooltip:"Wyjustuj"}}},TextColor:{tooltip:"Kolor tekstu"},TextHighlight:{tooltip:"PodÅwietlenie tekstu"},LineHeight:{tooltip:"WysokoÅÄ linii"},Table:{tooltip:"Tabela",buttons:{insert_table:"Dodaj tabelÄ",add_column_before:"Dodaj kolumnÄ przed",add_column_afer:"Dodaj kolumnÄ za",delete_column:"UsuÅ kolumnÄ",add_row_before:"Dodaj wiersz przed",add_row_after:"Dodaj wiersz za",delete_row:"UsuÅ wiersz",merge_cells:"PoÅÄcz komÃ³rki",split_cell:"Rozdziel komÃ³rki",delete_table:"UsuÅ tabelÄ"}},Indent:{buttons:{indent:{tooltip:"ZwiÄksz wciÄcie"},outdent:{tooltip:"Zmniejsz wciÄcie"}}},FormatClear:{tooltip:"WyczyÅÄ formatowanie"},HorizontalRule:{tooltip:"Linia pozioma"},History:{tooltip:{undo:"Cofnij",redo:"PowtÃ³rz"}},Fullscreen:{tooltip:{fullscreen:"PeÅny ekran",exit_fullscreen:"Zamknij peÅny ekran"}},Print:{tooltip:"Drukuj"},Preview:{tooltip:"PodglÄd",dialog:{title:"PodglÄd"}},SelectAll:{tooltip:"Zaznacz wszystko"}},characters:"PostaÄ"}},ru:{editor:{extensions:{Bold:{tooltip:"ÐÐ¾Ð»ÑÐ¶Ð¸ÑÐ½ÑÐ¹"},Underline:{tooltip:"ÐÐ¾Ð´ÑÐµÑÐºÐ½ÑÑÑÐ¹"},Italic:{tooltip:"ÐÑÑÑÐ¸Ð²"},Strike:{tooltip:"ÐÐ°ÑÐµÑÐºÐ½ÑÑÑÐ¹"},Heading:{tooltip:"ÐÐ°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº",buttons:{paragraph:"ÐÐ°ÑÐ°Ð³ÑÐ°Ñ",heading:"ÐÐ°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº"}},Blockquote:{tooltip:"Ð¦Ð¸ÑÐ°ÑÐ°"},CodeBlock:{tooltip:"ÐÐ»Ð¾Ðº ÐºÐ¾Ð´Ð°"},Link:{add:{tooltip:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÑÑÐ»ÐºÑ",control:{title:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÑÑÐ»ÐºÑ",placeholder:"ÐÐ´ÑÐµÑ",confirm:"ÐÑÐ¸Ð¼ÐµÐ½Ð¸ÑÑ",cancel:"ÐÑÐ¼ÐµÐ½Ð¸ÑÑ"}},edit:{tooltip:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÑÑÐ»ÐºÑ",control:{title:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÑÑÐ»ÐºÑ",placeholder:"ÐÐ´ÑÐµÑ",confirm:"ÐÐ±Ð½Ð¾Ð²Ð¸ÑÑ",cancel:"ÐÑÐ¼ÐµÐ½Ð¸ÑÑ"}},unlink:{tooltip:"Ð£Ð´Ð°Ð»Ð¸ÑÑ ÑÑÑÐ»ÐºÑ"},open:{tooltip:"ÐÑÐºÑÑÑÑ ÑÑÑÐ»ÐºÑ"}},Image:{tooltip:"ÐÑÑÐ°Ð²Ð¸ÑÑ ÐºÐ°ÑÑÐ¸Ð½ÐºÑ",buttons:{insert_by_url:"ÐÑÑÐ°Ð²Ð¸ÑÑ ÐºÐ°ÑÑÐ¸Ð½ÐºÑ Ð¿Ð¾ Ð°Ð´ÑÐµÑÑ",upload_image:"ÐÐ°Ð³ÑÑÐ·Ð¸ÑÑ ÐºÐ°ÑÑÐ¸Ð½ÐºÑ"},control:{insert_by_url:{title:"ÐÑÑÐ°Ð²Ð¸ÑÑ ÐºÐ°ÑÑÐ¸Ð½ÐºÑ",placeholder:"ÐÐ´ÑÐµÑ ÐºÐ°ÑÑÐ¸Ð½ÐºÐ¸",confirm:"ÐÑÑÐ°Ð²Ð¸ÑÑ",cancel:"ÐÑÐ¼ÐµÐ½Ð¸ÑÑ",invalid_url:"ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ° Ð²Ð²ÐµÐ´Ð¸ÑÐµ Ð¿ÑÐ°Ð²Ð¸Ð»ÑÐ½ÑÐ¹ Ð°Ð´ÑÐµÑ"},upload_image:{title:"ÐÐ°Ð³ÑÑÐ·Ð¸ÑÑ ÐºÐ°ÑÑÐ¸Ð½ÐºÑ",button:"ÐÑÐ±ÐµÑÐ¸ÑÐµ ÑÐ°Ð¹Ð» Ð¸Ð·Ð¾Ð±ÑÐ°Ð¶ÐµÐ½Ð¸Ñ Ð¸Ð»Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ ÑÑÐ´Ð°"}}},Iframe:{tooltip:"ÐÑÑÐ°Ð²Ð¸ÑÑ Ð²Ð¸Ð´ÐµÐ¾",control:{title:"ÐÑÑÐ°Ð²Ð¸ÑÑ Ð²Ð¸Ð´ÐµÐ¾",placeholder:"ÐÐ´ÑÐµÑ",confirm:"ÐÑÑÐ°Ð²Ð¸ÑÑ",cancel:"ÐÑÐ¼ÐµÐ½Ð¸ÑÑ"}},BulletList:{tooltip:"ÐÐ°ÑÐºÐ¸ÑÐ¾Ð²Ð°Ð½Ð½ÑÐ¹ ÑÐ¿Ð¸ÑÐ¾Ðº"},OrderedList:{tooltip:"ÐÑÐ¼ÐµÑÐ¾Ð²Ð°Ð½Ð½ÑÐ¹ ÑÐ¿Ð¸ÑÐ¾Ðº"},TodoList:{tooltip:"Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð·Ð°Ð´Ð°Ñ"},TextAlign:{buttons:{align_left:{tooltip:"ÐÑÑÐ¾Ð²Ð½ÑÑÑ Ð¿Ð¾ Ð»ÐµÐ²Ð¾Ð¼Ñ ÐºÑÐ°Ñ"},align_center:{tooltip:"ÐÑÑÐ¾Ð²Ð½ÑÑÑ Ð¿Ð¾ ÑÐµÐ½ÑÑÑ"},align_right:{tooltip:"ÐÑÑÐ¾Ð²Ð½ÑÑÑ Ð¿Ð¾ Ð¿ÑÐ°Ð²Ð¾Ð¼Ñ ÐºÑÐ°Ñ"},align_justify:{tooltip:"ÐÑÑÐ¾Ð²Ð½ÑÑÑ Ð¿Ð¾ ÑÐ¸ÑÐ¸Ð½Ðµ"}}},TextColor:{tooltip:"Ð¦Ð²ÐµÑ ÑÐµÐºÑÑÐ°"},TextHighlight:{tooltip:"Ð¦Ð²ÐµÑ Ð²ÑÐ´ÐµÐ»ÐµÐ½Ð¸Ñ ÑÐµÐºÑÑÐ°"},LineHeight:{tooltip:"ÐÐ½ÑÐµÑÐ²Ð°Ð»"},Table:{tooltip:"Ð¢Ð°Ð±Ð»Ð¸ÑÐ°",buttons:{insert_table:"ÐÑÑÐ°Ð²Ð¸ÑÑ ÑÐ°Ð±Ð»Ð¸ÑÑ",add_column_before:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÑÐ¾Ð»Ð±ÐµÑ ÑÐ»ÐµÐ²Ð°",add_column_after:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÑÐ¾Ð»Ð±ÐµÑ ÑÐ¿ÑÐ°Ð²Ð°",delete_column:"Ð£Ð´Ð°Ð»Ð¸ÑÑ ÑÑÐ¾Ð»Ð±ÐµÑ",add_row_before:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÑÑÐ¾ÐºÑ ÑÐ²ÐµÑÑÑ",add_row_after:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÑÑÐ¾ÐºÑ ÑÐ½Ð¸Ð·Ñ",delete_row:"Ð£Ð´Ð°Ð»Ð¸ÑÑ ÑÑÑÐ¾ÐºÑ",merge_cells:"ÐÐ±ÑÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÑÐµÐ¹ÐºÐ¸",split_cell:"Ð Ð°Ð·Ð´ÐµÐ»Ð¸ÑÑ ÑÑÐµÐ¹ÐºÐ¸",delete_table:"Ð£Ð´Ð°Ð»Ð¸ÑÑ ÑÐ°Ð±Ð»Ð¸ÑÑ"}},Indent:{buttons:{indent:{tooltip:"Ð£Ð²ÐµÐ»Ð¸ÑÐ¸ÑÑ Ð¾ÑÑÑÑÐ¿"},outdent:{tooltip:"Ð£Ð¼ÐµÐ½ÑÑÐ¸ÑÑ Ð¾ÑÑÑÑÐ¿"}}},FormatClear:{tooltip:"ÐÑÐ¸ÑÑÐ¸ÑÑ ÑÐ¾ÑÐ¼Ð°ÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ"},HorizontalRule:{tooltip:"ÐÐ¾ÑÐ¸Ð·Ð¾Ð½ÑÐ°Ð»ÑÐ½Ð°Ñ Ð»Ð¸Ð½Ð¸Ñ"},History:{tooltip:{undo:"ÐÑÐ¼ÐµÐ½Ð¸ÑÑ",redo:"ÐÐ¾Ð²ÑÐ¾ÑÐ¸ÑÑ"}},Fullscreen:{tooltip:{fullscreen:"ÐÐ¾Ð»Ð½Ð¾ÑÐºÑÐ°Ð½Ð½ÑÐ¹ ÑÐµÐ¶Ð¸Ð¼",exit_fullscreen:"ÐÑÐ¹ÑÐ¸ Ð¸Ð· Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑÐ°Ð½Ð½Ð¾Ð³Ð¾ ÑÐµÐ¶Ð¸Ð¼Ð°"}},Print:{tooltip:"ÐÐµÑÐ°ÑÑ"},Preview:{tooltip:"ÐÑÐµÐ´Ð²Ð°ÑÐ¸ÑÐµÐ»ÑÐ½ÑÐ¹ Ð¿ÑÐ¾ÑÐ¼Ð¾ÑÑ",dialog:{title:"ÐÑÐµÐ´Ð²Ð°ÑÐ¸ÑÐµÐ»ÑÐ½ÑÐ¹ Ð¿ÑÐ¾ÑÐ¼Ð¾ÑÑ"}},SelectAll:{tooltip:"ÐÑÐ´ÐµÐ»Ð¸ÑÑ Ð²ÑÐµ"}},characters:"ÐÐ¾Ð»Ð¸ÑÐµÑÑÐ²Ð¾ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"}}},fn=dn.en;function hn(t){return t.split(".").reduce((function(t,e){return t[e]}),fn)}var mn,vn,gn=Array.isArray||function(t){return"Array"==E(t)},yn=function(t,e,n){var o=I(e);o in t?W.f(t,o,M(0,n)):t[o]=n},bn=xe("species"),wn=function(t,e){var n;return gn(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!gn(n.prototype)?D(n)&&null===(n=n[bn])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},xn=wt("navigator","userAgent")||"",_n=x.process,Sn=_n&&_n.versions,Cn=Sn&&Sn.v8;Cn?vn=(mn=Cn.split("."))[0]+mn[1]:xn&&(!(mn=xn.match(/Edge\/(\d+)/))||mn[1]>=74)&&(mn=xn.match(/Chrome\/(\d+)/))&&(vn=mn[1]);var kn=vn&&+vn,On=xe("species"),Mn=function(t){return kn>=51||!_((function(){var e=[];return(e.constructor={})[On]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Tn=xe("isConcatSpreadable"),En=kn>=51||!_((function(){var t=[];return t[Tn]=!1,t.concat()[0]!==t})),An=Mn("concat"),zn=function(t){if(!D(t))return!1;var e=t[Tn];return void 0!==e?!!e:gn(t)};Kt({target:"Array",proto:!0,forced:!En||!An},{concat:function(t){var e,n,o,r,i,s=Jt(this),a=wn(s,0),c=0;for(e=-1,o=arguments.length;e<o;e++)if(i=-1===e?s:arguments[e],zn(i)){if(c+(r=kt(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,c++)n in i&&yn(a,c,i[n])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");yn(a,c++,i)}return a.length=c,a}});var Pn,Nn=Object.keys||function(t){return Pt(t,Nt)},Dn=S?Object.defineProperties:function(t,e){H(t);for(var n,o=Nn(e),r=o.length,i=0;r>i;)W.f(t,n=o[i++],e[n]);return t},In=wt("document","documentElement"),jn=ct("IE_PROTO"),Rn=function(){},Bn=function(t){return"<script>"+t+"<\/script>"},Vn=function(){try{Pn=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Vn=Pn?function(t){t.write(Bn("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Pn):((e=F("iframe")).style.display="none",In.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Bn("document.F=Object")),t.close(),t.F);for(var n=Nt.length;n--;)delete Vn.prototype[Nt[n]];return Vn()};lt[jn]=!0;var Fn=Object.create||function(t,e){var n;return null!==t?(Rn.prototype=H(t),n=new Rn,Rn.prototype=null,n[jn]=t):n=Vn(),void 0===e?n:Dn(n,e)},Ln=xe("unscopables"),$n=Array.prototype;null==$n[Ln]&&W.f($n,Ln,{configurable:!0,value:Fn(null)});var qn=function(t){$n[Ln][t]=!0},Hn=At.includes,Un=ne("indexOf",{ACCESSORS:!0,1:0});Kt({target:"Array",proto:!0,forced:!Un},{includes:function(t){return Hn(this,t,arguments.length>1?arguments[1]:void 0)}}),qn("includes");
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */
var Wn=function(t,e){return(Wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Kn(t,e){function n(){this.constructor=t}Wn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Gn=function(){return(Gn=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function Jn(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Xn(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))}function Zn(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function Yn(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,r++)o[r]=i[s];return o}
/**
	  * vue-class-component v7.2.2
	  * (c) 2015-present Evan You
	  * @license MIT
	  */function Qn(t){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function to(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eo(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function no(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function oo(t,e){ro(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(n){ro(t.prototype,e.prototype,n)})),Object.getOwnPropertyNames(e).forEach((function(n){ro(t,e,n)}))}function ro(t,e,n){(n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e)).forEach((function(o){var r=n?Reflect.getOwnMetadata(o,e,n):Reflect.getOwnMetadata(o,e);n?Reflect.defineMetadata(o,r,t,n):Reflect.defineMetadata(o,r,t)}))}var io={__proto__:[]}instanceof Array;function so(t){return function(e,n,o){var r="function"==typeof e?e:e.constructor;r.__decorators__||(r.__decorators__=[]),"number"!=typeof o&&(o=void 0),r.__decorators__.push((function(e){return t(e,n,o)}))}}function ao(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.extend({mixins:n})}function co(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var o in t.$options.props)t.hasOwnProperty(o)||n.push(o);n.forEach((function(n){"_"!==n.charAt(0)&&Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var o=new e;e.prototype._init=n;var r={};return Object.keys(o).forEach((function(t){void 0!==o[t]&&(r[t]=o[t])})),r}var lo=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function uo(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.name=n.name||t._componentTag||t.name;var o=t.prototype;Object.getOwnPropertyNames(o).forEach((function(t){if("constructor"!==t)if(lo.indexOf(t)>-1)n[t]=o[t];else{var e=Object.getOwnPropertyDescriptor(o,t);void 0!==e.value?"function"==typeof e.value?(n.methods||(n.methods={}))[t]=e.value:(n.mixins||(n.mixins=[])).push({data:function(){return to({},t,e.value)}}):(e.get||e.set)&&((n.computed||(n.computed={}))[t]={get:e.get,set:e.set})}})),(n.mixins||(n.mixins=[])).push({data:function(){return co(this,t)}});var r=t.__decorators__;r&&(r.forEach((function(t){return t(n)})),delete t.__decorators__);var i=Object.getPrototypeOf(t.prototype),s=i instanceof e?i.constructor:e,a=s.extend(n);return fo(a,t,s),no()&&oo(a,t),a}var po={prototype:!0,arguments:!0,callee:!0,caller:!0};function fo(t,e,n){Object.getOwnPropertyNames(e).forEach((function(o){if(!po[o]){var r=Object.getOwnPropertyDescriptor(t,o);if(!r||r.configurable){var i,s,a=Object.getOwnPropertyDescriptor(e,o);if(!io){if("cid"===o)return;var c=Object.getOwnPropertyDescriptor(n,o);if(i=a.value,s=Qn(i),null!=i&&("object"===s||"function"===s)&&c&&c.value===a.value)return}Object.defineProperty(t,o,a)}}}))}function ho(t){return"function"==typeof t?uo(t):function(e){return uo(e,t)}}ho.registerHooks=function(t){lo.push.apply(lo,eo(t))};var mo="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function vo(t,e,n){mo&&(Array.isArray(t)||"function"==typeof t||void 0!==t.type||(t.type=Reflect.getMetadata("design:type",e,n)))}function go(t){return void 0===t&&(t={}),function(e,n){vo(t,e,n),so((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function yo(t,e){void 0===e&&(e={});var n=e.deep,o=void 0!==n&&n,r=e.immediate,i=void 0!==r&&r;return so((function(e,n){"object"!=typeof e.watch&&(e.watch=Object.create(null));var r=e.watch;"object"!=typeof r[t]||Array.isArray(r[t])?void 0===r[t]&&(r[t]=[]):r[t]=[r[t]],r[t].push({handler:n,deep:o,immediate:i})}))}var bo=/\B([A-Z])/g;function wo(t){return function(e,n,o){n=n.replace(bo,"-$1").toLowerCase();var r=o.value;o.value=function(){for(var e=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=function(r){void 0!==r&&o.unshift(r),e.$emit.apply(e,[t||n].concat(o))},a=r.apply(this,o);return xo(a)?a.then((function(t){s(t)})):s(a),a}}}function xo(t){return t instanceof Promise||t&&"function"==typeof t.then}var _o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"content_attributes"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return{spellcheck:!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plugins",{get:function(){return[new r.Plugin({props:{attributes:Gn({},this.options)}})]},enumerable:!0,configurable:!0}),e}(n.Extension),So=Mn("slice"),Co=ne("slice",{ACCESSORS:!0,0:0,1:2}),ko=xe("species"),Oo=[].slice,Mo=Math.max;Kt({target:"Array",proto:!0,forced:!So||!Co},{slice:function(t,e){var n,o,r,i=N(this),s=kt(i.length),a=Tt(t,s),c=Tt(void 0===e?s:e,s);if(gn(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!gn(n.prototype)?D(n)&&null===(n=n[ko])&&(n=void 0):n=void 0,n===Array||void 0===n))return Oo.call(i,a,c);for(o=new(void 0===n?Array:n)(Mo(c-a,0)),r=0;a<c;a++,r++)a in i&&yn(o,r,i[a]);return o.length=r,o}});var To={};To[xe("toStringTag")]="z";var Eo="[object z]"===String(To),Ao=xe("toStringTag"),zo="Arguments"==E(function(){return arguments}()),Po=Eo?E:function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ao))?n:zo?E(e):"Object"==(o=E(e))&&"function"==typeof e.callee?"Arguments":o},No=Eo?{}.toString:function(){return"[object "+Po(this)+"]"};Eo||gt(Object.prototype,"toString",No,{unsafe:!0});var Do=x.Promise,Io=function(t,e,n){for(var o in e)gt(t,o,e[o],n);return t},jo=W.f,Ro=xe("toStringTag"),Bo=function(t,e,n){t&&!R(t=n?t:t.prototype,Ro)&&jo(t,Ro,{configurable:!0,value:e})},Vo=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Fo={},Lo=xe("iterator"),$o=Array.prototype,qo=function(t){return void 0!==t&&(Fo.Array===t||$o[Lo]===t)},Ho=function(t,e,n){if(Gt(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}},Uo=xe("iterator"),Wo=function(t){if(null!=t)return t[Uo]||t["@@iterator"]||Fo[Po(t)]},Ko=function(t,e,n,o){try{return o?e(H(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&H(r.call(t)),e}},Go=b((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,n,o,r,i){var s,a,c,l,u,p,d,f=Ho(n,o,r?2:1);if(i)s=t;else{if("function"!=typeof(a=Wo(t)))throw TypeError("Target is not iterable");if(qo(a)){for(c=0,l=kt(t.length);l>c;c++)if((u=r?f(H(d=t[c])[0],d[1]):f(t[c]))&&u instanceof e)return u;return new e(!1)}s=a.call(t)}for(p=s.next;!(d=p.call(s)).done;)if("object"==typeof(u=Ko(s,f,d.value,r))&&u&&u instanceof e)return u;return new e(!1)}).stop=function(t){return new e(!0,t)}})),Jo=xe("iterator"),Xo=!1;try{var Zo=0,Yo={next:function(){return{done:!!Zo++}},return:function(){Xo=!0}};Yo[Jo]=function(){return this},Array.from(Yo,(function(){throw 2}))}catch(t){}var Qo,tr,er,nr=function(t,e){if(!e&&!Xo)return!1;var n=!1;try{var o={};o[Jo]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n},or=/(iphone|ipod|ipad).*applewebkit/i.test(xn),rr=x.location,ir=x.setImmediate,sr=x.clearImmediate,ar=x.process,cr=x.MessageChannel,lr=x.Dispatch,ur=0,pr={},dr=function(t){if(pr.hasOwnProperty(t)){var e=pr[t];delete pr[t],e()}},fr=function(t){return function(){dr(t)}},hr=function(t){dr(t.data)},mr=function(t){x.postMessage(t+"",rr.protocol+"//"+rr.host)};ir&&sr||(ir=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return pr[++ur]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Qo(ur),ur},sr=function(t){delete pr[t]},"process"==E(ar)?Qo=function(t){ar.nextTick(fr(t))}:lr&&lr.now?Qo=function(t){lr.now(fr(t))}:cr&&!or?(er=(tr=new cr).port2,tr.port1.onmessage=hr,Qo=Ho(er.postMessage,er,1)):!x.addEventListener||"function"!=typeof postMessage||x.importScripts||_(mr)?Qo="onreadystatechange"in F("script")?function(t){In.appendChild(F("script")).onreadystatechange=function(){In.removeChild(this),dr(t)}}:function(t){setTimeout(fr(t),0)}:(Qo=mr,x.addEventListener("message",hr,!1)));var vr,gr,yr,br,wr,xr,_r,Sr,Cr={set:ir,clear:sr},kr=q.f,Or=Cr.set,Mr=x.MutationObserver||x.WebKitMutationObserver,Tr=x.process,Er=x.Promise,Ar="process"==E(Tr),zr=kr(x,"queueMicrotask"),Pr=zr&&zr.value;Pr||(vr=function(){var t,e;for(Ar&&(t=Tr.domain)&&t.exit();gr;){e=gr.fn,gr=gr.next;try{e()}catch(t){throw gr?br():yr=void 0,t}}yr=void 0,t&&t.enter()},Ar?br=function(){Tr.nextTick(vr)}:Mr&&!or?(wr=!0,xr=document.createTextNode(""),new Mr(vr).observe(xr,{characterData:!0}),br=function(){xr.data=wr=!wr}):Er&&Er.resolve?(_r=Er.resolve(void 0),Sr=_r.then,br=function(){Sr.call(_r,vr)}):br=function(){Or.call(x,vr)});var Nr,Dr,Ir,jr,Rr=Pr||function(t){var e={fn:t,next:void 0};yr&&(yr.next=e),gr||(gr=e,br()),yr=e},Br=function(t){var e,n;this.promise=new t((function(t,o){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=o})),this.resolve=Gt(e),this.reject=Gt(n)},Vr={f:function(t){return new Br(t)}},Fr=function(t,e){if(H(t),D(e)&&e.constructor===t)return e;var n=Vr.f(t);return(0,n.resolve)(e),n.promise},Lr=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},$r=Cr.set,qr=xe("species"),Hr="Promise",Ur=vt.get,Wr=vt.set,Kr=vt.getterFor(Hr),Gr=Do,Jr=x.TypeError,Xr=x.document,Zr=x.process,Yr=wt("fetch"),Qr=Vr.f,ti=Qr,ei="process"==E(Zr),ni=!!(Xr&&Xr.createEvent&&x.dispatchEvent),oi=Ut(Hr,(function(){if(!(tt(Gr)!==String(Gr))){if(66===kn)return!0;if(!ei&&"function"!=typeof PromiseRejectionEvent)return!0}if(kn>=51&&/native code/.test(Gr))return!1;var t=Gr.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[qr]=e,!(t.then((function(){}))instanceof e)})),ri=oi||!nr((function(t){Gr.all(t).catch((function(){}))})),ii=function(t){var e;return!(!D(t)||"function"!=typeof(e=t.then))&&e},si=function(t,e,n){if(!e.notified){e.notified=!0;var o=e.reactions;Rr((function(){for(var r=e.value,i=1==e.state,s=0;o.length>s;){var a,c,l,u=o[s++],p=i?u.ok:u.fail,d=u.resolve,f=u.reject,h=u.domain;try{p?(i||(2===e.rejection&&ui(t,e),e.rejection=1),!0===p?a=r:(h&&h.enter(),a=p(r),h&&(h.exit(),l=!0)),a===u.promise?f(Jr("Promise-chain cycle")):(c=ii(a))?c.call(a,d,f):d(a)):f(r)}catch(t){h&&!l&&h.exit(),f(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&ci(t,e)}))}},ai=function(t,e,n){var o,r;ni?((o=Xr.createEvent("Event")).promise=e,o.reason=n,o.initEvent(t,!1,!0),x.dispatchEvent(o)):o={promise:e,reason:n},(r=x["on"+t])?r(o):"unhandledrejection"===t&&function(t,e){var n=x.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},ci=function(t,e){$r.call(x,(function(){var n,o=e.value;if(li(e)&&(n=Lr((function(){ei?Zr.emit("unhandledRejection",o,t):ai("unhandledrejection",t,o)})),e.rejection=ei||li(e)?2:1,n.error))throw n.value}))},li=function(t){return 1!==t.rejection&&!t.parent},ui=function(t,e){$r.call(x,(function(){ei?Zr.emit("rejectionHandled",t):ai("rejectionhandled",t,e.value)}))},pi=function(t,e,n,o){return function(r){t(e,n,r,o)}},di=function(t,e,n,o){e.done||(e.done=!0,o&&(e=o),e.value=n,e.state=2,si(t,e,!0))},fi=function(t,e,n,o){if(!e.done){e.done=!0,o&&(e=o);try{if(t===n)throw Jr("Promise can't be resolved itself");var r=ii(n);r?Rr((function(){var o={done:!1};try{r.call(n,pi(fi,t,o,e),pi(di,t,o,e))}catch(n){di(t,o,n,e)}})):(e.value=n,e.state=1,si(t,e,!1))}catch(n){di(t,{done:!1},n,e)}}};function hi(){}function mi(t){var e=new FileReader;return new Promise((function(n,o){e.onload=function(t){return n(t.target.result)},e.onerror=o,e.readAsDataURL(t)}))}oi&&(Gr=function(t){Vo(this,Gr,Hr),Gt(t),Nr.call(this);var e=Ur(this);try{t(pi(fi,this,e),pi(di,this,e))}catch(t){di(this,e,t)}},(Nr=function(t){Wr(this,{type:Hr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Io(Gr.prototype,{then:function(t,e){var n=Kr(this),o=Qr(Pe(this,Gr));return o.ok="function"!=typeof t||t,o.fail="function"==typeof e&&e,o.domain=ei?Zr.domain:void 0,n.parent=!0,n.reactions.push(o),0!=n.state&&si(this,n,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),Dr=function(){var t=new Nr,e=Ur(t);this.promise=t,this.resolve=pi(fi,t,e),this.reject=pi(di,t,e)},Vr.f=Qr=function(t){return t===Gr||t===Ir?new Dr(t):ti(t)},"function"==typeof Do&&(jr=Do.prototype.then,gt(Do.prototype,"then",(function(t,e){var n=this;return new Gr((function(t,e){jr.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Yr&&Kt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Fr(Gr,Yr.apply(x,arguments))}}))),Kt({global:!0,wrap:!0,forced:oi},{Promise:Gr}),Bo(Gr,Hr,!1),He(Hr),Ir=wt(Hr),Kt({target:Hr,stat:!0,forced:oi},{reject:function(t){var e=Qr(this);return e.reject.call(void 0,t),e.promise}}),Kt({target:Hr,stat:!0,forced:oi},{resolve:function(t){return Fr(this,t)}}),Kt({target:Hr,stat:!0,forced:ri},{all:function(t){var e=this,n=Qr(e),o=n.resolve,r=n.reject,i=Lr((function(){var n=Gt(e.resolve),i=[],s=0,a=1;Go(t,(function(t){var c=s++,l=!1;i.push(void 0),a++,n.call(e,t).then((function(t){l||(l=!0,i[c]=t,--a||o(i))}),r)})),--a||o(i)}));return i.error&&r(i.value),n.promise},race:function(t){var e=this,n=Qr(e),o=n.reject,r=Lr((function(){var r=Gt(e.resolve);Go(t,(function(t){r.call(e,t).then(n.resolve,o)}))}));return r.error&&o(r.value),n.promise}});var vi=function(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return hn.apply(this,t)},e=Jn([ho],e)}(e);function yi(t,e,n,o,r,i,s,a,c,l){"boolean"!=typeof s&&(c=a,a=s,s=!1);const u="function"==typeof n?n.options:n;let p;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),o&&(u._scopeId=o),i?(p=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=p):e&&(p=s?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),p)if(u.functional){const t=u.render;u.render=function(e,n){return p.call(n),t(e,n)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,p):[p]}return n}const bi=yi({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("default",[n("div",{staticClass:"el-tiptap-editor__menu-bar"},t._l(t.generateCommandButtonComponentSpecs(e),(function(e,o){return n(e.component,t._g(t._b({key:"command-button"+o,tag:"component"},"component",e.componentProps,!1),e.componentEvents))})),1)],null,e)]}}],null,!0)})},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.generateCommandButtonComponentSpecs=function(t){var e=this;return this.editor.extensions.extensions.reduce((function(n,o){if("function"!=typeof o.menuBtnView)return n;var r=o.menuBtnView(Gn(Gn({},t),{editor:e.editor}));return Array.isArray(r)?Yn(n,r):Yn(n,[r])}),[])},Jn([go({type:n.Editor,required:!0})],e.prototype,"editor",void 0),e=Jn([ho({components:{EditorMenuBar:n.EditorMenuBar}})],e)}(e),void 0,!1,void 0,!1,void 0,void 0,void 0);var wi=[].push,xi=function(t){var e=1==t,n=2==t,o=3==t,r=4==t,i=6==t,s=5==t||i;return function(a,c,l,u){for(var p,d,f=Jt(a),h=z(f),m=Ho(c,l,3),v=kt(h.length),g=0,y=u||wn,b=e?y(a,v):n?y(a,0):void 0;v>g;g++)if((s||g in h)&&(d=m(p=h[g],g,f),t))if(e)b[g]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return g;case 2:wi.call(b,p)}else if(r)return!1;return i?-1:o||r?r:b}},_i={forEach:xi(0),map:xi(1),filter:xi(2),some:xi(3),every:xi(4),find:xi(5),findIndex:xi(6)},Si=_i.some,Ci=Yt("some"),ki=ne("some");Kt({target:"Array",proto:!0,forced:!Ci||!ki},{some:function(t){return Si(this,t,arguments.length>1?arguments[1]:void 0)}});var Oi=/"/g,Mi=function(t,e,n,o){var r=String(P(t)),i="<"+e;return""!==n&&(i+=" "+n+'="'+String(o).replace(Oi,"&quot;")+'"'),i+">"+r+"</"+e+">"},Ti=function(t){return _((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))};function Ei(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t||!e)return!1;var n=t.parent.childAfter(t.parentOffset);if(!n.node)return!1;var o=n.node.marks.find((function(t){return t.type===e}));if(!o)return!1;for(var r=t.index(),i=t.start()+n.offset,s=r+1,a=i+n.node.nodeSize;r>0&&o.isInSet(t.parent.child(r-1).marks);)r-=1,i-=t.parent.child(r).nodeSize;for(;s<t.parent.childCount&&o.isInSet(t.parent.child(s).marks);)a+=t.parent.child(s).nodeSize,s+=1;return{from:i,to:a}}Kt({target:"String",proto:!0,forced:Ti("link")},{link:function(t){return Mi(this,"a","href",t)}});var Ai=W.f,zi=Function.prototype,Pi=zi.toString,Ni=/^\s*function ([^ (]*)/;S&&!("name"in zi)&&Ai(zi,"name",{configurable:!0,get:function(){try{return Pi.call(this).match(Ni)[1]}catch(t){return""}}});let Di={};function Ii(t,e){e?e.constructor.super.util.warn(t,e):console.error(t)}var ji={name:"fa-icon",props:{name:{type:String,validator(t){return!t||t in Di||(Ii(`Invalid prop: prop "name" is referring to an unregistered icon "${t}".\n`+"Please make sure you have imported this icon before using it.",this),!1)}},title:String,scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:t=>"horizontal"===t||"vertical"===t||"both"===t},label:String,tabindex:[Number,String]},data:()=>({id:Bi("va-"),x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}),computed:{normalizedScale(){let t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(Ii('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass(){let t={"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-flip-both":"both"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse};return this.classes&&Object.keys(this.classes).forEach(e=>{this.classes[e]&&(t[e]=!0)}),t},icon(){return this.name?Di[this.name]:null},box(){return this.icon?`0 0 ${this.icon.width} ${this.icon.height}`:`0 0 ${this.width} ${this.height}`},ratio(){if(!this.icon)return 1;let{width:t,height:e}=this.icon;return Math.max(t,e)/16},width(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw(){if(!this.icon||!this.icon.raw)return null;let t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,(t,n,o)=>{let r=Bi("vat-");return e[o]=r,` id="${r}"`}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(t,n,o,r)=>{let i=n||r;return i&&e[i]?`#${e[i]}`:t}),t},focusable(){let{tabindex:t}=this;return null==t?"false":("string"==typeof t?parseInt(t,10):t)>=0?null:"false"}},mounted(){this.updateStack()},updated(){this.updateStack()},methods:{updateStack(){if(!this.name&&null!==this.name&&0===this.$children.length)return void Ii('Invalid prop: prop "name" is required.',this);if(this.icon)return;let t=0,e=0;this.$children.forEach(n=>{n.outerScale=this.normalizedScale,t=Math.max(t,n.width),e=Math.max(e,n.height)}),this.childrenWidth=t,this.childrenHeight=e,this.$children.forEach(n=>{n.x=(t-n.width)/2,n.y=(e-n.height)/2})}},render(t){if(null===this.name)return t();let e={class:this.klass,style:this.style,attrs:{role:this.$attrs.role||(this.label||this.title?"img":null),"aria-label":this.label||null,"aria-hidden":!(this.label||this.title),tabindex:this.tabindex,x:this.x,y:this.y,width:this.width,height:this.height,viewBox:this.box,focusable:this.focusable},on:this.$listeners},n=this.id;if(this.title&&(e.attrs["aria-labelledby"]=n),this.raw){let t=`<g>${this.raw}</g>`;this.title&&(t=`<title id="${n}">${function(t){return t.replace(/[<>"&]/g,t=>Vi[t]||t)}(this.title)}</title>${t}`),e.domProps={innerHTML:t}}let o=this.title?[t("title",{attrs:{id:n}},this.title)]:[];return t("svg",e,this.raw?null:o.concat([t("g",this.$slots.default||(this.icon?[...this.icon.paths.map((e,n)=>t("path",{attrs:e,key:`path-${n}`})),...this.icon.polygons.map((e,n)=>t("polygon",{attrs:e,key:`polygon-${n}`}))]:[]))]))},register(t){for(let e in t){let n=t[e],{paths:o=[],d:r,polygons:i=[],points:s}=n;r&&o.push({d:r}),s&&i.push({points:s}),Di[e]=Ri({},n,{paths:o,polygons:i})}},icons:Di};function Ri(t,...e){return e.forEach(e=>{for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function Bi(t=""){return t+function(t){t=t||21;for(var e="";t--;)e+="sOwnPropMN49CEiq-hXvHJdSymlFURTag61GQfuD8YIWz2Zk5xKB7LV30_Abject"[64*Math.random()|0];return e}(7)}const Vi={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};const Fi=yi({},void 0,ji,void 0,void 0,void 0,!1,void 0,void 0,void 0);var Li;Fi.register({heading:{width:512,height:512,paths:[{d:"M448 96v320h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-160c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32v-128h-192v128h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-160c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32v-320h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32v128h192v-128h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32z"}]}}),Fi.register({font:{width:448,height:512,paths:[{d:"M432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h19.6l-23.3-64h-152.6l-23.3 64h19.6c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h23.4l130.7-362.3c4.1-12 17.6-21.7 30.3-21.7h0 47.2 0c12.6 0 26.2 9.7 30.3 21.7l130.7 362.3h23.4zM176.8 272h94.3l-47.2-129.5z"}]}}),Fi.register({highlighter:{width:544,height:512,paths:[{d:"M0 480l68.3-70.5 67 67-35.5 35.5zM124.6 240l41.5-35.4 173.3 173.3-35.5 41.6c-9.5 10.8-24.4 15-38.2 10.8l-42.7-13.1-50.9 50.9-96.2-96.2 50.9-50.9-13-42.8c-0.9-2.9-1.6-7.7-1.6-10.7 0-9.1 5.5-21.4 12.4-27.4zM527.9 79.3c20.5 20.5 21.5 53.4 2.3 75.1l-169.9 199.1-169.8-169.8 199.1-170c21.7-19.2 54.6-18.1 75.1 2.4z"}]}}),Fi.register({bold:{width:384,height:512,paths:[{d:"M333.5 238c34.4 27.5 55.6 71.2 50.8 119.6-6.9 70.7-70.2 122.4-141 122.4h-209.3c-8.8 0-16-7.2-16-16v-48c0-8.8 7.2-16 16-16h31.9v-288h-31.9c-8.8 0-16-7.2-16-16v-48c0-8.8 7.2-16 16-16h199.4c74.6 0 134.4 64.5 127.1 140.8-2 20.3-14.1 49.5-27 65.2zM145.7 112v96h87.8c26.5 0 48-21.5 48-48s-21.5-48-48-48h-87.8zM233.4 400c30.9 0 56-25.1 56-56s-25.1-56-56-56h-87.8v112h87.8z"}]}}),Fi.register({underline:{width:448,height:512,paths:[{d:"M32 64c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h144c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32v160c0 44.2 35.8 80 80 80s80-35.8 80-80v-160h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h144c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32v160c0 88.2-71.8 160-160 160s-160-71.8-160-160v-160h-32zM432 448c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Fi.register({italic:{width:320,height:512,paths:[{d:"M320 48v32c0 8.8-7.2 16-16 16h-62.8l-80 320h46.8c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-192c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h62.8l80-320h-46.8c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16z"}]}}),Fi.register({strikethrough:{width:512,height:512,paths:[{d:"M496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-480c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h102.3c-11.7-16.5-19.8-35.5-21.8-56.4-0.3-3.3-0.6-8.7-0.6-12 0-68.2 55.4-123.6 123.6-123.7h68 0c43.7 0 95 31.7 114.5 70.8l0.5 1c0.9 1.9 1.7 5.1 1.7 7.1 0 5.5-4 11.9-8.8 14.3l-42.9 21.5c-1.9 0.9-5.1 1.7-7.2 1.7-5.5 0-11.9-4-14.3-8.8-7.6-15.2-27.6-27.6-44.6-27.6h0-66.8c-24 0-43.5 19.5-43.5 43.5 0 17.7 13.8 36.4 30.7 41.6l87.2 26.8h202.1zM315.8 320h94.4c2.2 6.6 4.6 17.5 5.3 24.4 0.3 3.3 0.6 8.7 0.6 12 0 68.2-55.4 123.6-123.6 123.7h-68 0c-43.7 0-95-31.7-114.5-70.8l-0.5-1c-0.9-1.9-1.7-5.1-1.7-7.1 0-5.5 4-11.9 8.8-14.3l42.9-21.5c1.9-0.9 5.1-1.7 7.2-1.7 5.5 0 11.9 4 14.3 8.8 7.6 15.2 27.6 27.6 44.6 27.6h0 66.8c24 0 43.5-19.5 43.5-43.5 0-13.2-9.1-29.5-20.2-36.5z"}]}}),Fi.register({link:{width:512,height:512,paths:[{d:"M326.6 185.4c59.7 59.8 58.9 155.7 0.4 214.6-0.1 0.1-0.2 0.3-0.4 0.4l-67.2 67.2c-59.3 59.3-155.7 59.3-215 0-59.3-59.3-59.3-155.7 0-215l37.1-37.1c9.8-9.8 26.8-3.3 27.3 10.6 0.6 17.7 3.8 35.5 9.7 52.7 2 5.8 0.6 12.3-3.8 16.6l-13.1 13.1c-28 28-28.9 73.7-1.2 102 28 28.6 74.1 28.7 102.3 0.5l67.2-67.2c28.2-28.2 28.1-73.8 0-101.8-3.7-3.7-7.4-6.6-10.3-8.6-3.7-2.5-6.8-8.2-6.9-12.6-0.4-10.6 3.3-21.5 11.7-29.8l21.1-21.1c5.5-5.5 14.2-6.2 20.6-1.7 6.1 4.2 15.3 12 20.5 17.2zM467.5 44.4c59.3 59.3 59.3 155.7 0 215l-37.1 37.1c-9.8 9.8-26.8 3.3-27.3-10.6-0.6-17.7-3.8-35.5-9.7-52.7-2-5.8-0.6-12.3 3.8-16.6l13.1-13.1c28-28 28.9-73.7 1.2-102-28-28.6-74.1-28.7-102.3-0.5l-67.2 67.2c-28.2 28.2-28.1 73.8 0 101.8 3.7 3.7 7.4 6.6 10.3 8.6 3.7 2.5 6.8 8.2 6.9 12.6 0.4 10.6-3.3 21.5-11.7 29.8l-21.1 21.1c-5.5 5.5-14.2 6.2-20.6 1.7-6.1-4.2-15.3-12-20.5-17.2-59.7-59.8-58.9-155.7-0.4-214.6 0.1-0.1 0.2-0.3 0.4-0.4l67.2-67.2c59.3-59.3 155.7-59.3 215 0z"}]}}),Fi.register({edit:{width:576,height:512,paths:[{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8l-218.4 218.4-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8 218.4-218.4c3.8-3.8 10-3.8 13.8 0zM564.6 60.3c15.2 15.2 15.2 39.9 0 55.2l-35.4 35.4c-3.8 3.8-10 3.8-13.8 0l-90.2-90.2c-3.8-3.8-3.8-10 0-13.8l35.4-35.4c15.3-15.2 40-15.2 55.2 0zM384 346.2c0-3.2 1.3-6.2 3.5-8.5l40-40c7.6-7.5 20.5-2.2 20.5 8.5v157.8c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h285.8c10.7 0 16.1 12.9 8.5 20.5l-40 40c-2.3 2.2-5.3 3.5-8.5 3.5h-229.8v320h320v-101.8z"}]}}),Fi.register({unlink:{width:512,height:512,paths:[{d:"M304.1 405.9c4.7 4.7 4.7 12.3 0 17l-44.7 44.7c-59.3 59.3-155.7 59.3-215 0-59.3-59.3-59.3-155.7 0-215l44.7-44.7c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17l-44.7 44.7c-28.1 28.1-28.1 73.8 0 101.8 28.1 28.1 73.8 28.1 101.8 0l44.7-44.7c4.7-4.7 12.3-4.7 17 0zM247.5 145.7l-39.6-39.6c-4.7-4.7-4.7-12.3 0-17l44.7-44.7c59.3-59.3 155.7-59.3 215 0s59.3 155.7 0 215l-44.7 44.7c-4.7 4.7-12.3 4.7-17 0l-39.6-39.6c-4.7-4.7-4.7-12.3 0-17l44.7-44.7c28.1-28.1 28.1-73.8 0-101.8-28.1-28.1-73.8-28.1-101.8 0l-44.7 44.7c-4.7 4.7-12.3 4.7-17 0zM482.3 505c-9.4 9.4-24.6 9.4-33.9 0l-441.4-441.4c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l441.4 441.4c9.4 9.4 9.4 24.6 0 33.9z"}]}}),Fi.register({"external-link-alt":{width:512,height:512,paths:[{d:"M432 320c8.8 0 16 7.2 16 16v128c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-144v320h320v-112c0-8.8 7.2-16 16-16h32zM488 0c13.2 0 24 10.8 24 24v128c0 21.5-26 32-41 17l-35.7-35.7-243.6 243.7c-3.9 3.9-11.5 7.1-17 7.1s-13.1-3.2-17-7.1l-22.7-22.6c-3.9-3.9-7.1-11.5-7.1-17s3.2-13.1 7.1-17l243.7-243.6-35.7-35.7c-15-15.1-4.4-41 17-41h128z"}]}}),Fi.register({image:{width:512,height:512,paths:[{d:"M464 448h-416c-26.5 0-48-21.5-48-48v-288c0-26.5 21.5-48 48-48h416c26.5 0 48 21.5 48 48v288c0 26.5-21.5 48-48 48zM112 120c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56zM64 384h384v-112l-87.5-87.5c-4.7-4.7-12.3-4.7-17 0l-135.5 135.5-55.5-55.5c-4.7-4.7-12.3-4.7-17 0l-71.5 71.5v48z"}]}}),Fi.register({video:{width:576,height:512,paths:[{d:"M336.2 64c26.4 0 47.8 21.4 47.8 47.8v288.4c0 26.4-21.4 47.8-47.8 47.8h-288.4c-26.4 0-47.8-21.4-47.8-47.8v-288.4c0-26.4 21.4-47.8 47.8-47.8h288.4zM525.6 101.7c21.3-14.6 50.4 0.4 50.4 25.8v256.9c0 25.5-29.2 40.4-50.4 25.8l-109.6-75.5v-157.4z"}]}}),Fi.register({code:{width:640,height:512,paths:[{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9l136.5-470.2c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9l-136.5 470.2c-1.9 6.4-8.5 10.1-14.9 8.2zM164.9 399.3c-4.5 4.9-12.1 5.1-17 0.5l-144.1-135.1c-5.1-4.7-5.1-12.8 0-17.5l144.1-135c4.9-4.6 12.5-4.3 17 0.5l43.5 46.4c4.7 4.9 4.3 12.7-0.8 17.2l-90.6 79.7 90.6 79.7c5.1 4.5 5.4 12.3 0.8 17.2zM492.1 399.9c-4.9 4.5-12.5 4.3-17-0.6l-43.5-46.4c-4.7-4.9-4.3-12.7 0.8-17.2l90.6-79.7-90.6-79.8c-5.1-4.5-5.4-12.3-0.8-17.2l43.5-46.4c4.6-4.8 12.2-5 17-0.5l144.1 135.2c5.1 4.7 5.1 12.8 0 17.5z"}]}}),Fi.register({"quote-right":{width:512,height:512,paths:[{d:"M464 32c26.5 0 48 21.5 48 48v240c0 88.4-71.6 160-160 160h-8c-13.3 0-24-10.7-24-24v-48c0-13.3 10.7-24 24-24h8c35.3 0 64-28.7 64-64v-64h-80c-26.5 0-48-21.5-48-48v-128c0-26.5 21.5-48 48-48h128zM176 32c26.5 0 48 21.5 48 48v240c0 88.4-71.6 160-160 160h-8c-13.3 0-24-10.7-24-24v-48c0-13.3 10.7-24 24-24h8c35.3 0 64-28.7 64-64v-64h-80c-26.5 0-48-21.5-48-48v-128c0-26.5 21.5-48 48-48h128z"}]}}),Fi.register({"align-left":{width:448,height:512,paths:[{d:"M12.8 352c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3 0c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3zM12.8 96c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3 0c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3zM432 160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Fi.register({"align-center":{width:448,height:512,paths:[{d:"M432 160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM108.1 96c-6.7 0-12.1-5.4-12.1-12.1v-39.8c0-6.7 5.4-12.1 12.1-12.1h0 231.8c6.7 0 12.1 5.4 12.1 12.1v39.8 0c0 6.7-5.4 12.1-12.1 12.1v0h-231.8zM339.9 352h-231.8c-6.7 0-12.1-5.4-12.1-12.1v-39.8c0-6.7 5.4-12.1 12.1-12.1h0 231.8c6.7 0 12.1 5.4 12.1 12.1v39.8 0c0 6.7-5.4 12.1-12.1 12.1v0z"}]}}),Fi.register({"align-right":{width:448,height:512,paths:[{d:"M16 224c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM435.2 32c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3zM435.2 288c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3z"}]}}),Fi.register({"align-justify":{width:448,height:512,paths:[{d:"M432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 288c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Fi.register({"text-height":{width:576,height:512,paths:[{d:"M304 32c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32h-56v304h40c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-160c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h40v-304h-56v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-96c0-8.8 7.2-16 16-16h288zM560 368c15.6 0 20.6 18 11.3 27.3l-80 80c-2.6 2.6-7.7 4.7-11.3 4.7s-8.7-2.1-11.3-4.7l-80-80c-10-10-3-27.3 11.3-27.3h48v-224h-48c-15.6 0-20.6-18-11.3-27.3l80-80c2.6-2.6 7.7-4.7 11.3-4.7s8.7 2.1 11.3 4.7l80 80c10 10 3 27.3-11.3 27.3h-48v224h48z"}]}}),Fi.register({"list-ul":{width:512,height:512,paths:[{d:"M48 48c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM48 208c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM48 368c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM496 384c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 64c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320z"}]}}),Fi.register({"list-ol":{width:512,height:512,paths:[{d:"M61.8 401c19.6 5.1 28.7 20.5 28.7 34.9 0 21.4-14.3 44.1-48.5 44.1-16.6 0-29.3-4.8-37-9.4-5.8-4.2-6.3-9.8-2.6-15.9l5.6-9.3c3.9-6.6 9.1-7 15.6-3.1 4.1 1.7 11 3.1 15.5 3.1 10.2 0 14.4-3.5 14.4-8.2 0-6.6-5.6-9.1-15.9-9.1h-4.7c-6 0-9.3-2.1-12.3-7.9l-1-1.9c-2.5-4.8-1.2-9.8 2.8-14.9l5.6-7c2.9-3.6 7.8-9.1 11-12.3h-22.8c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h57c7.5 0 11.3 4 11.3 11.3v3.3c0 0.2 0 0.6 0 0.9 0 4.2-2.3 10.2-5.1 13.3zM496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 64c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 384c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM16 160c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h16v-64h-8c-4.4 0-8-3.6-8-8 0-1 0.4-2.6 0.8-3.6l8-16c1.2-2.4 4.4-4.4 7.1-4.4h24c4.4 0 8 3.6 8 8v88h16c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-64zM12.1 320c-7 0-12.1-4-12.1-11.4v-4c0-47.3 51-56.4 51-69.1 0-7.2-6-8.8-9.3-8.8h-0.1c-3 0-7.2 1.7-9.4 3.8-5.1 4.9-10.5 7-16.1 2.4l-8.6-6.9c-5.8-4.5-7.2-9.8-2.8-15.4 6.7-8.8 19.1-18.8 40.5-18.8 19.5 0 44.5 10.5 44.5 39.6 0 37.8-45 46.2-48.3 56.4h38.7c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-67.9z"}]}}),Fi.register({tasks:{width:512,height:512,paths:[{d:"M139.6 35.5l17 16.5c1.9 1.9 3.4 5.7 3.4 8.5 0 2.8-1.6 6.6-3.5 8.5l-72.2 72.2-15.6 15.6c-2 1.9-6 3.5-8.8 3.5-2.8 0-6.8-1.6-8.8-3.5l-47.6-47.4c-1.9-1.9-3.5-5.8-3.5-8.5 0-2.8 1.6-6.6 3.5-8.5l15.7-15.7c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5l22.7 22.1 63.7-63.3c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5zM139.6 194.7l17 17c1.9 1.9 3.4 5.7 3.4 8.4 0 2.7-1.6 6.6-3.5 8.5l-72.2 72.2-15.7 15.7c-2 1.9-6 3.5-8.8 3.5s-6.8-1.6-8.8-3.5l-47.5-47.5c-1.9-1.9-3.5-5.7-3.5-8.5s1.6-6.6 3.5-8.5l15.7-15.7c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5l22.7 22.1 63.7-63.7c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5zM64 368c26.5 0 48 21.5 48 48s-21.5 48-48 48c-26.5 0-48.6-21.5-48.6-48s22.1-48 48.6-48zM496 384c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-288c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h288zM496 64c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-288c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h288zM496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-288c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h288z"}]}}),Fi.register({indent:{width:448,height:512,paths:[{d:"M27.3 363.3c-10 10-27.3 3-27.3-11.3v-192c0-14.2 17.3-21.3 27.3-11.3l96 96c2.6 2.6 4.7 7.7 4.7 11.3 0 3.7-2.1 8.7-4.7 11.3zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM435.2 288c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM435.2 160c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Fi.register({outdent:{width:448,height:512,paths:[{d:"M100.7 363.3l-96-96c-2.6-2.6-4.7-7.7-4.7-11.3s2.1-8.7 4.7-11.3l96-96c10-10 27.3-3 27.3 11.3v192c0 14.2-17.3 21.3-27.3 11.3zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM435.2 288c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM435.2 160c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Fi.register({minus:{width:448,height:512,paths:[{d:"M416 208c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32h-384c-17.7 0-32-14.3-32-32v-32c0-17.7 14.3-32 32-32h384z"}]}}),Fi.register({table:{width:512,height:512,paths:[{d:"M464 32c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48h-416c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h416zM224 416v-96h-160v96h160zM224 256v-96h-160v96h160zM448 416v-96h-160v96h160zM448 256v-96h-160v96h160z"}]}}),Fi.register({"remove-format":{width:640,height:512,paths:[{d:"M336 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32.5l26.5-79.6 67.1 51.8-9.3 27.8h11.2zM633.8 458.1c3.4 2.7 6.2 8.3 6.2 12.6 0 3-1.5 7.4-3.4 9.8l-19.6 25.3c-2.7 3.4-8.3 6.2-12.6 6.2-3 0-7.4-1.5-9.8-3.4l-588.4-454.7c-3.4-2.7-6.2-8.3-6.2-12.6 0-3 1.5-7.4 3.4-9.8l19.6-25.3c2.7-3.4 8.3-6.2 12.6-6.2 3 0 7.4 1.5 9.8 3.4l114.5 88.5v-43.9c0-8.8 7.2-16 16-16h416c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32h-117.8l-49.2 147.6zM309.9 207.8l31.9-95.8h-117.8v29.4z"}]}}),Fi.register({undo:{width:512,height:512,paths:[{d:"M212.3 224.3h-200.3c-6.6 0-12-5.4-12-12v-200.3c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v78.1c45.8-50.8 112.3-82.6 186.2-82.1 136.9 1 246.4 111.6 246.2 248.5-0.3 136.7-111.2 247.5-248 247.5-64.1 0-122.5-24.3-166.5-64.2-5.1-4.6-5.3-12.6-0.5-17.4l34-34c4.5-4.5 11.7-4.7 16.4-0.5 31 27.5 71.9 44.1 116.6 44.1 97.3 0 176-78.7 176-176 0-97.3-78.7-176-176-176-58.5 0-110.3 28.5-142.3 72.3h98.3c6.6 0 12 5.4 12 12v48c0 6.6-5.4 12-12 12z"}]}}),Fi.register({redo:{width:512,height:512,paths:[{d:"M500.3 0c6.6 0 12 5.4 12 12v200.3c0 6.6-5.4 12-12 12h-200.3c-6.6 0-12-5.4-12-12v-47.4 0c0-6.6 5.4-12 12-12 0.2 0 0.4 0 0.6 0l101.5 4.9c-28.9-43-94.3-77.8-146.1-77.8-97.2 0-176 78.8-176 176 0 97.2 78.8 176 176 176 36.7 0 88.7-19.7 116.3-43.9 1.9-1.6 5.4-3 7.9-3 2.7 0 6.5 1.6 8.5 3.5l34 34c1.9 1.9 3.5 5.7 3.5 8.5 0 3-1.8 7-4 8.9-39 35.3-113.3 63.9-165.8 63.9h-0.3c-136.9 0-247.9-110.9-248-247.8-0.1-136.7 111.3-248.2 248-248.2h0.3c63.2 0 147.7 39.1 188.6 87.3l-4-82.8c0-0.2 0-0.4 0-0.6 0-6.6 5.4-12 12-12h0 47.4z"}]}}),Fi.register({expand:{width:448,height:512,paths:[{d:"M0 180v-124c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-84v84c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12zM288 44c0-6.6 5.4-12 12-12h124c13.3 0 24 10.7 24 24v124c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-84h-84c-6.6 0-12-5.4-12-12v-40zM436 320c6.6 0 12 5.4 12 12v124c0 13.3-10.7 24-24 24h-124c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84v-84c0-6.6 5.4-12 12-12h40zM160 468c0 6.6-5.4 12-12 12h-124c-13.3 0-24-10.7-24-24v-124c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40z"}]}}),Fi.register({compress:{width:448,height:512,paths:[{d:"M436 192h-124c-13.3 0-24-10.7-24-24v-124c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zM160 168c0 13.3-10.7 24-24 24h-124c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84v-84c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v124zM160 468c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-84h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h124c13.3 0 24 10.7 24 24v124zM352 468c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-124c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-84v84z"}]}}),Fi.register({print:{width:512,height:512,paths:[{d:"M448 192c35.3 0 64 28.7 64 64v112c0 8.8-7.2 16-16 16h-48v96c0 17.7-14.3 32-32 32h-320c-17.7 0-32-14.3-32-32v-96h-48c-8.8 0-16-7.2-16-16v-112c0-35.3 28.7-64 64-64v-160c0-17.7 14.3-32 32-32h274.7c8.5 0 16.6 3.4 22.6 9.4l45.3 45.3c6 6 9.4 14.1 9.4 22.6v114.8zM384 448v-96h-256v96h256zM384 224v-96h-48c-8.8 0-16-7.2-16-16v-48h-192v160h256zM432 296c13.3 0 24-10.8 24-24 0-13.3-10.8-24-24-24s-24 10.7-24 24c0 13.3 10.8 24 24 24z"}]}}),Fi.register({eye:{width:576,height:512,paths:[{d:"M572.5 241.4c1.9 3.8 3.5 10.3 3.5 14.6s-1.6 10.8-3.5 14.6c-54.2 105.8-161.6 177.4-284.5 177.4s-230.3-71.6-284.5-177.4c-1.9-3.8-3.5-10.3-3.5-14.6s1.6-10.8 3.5-14.6c54.2-105.8 161.6-177.4 284.5-177.4s230.3 71.6 284.5 177.4zM288 400h0.1c79.4 0 143.9-64.5 143.9-143.9v-0.1c0-79.5-64.5-144-144-144s-144 64.5-144 144 64.5 144 144 144zM288 160h0.2c52.9 0 95.8 42.9 95.8 95.8 0 52.9-42.9 95.8-95.8 95.8-52.9 0-95.8-42.9-95.8-95.8 0-7 1.5-18.3 3.3-25.1 7 5.1 19.7 9.3 28.4 9.3 26.4 0 47.8-21.4 47.8-47.8 0-8.7-4.2-21.4-9.3-28.4 6.8-2 18.2-3.7 25.3-3.8z"}]}}),Fi.register({"regular/object-group":{width:512,height:512,paths:[{d:"M500 128h-12v256h12c6.6 0 12 5.4 12 12v72c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-12h-320v12c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-72c0-6.6 5.4-12 12-12h12v-256h-12c-6.6 0-12-5.4-12-12v-72c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v12h320v-12c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v72c0 6.6-5.4 12-12 12zM448 64v32h32v-32h-32zM32 64v32h32v-32h-32zM64 448v-32h-32v32h32zM480 448v-32h-32v32h32zM440 384v-256h-12c-6.6 0-12-5.4-12-12v-12h-320v12c0 6.6-5.4 12-12 12h-12v256h12c6.6 0 12 5.4 12 12v12h320v-12c0-6.6 5.4-12 12-12h12zM404 192c6.6 0 12 5.4 12 12v168c0 6.6-5.4 12-12 12h-200c-6.6 0-12-5.4-12-12v-52h-84c-6.6 0-12-5.4-12-12v-168c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v52h84zM136 168v112h144v-112h-144zM376 344v-112h-56v76c0 6.6-5.4 12-12 12h-76v24h144z"}]}});const $i=yi({render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-tooltip",{attrs:{content:this.tooltip,"open-delay":350,transition:"el-zoom-in-bottom",effect:"dark",placement:"top"}},[e("div",{class:this.commandButtonClass,on:{mousedown:function(t){t.preventDefault()},click:this.command}},[e("v-icon",{attrs:{name:this.icon}})],1)])},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"commandButtonClass",{get:function(){return{"el-tiptap-editor__command-button":!0,"el-tiptap-editor__command-button--active":this.isActive}},enumerable:!0,configurable:!0}),Jn([go({type:String,required:!0})],e.prototype,"icon",void 0),Jn([go({type:Boolean,default:!1})],e.prototype,"isActive",void 0),Jn([go({type:String,required:!0})],e.prototype,"tooltip",void 0),Jn([go({type:Function,default:hi})],e.prototype,"command",void 0),e=Jn([ho({components:(Li={"v-icon":Fi},Li[s.name]=s,Li)})],e)}(e),void 0,!1,void 0,!1,void 0,void 0,void 0);const qi=yi({render:function(){var t=this.$createElement;return(this._self._c||t)("command-button",{attrs:{command:this.openLink,tooltip:this.t("editor.extensions.Link.open.tooltip"),icon:"external-link-alt"}})},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.openLink=function(){this.url&&window.open(this.url)},Jn([go({type:String,required:!0})],e.prototype,"url",void 0),e=Jn([ho({components:{CommandButton:$i}})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);const Hi=yi({render:function(){var t=this.$createElement;return(this._self._c||t)("command-button",{attrs:{command:this.openApplyLinkControl,tooltip:this.t("editor.extensions.Link.edit.tooltip"),icon:"edit"}})},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.openApplyLinkControl=function(){var t=this;a.prompt("",this.t("editor.extensions.Link.edit.control.title"),{confirmButtonText:this.t("editor.extensions.Link.edit.control.confirm"),cancelButtonText:this.t("editor.extensions.Link.edit.control.cancel"),inputPlaceholder:this.t("editor.extensions.Link.edit.control.placeholder"),inputValue:this.initUrl,roundButton:!0}).then((function(e){var n=e.value;t.editorContext.commands.link({href:n})})).catch((function(){}))},Jn([go({type:Object,required:!0})],e.prototype,"editorContext",void 0),Jn([go({type:String,required:!0})],e.prototype,"initUrl",void 0),e=Jn([ho({components:{CommandButton:$i}})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);const Ui=yi({render:function(){var t=this.$createElement;return(this._self._c||t)("command-button",{attrs:{command:this.editorContext.commands.unlink,tooltip:this.t("editor.extensions.Link.unlink.tooltip"),icon:"unlink"}})},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Jn([go({type:Object,required:!0})],e.prototype,"editorContext",void 0),e=Jn([ho({components:{CommandButton:$i}})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);const Wi=yi({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"link-bubble-menu"},[e("open-link-command-button",{attrs:{url:this.url}}),this._v(" "),e("edit-link-command-button",{attrs:{"editor-context":this.editorContext,"init-url":this.url}}),this._v(" "),e("unlink-command-button",{attrs:{"editor-context":this.editorContext}})],1)},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"url",{get:function(){return(0,this.editorContext.getMarkAttrs)("link").href},enumerable:!0,configurable:!0}),Jn([go({type:Object,required:!0})],e.prototype,"editorContext",void 0),e=Jn([ho({components:{OpenLinkCommandButton:qi,EditLinkCommandButton:Hi,UnlinkCommandButton:Ui}})],e)}(e),void 0,!1,void 0,!1,void 0,void 0,void 0);const Ki=yi({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("editor-menu-bubble",{attrs:{editor:t.editor,"keep-in-bounds":!1},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"el-tiptap-editor__menu-bubble",class:{"el-tiptap-editor__menu-bubble--active":e.menu.isActive&&(t.showLinkMenu||t.showTextMenu)},style:"\n      left: "+e.menu.left+"px;\n      bottom: "+(e.menu.bottom+10)+"px;\n    "},[t.showLinkMenu?n("link-bubble-menu",{attrs:{editorContext:e}}):t.showTextMenu?t._l(t.generateCommandButtonComponentSpecs(e),(function(e,o){return n(e.component,t._g(t._b({key:"command-button"+o,tag:"component"},"component",e.componentProps,!1),e.componentEvents))})):t._e()],2)]}}])})},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"showLinkMenu",{get:function(){var t=this.editor,e=t.state,n=t.schema;if(n.marks.link){var o=e.tr.selection;if(!o)return!1;var r=o.$from,i=o.$to,s=Ei(r,n.marks.link);return!!s&&s.to===i.pos}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTextMenu",{get:function(){return this.editor.state.selection instanceof r.TextSelection&&this.editor.extensions.extensions.some((function(t){return t.options.bubble}))},enumerable:!0,configurable:!0}),e.prototype.generateCommandButtonComponentSpecs=function(t){var e=this;return this.editor.extensions.extensions.reduce((function(n,o){if(!o.options.bubble)return n;if("function"!=typeof o.menuBtnView)return n;var r=o.menuBtnView(Gn(Gn({},t),{editor:e.editor}));return Array.isArray(r)?Yn(n,r):Yn(n,[r])}),[])},Jn([go({type:n.Editor,required:!0})],e.prototype,"editor",void 0),e=Jn([ho({components:{EditorMenuBubble:n.EditorMenuBubble,LinkBubbleMenu:Wi}})],e)}(e),void 0,!1,void 0,!1,void 0,void 0,void 0);var Gi=["transaction","focus","blur","paste","drop"];const Ji=yi({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.editor?n("div",{staticClass:"el-tiptap-editor"},[n("menu-bubble",{attrs:{editor:t.editor}}),t._v(" "),n("menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([t.$scopedSlots.menubar?{key:"default",fn:function(e){return[t._t("menubar",null,null,e)]}}:null],null,!0)}),t._v(" "),n("editor-content",{staticClass:"el-tiptap-editor__content",attrs:{editor:t.editor}}),t._v(" "),t._t("footer",[n("div",{staticClass:"el-tiptap-editor__footer"},[n("span",{staticClass:"el-tiptap-editor__characters"},[t._v("\n        "+t._s(t.t("editor.characters"))+": "+t._s(t.characters)+"\n      ")])])],{editor:t.editor})],2):t._e()},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editor=null,e.emitAfterOnUpdate=!1,e}var r,i;return Kn(e,t),Object.defineProperty(e.prototype,"characters",{get:function(){return this.editor?this.editor.state.doc.textContent.length:0},enumerable:!0,configurable:!0}),e.prototype.onContentChange=function(t){this.emitAfterOnUpdate?this.emitAfterOnUpdate=!1:this.editor&&this.editor.setContent(t)},e.prototype.onReadonlyChange=function(){this.editor&&this.editor.setOptions({editable:!this.readonly})},e.prototype.mounted=function(){var t=this,e=this.generateExtensions(),o=Gi.reduce((function(e,n){var o;return Gn(Gn({},e),((o={})["on"+vi(n)]=function(){return t.emitEvent.bind(t)(n)},o))}),{});this.editor=new n.Editor(Gn(Gn({editable:!this.readonly,useBuiltInExtensions:!1,extensions:e,content:this.content},o),{onUpdate:this.onUpdate.bind(this)})),this.$emit(this.genEvent("init"),{editor:this.editor})},e.prototype.beforeDestroy=function(){this.editor&&this.editor.destroy()},e.prototype.generateExtensions=function(){var t=[],e=null==this.spellcheck?!this.$elementTiptapPlugin||this.$elementTiptapPlugin.spellcheck:this.spellcheck;return t=(t=t.concat(new _o({spellcheck:e}))).concat(Yn(this.extensions)),this.placeholder&&t.push(new o.Placeholder({emptyEditorClass:"el-tiptap-editor--empty",emptyNodeClass:"el-tiptap-editor__placeholder",emptyNodeText:this.placeholder})),t},e.prototype.emitEvent=function(t){this.$emit(this.genEvent(t),{editor:this.editor})},e.prototype.onUpdate=function(t){var e;this.emitAfterOnUpdate=!0,e="html"===this.output?t.getHTML():JSON.stringify(t.getJSON()),this.$emit(this.genEvent("update"),e,t)},e.prototype.genEvent=function(t){return"on"+vi(t)},Jn([go({type:Array,default:function(){return[]}})],e.prototype,"extensions",void 0),Jn([(r="onUpdate",i={type:String,default:""},void 0===i&&(i={}),function(t,e){vo(i,t,e),so((function(t,e){(t.props||(t.props={}))[e]=i,t.model={prop:e,event:r||e}}))(t,e)})],e.prototype,"content",void 0),Jn([go({type:String,default:""})],e.prototype,"placeholder",void 0),Jn([go({type:String,default:"html",validator:function(t){return["html","json"].includes(t)}})],e.prototype,"output",void 0),Jn([go({type:Boolean,default:!1})],e.prototype,"readonly",void 0),Jn([go({type:Boolean,default:void 0})],e.prototype,"spellcheck",void 0),Jn([yo("content")],e.prototype,"onContentChange",null),Jn([yo("readonly")],e.prototype,"onReadonlyChange",null),e=Jn([ho({components:{MenuBar:bi,MenuBubble:Ki,EditorContent:n.EditorContent}})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);var Xi="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",Zi="["+Xi+"]",Yi=RegExp("^"+Zi+Zi+"*"),Qi=RegExp(Zi+Zi+"*$"),ts=function(t){return function(e){var n=String(P(e));return 1&t&&(n=n.replace(Yi,"")),2&t&&(n=n.replace(Qi,"")),n}},es={start:ts(1),end:ts(2),trim:ts(3)},ns=es.trim,rs=x.parseInt,is=/^[+-]?0[Xx]/,ss=8!==rs(Xi+"08")||22!==rs(Xi+"0x16")?function(t,e){var n=ns(String(t));return rs(n,e>>>0||(is.test(n)?16:10))}:rs;Kt({global:!0,forced:parseInt!=ss},{parseInt:ss});var as=_i.forEach,cs=Yt("forEach"),ls=ne("forEach"),us=cs&&ls?[].forEach:function(t){return as(this,t,arguments.length>1?arguments[1]:void 0)};Kt({target:"Array",proto:!0,forced:[].forEach!=us},{forEach:us});var ps=es.trim,ds=x.parseFloat,fs=1/ds(Xi+"-0")!=-1/0?function(t){var e=ps(String(t)),n=ds(e);return 0===n&&"-"==e.charAt(0)?-0:n}:ds;Kt({global:!0,forced:parseFloat!=fs},{parseFloat:fs});var hs=["paragraph","heading","list_item","todo_item"],ms=/^\d+(.\d+)?$/;function vs(t){if(!t)return"";var e=String(t);if(ms.test(e)){var n=parseFloat(e);e=String(Math.round(100*n))+"%"}return 1.7*parseFloat(e)+"%"}function gs(t,e){var n=t.selection,o=t.doc;if(!n||!o)return t;if(!(n instanceof r.TextSelection||n instanceof r.AllSelection))return t;var i=n.from,s=n.to,a=[],c=e&&"100%"!==e?e:null;return o.nodesBetween(i,s,(function(t,e){var n=t.type;return!hs.includes(n.name)||((t.attrs.lineHeight||null)!==c&&a.push({node:t,pos:e,nodeType:n}),"list_item"!==n.name&&"todo_item"!==n.name)})),a.length?(a.forEach((function(e){var n=e.node,o=e.pos,r=e.nodeType,i=n.attrs;i=Gn(Gn({},i),{lineHeight:c}),t=t.setNodeMarkup(o,r,i,n.marks)})),t):t}var ys={attrs:{textAlign:{default:null},indent:{default:null},lineHeight:{default:null}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:bs}],toDOM:ws};function bs(t){var e=t.style,n=e.textAlign,o=e.lineHeight,r=t.getAttribute("data-text-align")||n||"";return{textAlign:r=un.test(r)?r:null,indent:parseInt(t.getAttribute("data-indent"),10)||0,lineHeight:o=o&&o!==vs(1.7)?o:null}}function ws(t){var e=t.attrs,n=e.textAlign,o=e.indent,r=e.lineHeight,i="",s={};(n&&"left"!==n&&(s["data-text-align"]=n),o&&(s["data-indent"]=o),r)&&(i+="line-height: "+vs(r)+";");return i&&(s.style=i),["p",s,0]}var xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"schema",{get:function(){return ys},enumerable:!0,configurable:!0}),e}(n.Paragraph),_s=ws,Ss=bs,Cs=_i.map,ks=Mn("map"),Os=ne("map");Kt({target:"Array",proto:!0,forced:!ks||!Os},{map:function(t){return Cs(this,t,arguments.length>1?arguments[1]:void 0)}});var Ms,Ts=It.f,Es=q.f,As=W.f,zs=es.trim,Ps=x.Number,Ns=Ps.prototype,Ds="Number"==E(Fn(Ns)),Is=function(t){var e,n,o,r,i,s,a,c,l=I(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=zs(l)).charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+l}for(s=(i=l.slice(2)).length,a=0;a<s;a++)if((c=i.charCodeAt(a))<48||c>r)return NaN;return parseInt(i,o)}return+l};if(Ut("Number",!Ps(" 0o1")||!Ps("0b1")||Ps("+0x1"))){for(var js,Rs=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Rs&&(Ds?_((function(){Ns.valueOf.call(n)})):"Number"!=E(n))?$e(new Ps(Is(e)),n,Rs):Is(e)},Bs=S?Ts(Ps):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Vs=0;Bs.length>Vs;Vs++)R(Ps,js=Bs[Vs])&&!R(Rs,js)&&As(Rs,js,Es(Ps,js));Rs.prototype=Ns,Ns.constructor=Rs,gt(x,"Number",Rs)}function Fs(t,e){var n=function(t){var e=t.schema.nodes.heading;return i.findParentNodeOfType(e)(t.selection)}(t);return null==e?!!n:!!(n&&n.node&&n.node.attrs&&n.node.attrs.level===e)}Te("match",1,(function(t,e,n){return[function(e){var n=P(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,n):new RegExp(e)[t](String(n))},function(t){var o=n(e,t,this);if(o.done)return o.value;var r=H(t),i=String(this);if(!r.global)return Re(r,i);var s=r.unicode;r.lastIndex=0;for(var a,c=[],l=0;null!==(a=Re(r,i));){var u=String(a[0]);c[l]=u,""===u&&(r.lastIndex=je(i,kt(r.lastIndex),s)),l++}return 0===l?null:c}]}));const Ls=yi({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:function(e){return e>0?t.editorContext.commands.heading({level:e}):t.editorContext.commands.paragraph()}}},[n("command-button",{attrs:{"is-active":t.isHeadingActive(),tooltip:t.t("editor.extensions.Heading.tooltip"),icon:"heading"}}),t._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":t.editorContext.isActive.paragraph()},attrs:{command:0}},[n("span",[t._v(t._s(t.t("editor.extensions.Heading.buttons.paragraph")))])]),t._v(" "),t._l(t.level,(function(e){return n("el-dropdown-item",{key:e,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":t.isHeadingActive(e)},attrs:{command:e}},[n("h"+e,{tag:"component",attrs:{"data-item-type":"heading"}},[t._v("\n        "+t._s(t.t("editor.extensions.Heading.buttons.heading"))+" "+t._s(e)+"\n      ")])],1)}))],2)],1)},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"editor",{get:function(){return this.editorContext.editor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.editor.extensions.options.heading.level},enumerable:!0,configurable:!0}),e.prototype.isHeadingActive=function(t){return Fs(this.editor.state,t)},Jn([go({type:Object,required:!0})],e.prototype,"editorContext",void 0),e=Jn([ho({components:(Ms={},Ms[u.name]=u,Ms[l.name]=l,Ms[c.name]=c,Ms.CommandButton=$i,Ms)})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);function $s(t){var e=Ss(t),n=t.nodeName.match(/[H|h](\d)/)[1];return e.level=Number(n),e}function qs(t){var e=_s(t),n=t.attrs.level||1;return e[0]="h"+n,e}var Hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"schema",{get:function(){return Gn(Gn({},ys),{attrs:Gn(Gn({},ys.attrs),{level:{default:1}}),defining:!0,draggable:!1,parseDOM:this.options.levels.map((function(t){return{tag:"h"+t,getAttrs:$s}})),toDOM:qs})},enumerable:!0,configurable:!0}),e.prototype.menuBtnView=function(t){return{component:Ls,componentProps:{editorContext:t}}},e}(o.Heading),Us=Gn(Gn({},ys),{attrs:{textAlign:{default:null},indent:{default:null}},content:"block*",defining:!0,parseDOM:[{tag:"blockquote",getAttrs:function(t){return Ss(t)}}],toDOM:function(t){var e=_s(t);return e[0]="blockquote",e}});var Ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"schema",{get:function(){return Us},enumerable:!0,configurable:!0}),e.prototype.menuBtnView=function(t){var e=t.isActive,n=t.commands;return{component:$i,componentProps:{command:n.blockquote,isActive:e.blockquote(),icon:"quote-right",tooltip:hn("editor.extensions.Blockquote.tooltip")}}},e}(o.Blockquote),Ks=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.menuBtnView=function(t){var e=t.isActive,n=t.commands;return{component:$i,componentProps:{command:n.code_block,isActive:e.code_block(),icon:"code",tooltip:hn("editor.extensions.CodeBlock.tooltip")}}},e}(o.CodeBlock),Gs={attrs:{textAlign:{default:null},lineHeight:{default:null}},content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li",getAttrs:function(t){var e=t.style,n=e.textAlign,o=e.lineHeight,r=t.getAttribute("data-text-align")||n||"";return r=un.test(r)?r:null,o=o&&o!==vs(1.7)?o:null,{textAlign:r,lineHeight:o}}}],toDOM:function(t){var e=t.attrs,n=e.textAlign,o=e.lineHeight,r="",i={};n&&"left"!==n&&(i["data-text-align"]=n);if(o){var s=vs(o);r+="line-height: "+s+";"}return r&&(i.style=r),["li",i,0]}};var Js,Xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"schema",{get:function(){return Gs},enumerable:!0,configurable:!0}),e}(o.ListItem),Zs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.menuBtnView=function(t){var e=t.isActive,n=t.commands;return{component:$i,componentProps:{isActive:e.bullet_list(),command:n.bullet_list,icon:"list-ul",tooltip:hn("editor.extensions.BulletList.tooltip")}}},e}(o.BulletList),Ys=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.menuBtnView=function(t){var e=t.isActive,n=t.commands;return{component:$i,componentProps:{isActive:e.ordered_list(),command:n.ordered_list,icon:"list-ol",tooltip:hn("editor.extensions.OrderedList.tooltip")}}},e}(o.OrderedList);const Qs=yi({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-popover",{attrs:{placement:"bottom",trigger:"click","popper-class":"el-tiptap-popper"}},[n("div",{staticClass:"el-tiptap-popper__menu"},[n("div",{staticClass:"el-tiptap-popper__menu__item",on:{click:t.openUrlPrompt}},[n("span",[t._v(t._s(t.t("editor.extensions.Image.buttons.insert_by_url")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",on:{click:function(e){t.imageUploadDialogVisible=!0}}},[n("span",[t._v(t._s(t.t("editor.extensions.Image.buttons.upload_image")))])])]),t._v(" "),n("command-button",{attrs:{slot:"reference",tooltip:t.t("editor.extensions.Image.tooltip"),icon:"image"},slot:"reference"})],1),t._v(" "),n("el-dialog",{attrs:{title:t.t("editor.extensions.Image.control.upload_image.title"),visible:t.imageUploadDialogVisible,"append-to-body":!0},on:{"update:visible":function(e){t.imageUploadDialogVisible=e}}},[n("el-upload",{staticClass:"el-tiptap-upload",attrs:{"http-request":t.uploadImage,"show-file-list":!1,action:"#",drag:"",accept:"image/*"}},[n("div",{staticClass:"el-tiptap-upload__icon"},[n("i",{staticClass:"fa fa-upload"})]),t._v(" "),n("div",{staticClass:"el-tiptap-upload__text"},[t._v("\n        "+t._s(t.t("editor.extensions.Image.control.upload_image.button"))+"\n      ")])])],1)],1)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imageUploadDialogVisible=!1,e}return Kn(e,t),Object.defineProperty(e.prototype,"imageNodeOptions",{get:function(){return this.editorContext.editor.extensions.options.image},enumerable:!0,configurable:!0}),e.prototype.openUrlPrompt=function(){var t=this;a.prompt("",this.t("editor.extensions.Image.control.insert_by_url.title"),{confirmButtonText:this.t("editor.extensions.Image.control.insert_by_url.confirm"),cancelButtonText:this.t("editor.extensions.Image.control.insert_by_url.cancel"),inputPlaceholder:this.t("editor.extensions.Image.control.insert_by_url.placeholder"),inputPattern:this.imageNodeOptions.urlPattern,inputErrorMessage:this.t("editor.extensions.Image.control.insert_by_url.invalid_url"),roundButton:!0}).then((function(e){var n=e.value;t.editorContext.commands.image({src:n})})).catch((function(){}))},e.prototype.uploadImage=function(t){return Xn(this,void 0,void 0,(function(){var e,n,o;return Zn(this,(function(r){switch(r.label){case 0:return e=t.file,[4,(n=this.imageNodeOptions.uploadRequest)?n(e):mi(e)];case 1:return o=r.sent(),this.editorContext.commands.image({src:o}),this.imageUploadDialogVisible=!1,[2]}}))}))},Jn([go({type:Object,required:!0})],e.prototype,"editorContext",void 0),e=Jn([ho({components:(Js={},Js[f.name]=f,Js[d.name]=d,Js[p.name]=p,Js.CommandButton=$i,Js)})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);var ta=Math.pow(2,16);function ea(t,e){return t+e*ta}function na(t){return 65535&t}var oa=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},ra=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};ra.prototype.recover=function(t){var e=0,n=na(t);if(!this.inverted)for(var o=0;o<n;o++)e+=this.ranges[3*o+2]-this.ranges[3*o+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/ta}(t)},ra.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},ra.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},ra.prototype._map=function(t,e,n){for(var o=0,r=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?o:0);if(a>t)break;var c=this.ranges[s+r],l=this.ranges[s+i],u=a+c;if(t<=u){var p=a+o+((c?t==a?-1:t==u?1:e:e)<0?0:l);if(n)return p;var d=ea(s/3,t-a);return new oa(p,e<0?t!=a:t!=u,d)}o+=l-c}return n?t+o:new oa(t+o)},ra.prototype.touches=function(t,e){for(var n=0,o=na(e),r=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var c=this.ranges[s+r];if(t<=a+c&&s==3*o)return!0;n+=this.ranges[s+i]-c}return!1},ra.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,o=0,r=0;o<this.ranges.length;o+=3){var i=this.ranges[o],s=i-(this.inverted?r:0),a=i+(this.inverted?0:r),c=this.ranges[o+e],l=this.ranges[o+n];t(s,s+c,a,a+l),r+=l-c}},ra.prototype.invert=function(){return new ra(this.ranges,!this.inverted)},ra.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},ra.offset=function(t){return 0==t?ra.empty:new ra(t<0?[0,-t,0]:[0,0,t])},ra.empty=new ra([]);var ia=function(t,e,n,o){this.maps=t||[],this.from=n||0,this.to=null==o?this.maps.length:o,this.mirror=e};function sa(t){var e=Error.call(this,t);return e.__proto__=sa.prototype,e}ia.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new ia(this.maps,this.mirror,t,e)},ia.prototype.copy=function(){return new ia(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},ia.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},ia.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var o=t.getMirror(e);this.appendMap(t.maps[e],null!=o&&o<e?n+o:null)}},ia.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},ia.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},ia.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var o=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=o&&o>e?n-o-1:null)}},ia.prototype.invert=function(){var t=new ia;return t.appendMappingInverted(this),t},ia.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},ia.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},ia.prototype._map=function(t,e,n){for(var o=!1,r=null,i=this.from;i<this.to;i++){var s=this.maps[i],a=r&&r[i];if(null!=a&&s.touches(t,a))t=s.recover(a);else{var c=s.mapResult(t,e);if(null!=c.recover){var l=this.getMirror(i);if(null!=l&&l>i&&l<this.to){if(c.deleted){i=l,t=this.maps[l].recover(c.recover);continue}(r||(r=Object.create(null)))[l]=c.recover}}c.deleted&&(o=!0),t=c.pos}}return n?t:new oa(t,o)},sa.prototype=Object.create(Error.prototype),sa.prototype.constructor=sa,sa.prototype.name="TransformError";var aa=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new ia},ca={before:{configurable:!0},docChanged:{configurable:!0}};function la(){throw new Error("Override me")}ca.before.get=function(){return this.docs.length?this.docs[0]:this.doc},aa.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new sa(e.failed);return this},aa.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},ca.docChanged.get=function(){return this.steps.length>0},aa.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(aa.prototype,ca);var ua=Object.create(null),pa=function(){};pa.prototype.apply=function(t){return la()},pa.prototype.getMap=function(){return ra.empty},pa.prototype.invert=function(t){return la()},pa.prototype.map=function(t){return la()},pa.prototype.merge=function(t){return null},pa.prototype.toJSON=function(){return la()},pa.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=ua[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},pa.jsonID=function(t,e){if(t in ua)throw new RangeError("Duplicate use of step JSON ID "+t);return ua[t]=e,e.prototype.jsonID=t,e};var da=function(t,e){this.doc=t,this.failed=e};da.ok=function(t){return new da(t,null)},da.fail=function(t){return new da(null,t)},da.fromReplace=function(t,e,n,o){try{return da.ok(t.replace(e,n,o))}catch(t){if(t instanceof h.ReplaceError)return da.fail(t.message);throw t}};var fa=function(t){function e(e,n,o,r){t.call(this),this.from=e,this.to=n,this.slice=o,this.structure=!!r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&ma(t,this.from,this.to)?da.fail("Structure replace would overwrite content"):da.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new ra([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return n.deleted&&o.deleted?null:new e(n.pos,Math.max(n.pos,o.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?h.Slice.empty:new h.Slice(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var o=this.slice.size+t.slice.size==0?h.Slice.empty:new h.Slice(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),o,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,h.Slice.fromJSON(t,n.slice),!!n.structure)},e}(pa);pa.jsonID("replace",fa);var ha=function(t){function e(e,n,o,r,i,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=o,this.gapTo=r,this.slice=i,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(ma(t,this.from,this.gapFrom)||ma(t,this.gapTo,this.to)))return da.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return da.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?da.fromReplace(t,this.from,this.to,n):da.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new ra([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),o=t.mapResult(this.to,-1),r=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&o.deleted||r<n.pos||i>o.pos?null:new e(n.pos,o.pos,r,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,h.Slice.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(pa);function ma(t,e,n){for(var o=t.resolve(e),r=n-e,i=o.depth;r>0&&i>0&&o.indexAfter(i)==o.node(i).childCount;)i--,r--;if(r>0)for(var s=o.node(i).maybeChild(o.indexAfter(i));r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}return!1}function va(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ga(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var o=t.$from.node(n),r=t.$from.index(n),i=t.$to.indexAfter(n);if(n<t.depth&&o.canReplace(r,i,e))return n;if(0==n||o.type.spec.isolating||!va(o,r,i))break}}function ya(t,e,n,o){void 0===n&&(n=1);var r=t.resolve(e),i=r.depth-n,s=o&&o[o.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(var a=r.depth-1,c=n-2;a>i;a--,c--){var l=r.node(a),u=r.index(a);if(l.type.spec.isolating)return!1;var p=l.content.cutByIndex(u,l.childCount),d=o&&o[c]||l;if(d!=l&&(p=p.replaceChild(0,d.type.create(d.attrs))),!l.canReplace(u+1,l.childCount)||!d.type.validContent(p))return!1}var f=r.indexAfter(i),h=o&&o[0];return r.node(i).canReplaceWith(f,f,h?h.type:r.node(i+1).type)}function ba(t,e){var n,o,r=t.resolve(e),i=r.index();return n=r.nodeBefore,o=r.nodeAfter,n&&o&&!n.isLeaf&&n.canAppend(o)&&r.parent.canReplace(i,i+1)}function wa(t,e,n){for(var o=[],r=0;r<t.childCount;r++){var i=t.child(r);i.content.size&&(i=i.copy(wa(i.content,e,i))),i.isInline&&(i=e(i,n,r)),o.push(i)}return h.Fragment.fromArray(o)}pa.jsonID("replaceAround",ha),aa.prototype.lift=function(t,e){for(var n=t.$from,o=t.$to,r=t.depth,i=n.before(r+1),s=o.after(r+1),a=i,c=s,l=h.Fragment.empty,u=0,p=r,d=!1;p>e;p--)d||n.index(p)>0?(d=!0,l=h.Fragment.from(n.node(p).copy(l)),u++):a--;for(var f=h.Fragment.empty,m=0,v=r,g=!1;v>e;v--)g||o.after(v+1)<o.end(v)?(g=!0,f=h.Fragment.from(o.node(v).copy(f)),m++):c++;return this.step(new ha(a,c,i,s,new h.Slice(l.append(f),u,m),l.size-u,!0))},aa.prototype.wrap=function(t,e){for(var n=h.Fragment.empty,o=e.length-1;o>=0;o--)n=h.Fragment.from(e[o].type.create(e[o].attrs,n));var r=t.start,i=t.end;return this.step(new ha(r,i,r,i,new h.Slice(n,0,0),e.length,!0))},aa.prototype.setBlockType=function(t,e,n,o){var r=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,o)&&function(t,e,n){var o=t.resolve(e),r=o.index();return o.parent.canReplaceWith(r,r+1,n)}(r.doc,r.mapping.slice(i).map(e),n)){r.clearIncompatible(r.mapping.slice(i).map(e,1),n);var s=r.mapping.slice(i),a=s.map(e,1),c=s.map(e+t.nodeSize,1);return r.step(new ha(a,c,a+1,c-1,new h.Slice(h.Fragment.from(n.create(o,null,t.marks)),0,0),1,!0)),!1}})),this},aa.prototype.setNodeMarkup=function(t,e,n,o){var r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at given position");e||(e=r.type);var i=e.create(n,null,o||r.marks);if(r.isLeaf)return this.replaceWith(t,t+r.nodeSize,i);if(!e.validContent(r.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new ha(t,t+r.nodeSize,t+1,t+r.nodeSize-1,new h.Slice(h.Fragment.from(i),0,0),1,!0))},aa.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var o=this.doc.resolve(t),r=h.Fragment.empty,i=h.Fragment.empty,s=o.depth,a=o.depth-e,c=e-1;s>a;s--,c--){r=h.Fragment.from(o.node(s).copy(r));var l=n&&n[c];i=h.Fragment.from(l?l.type.create(l.attrs,i):o.node(s).copy(i))}return this.step(new fa(t,t,new h.Slice(r.append(i),e,e),!0))},aa.prototype.join=function(t,e){void 0===e&&(e=1);var n=new fa(t-e,t+e,h.Slice.empty,!0);return this.step(n)};var xa=function(t){function e(e,n,o){t.call(this),this.from=e,this.to=n,this.mark=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),o=t.resolve(this.from),r=o.node(o.sharedDepth(this.to)),i=new h.Slice(wa(n.content,(function(t,n){return n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),r),n.openStart,n.openEnd);return da.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new _a(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new e(n.pos,o.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(pa);pa.jsonID("addMark",xa);var _a=function(t){function e(e,n,o){t.call(this),this.from=e,this.to=n,this.mark=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),o=new h.Slice(wa(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return da.fromReplace(t,this.from,this.to,o)},e.prototype.invert=function(){return new xa(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new e(n.pos,o.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(pa);function Sa(t,e,n,o){if(void 0===n&&(n=e),void 0===o&&(o=h.Slice.empty),e==n&&!o.size)return null;var r=t.resolve(e),i=t.resolve(n);if(Oa(r,i,o))return new fa(e,n,o);var s=function(t,e){var n=function t(e,n,o,r){var i=h.Fragment.empty,s=0,a=o[n];if(e.depth>n){var c=t(e,n+1,o,r||a);s=c.openEnd+1,i=h.Fragment.from(e.node(n+1).copy(c.content))}a&&(i=i.append(a.content),s=a.openEnd);r&&(i=i.append(e.node(n).contentMatchAt(e.indexAfter(n)).fillBefore(h.Fragment.empty,!0)),s=0);return{content:i,openEnd:s}}(t,0,e,!1),o=n.content,r=n.openEnd;return new h.Slice(o,t.depth,r||0)}(r,function(t,e){for(var n=new Ma(t),o=1;e.size&&o<=3;o++){var r=n.placeSlice(e.content,e.openStart,e.openEnd,o);3==o&&r!=e&&r.size&&(o=0),e=r}for(;n.open.length;)n.closeNode();return n.placed}(r,o)),a=ka(r,i,s);if(!a)return null;if(s.size!=a.size&&function(t,e,n){if(!e.parent.isTextblock)return!1;var o,r=n.openEnd?function(t,e){for(var n=1;n<e;n++)t=t.lastChild.content;return t.lastChild}(n.content,n.openEnd):t.node(t.depth-(n.openStart-n.openEnd));if(!r.isTextblock)return!1;for(var i=e.index();i<e.parent.childCount;i++)if(!r.type.allowsMarks(e.parent.child(i).marks))return!1;n.openEnd?o=r.contentMatchAt(r.childCount):(o=r.contentMatchAt(r.childCount),n.size&&(o=o.matchFragment(n.content,n.openStart?1:0)));return(o=o.matchFragment(e.parent.content,e.index()))&&o.validEnd}(r,i,s)){for(var c=i.depth,l=i.after(c);c>1&&l==i.end(--c);)++l;var u=ka(r,t.resolve(l),s);if(u)return new ha(e,l,n,i.end(),u,s.size)}return a.size||e!=n?new fa(e,n,a):null}function Ca(t,e,n,o,r,i,s){var a,c=t.childCount,l=c-(s>0?1:0),u=i<0?e:n.node(r);a=i<0?u.contentMatchAt(l):1==c&&s>0?u.contentMatchAt(i?n.index(r):n.indexAfter(r)):u.contentMatchAt(n.indexAfter(r)).matchFragment(t,c>0&&i?1:0,l);var p=o.node(r);if(s>0&&r<o.depth){var d=p.content.cutByIndex(o.indexAfter(r)).addToStart(t.lastChild),f=a.fillBefore(d,!0);if(f&&f.size&&i>0&&1==c&&(f=null),f){var m=Ca(t.lastChild.content,t.lastChild,n,o,r+1,1==c?i-1:-1,s-1);if(m){var v=t.lastChild.copy(m);return f.size?t.cutByIndex(0,c-1).append(f).addToEnd(v):t.replaceChild(c-1,v)}}}s>0&&(a=a.matchType((1==c&&i>0?n.node(r+1):t.lastChild).type));var g=o.index(r);if(g==p.childCount&&!p.type.compatibleContent(e.type))return null;for(var y=a.fillBefore(p.content,!0,g),b=g;y&&b<p.content.childCount;b++)u.type.allowsMarks(p.content.child(b).marks)||(y=null);if(!y)return null;if(s>0){var w=function t(e,n,o,r,i){var s,a=e.content,c=a.childCount;s=i>=0?o.node(r).contentMatchAt(o.indexAfter(r)).matchFragment(a,i>0?1:0,c):e.contentMatchAt(c);if(n>0){var l=t(a.lastChild,n-1,o,r+1,1==c?i-1:-1);a=a.replaceChild(c-1,l)}return e.copy(a.append(s.fillBefore(h.Fragment.empty,!0)))}(t.lastChild,s-1,n,r+1,1==c?i-1:-1);t=t.replaceChild(c-1,w)}return t=t.append(y),o.depth>r&&(t=t.addToEnd(function t(e,n){var o=e.node(n),r=o.contentMatchAt(0).fillBefore(o.content,!0,e.index(n));e.depth>n&&(r=r.addToEnd(t(e,n+1)));return o.copy(r)}(o,r+1))),t}function ka(t,e,n){var o=Ca(n.content,t.node(0),t,e,0,n.openStart,n.openEnd);return o?function(t,e,n){for(;e>0&&n>0&&1==t.childCount;)t=t.firstChild.content,e--,n--;return new h.Slice(t,e,n)}(o,n.openStart,e.depth):null}function Oa(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}pa.jsonID("removeMark",_a),aa.prototype.addMark=function(t,e,n){var o=this,r=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(o,c,l){if(o.isInline){var u=o.marks;if(!n.isInSet(u)&&l.type.allowsMarkType(n.type)){for(var p=Math.max(c,t),d=Math.min(c+o.nodeSize,e),f=n.addToSet(u),h=0;h<u.length;h++)u[h].isInSet(f)||(s&&s.to==p&&s.mark.eq(u[h])?s.to=d:r.push(s=new _a(p,d,u[h])));a&&a.to==p?a.to=d:i.push(a=new xa(p,d,n))}}})),r.forEach((function(t){return o.step(t)})),i.forEach((function(t){return o.step(t)})),this},aa.prototype.removeMark=function(t,e,n){var o=this;void 0===n&&(n=null);var r=[],i=0;return this.doc.nodesBetween(t,e,(function(o,s){if(o.isInline){i++;var a=null;if(n instanceof h.MarkType){var c=n.isInSet(o.marks);c&&(a=[c])}else n?n.isInSet(o.marks)&&(a=[n]):a=o.marks;if(a&&a.length)for(var l=Math.min(s+o.nodeSize,e),u=0;u<a.length;u++){for(var p=a[u],d=void 0,f=0;f<r.length;f++){var m=r[f];m.step==i-1&&p.eq(r[f].style)&&(d=m)}d?(d.to=l,d.step=i):r.push({style:p,from:Math.max(s,t),to:l,step:i})}}})),r.forEach((function(t){return o.step(new _a(t.from,t.to,t.style))})),this},aa.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var o=this.doc.nodeAt(t),r=[],i=t+1,s=0;s<o.childCount;s++){var a=o.child(s),c=i+a.nodeSize,l=n.matchType(a.type,a.attrs);if(l){n=l;for(var u=0;u<a.marks.length;u++)e.allowsMarkType(a.marks[u].type)||this.step(new _a(i,c,a.marks[u]))}else r.push(new fa(i,c,h.Slice.empty));i=c}if(!n.validEnd){var p=n.fillBefore(h.Fragment.empty,!0);this.replace(i,i,new h.Slice(p,0,0))}for(var d=r.length-1;d>=0;d--)this.step(r[d]);return this},aa.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=h.Slice.empty);var o=Sa(this.doc,t,e,n);return o&&this.step(o),this},aa.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new h.Slice(h.Fragment.from(n),0,0))},aa.prototype.delete=function(t,e){return this.replace(t,e,h.Slice.empty)},aa.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var Ma=function(t){this.open=[];for(var e=0;e<=t.depth;e++){var n=t.node(e),o=n.contentMatchAt(t.indexAfter(e));this.open.push({parent:n,match:o,content:h.Fragment.empty,wrapper:!1,openEnd:0,depth:e})}this.placed=[]};function Ta(t,e,n){var o=t.content;if(e>1){var r=Ta(t.firstChild,e-1,1==t.childCount?n-1:0);o=t.content.replaceChild(0,r)}var i=t.type.contentMatch.fillBefore(o,0==n);return t.copy(i.append(o))}function Ea(t,e,n,o,r){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(Ea(i.content,e+1,n,o,i)))}if(e>o){var s=r.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(h.Fragment.empty,!0))}return t}function Aa(t,e){for(var n=[],o=Math.min(t.depth,e.depth);o>=0;o--){var r=t.start(o);if(r<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;r==e.start(o)&&n.push(o)}return n}Ma.prototype.placeSlice=function(t,e,n,o,r){if(e>0){var i=t.firstChild,s=this.placeSlice(i.content,Math.max(0,e-1),n&&1==t.childCount?n-1:0,o,i);s.content!=i.content&&(s.content.size?(t=t.replaceChild(0,i.copy(s.content)),e=s.openStart+1):(1==t.childCount&&(n=0),t=t.cutByIndex(1),e=0))}var a=this.placeContent(t,e,n,o,r);if(o>2&&a.size&&0==e){var c=a.content.firstChild,l=1==a.content.childCount;this.placeContent(c.content,0,n&&l?n-1:0,o,c),a=l?h.Fragment.empty:new h.Slice(a.content.cutByIndex(1),0,n)}return a},Ma.prototype.placeContent=function(t,e,n,o,r){for(var i=0;i<t.childCount;i++){for(var s=t.child(i),a=!1,c=i==t.childCount-1,l=this.open.length-1;l>=0;l--){var u=this.open[l],p=void 0;if(o>1&&(p=u.match.findWrapping(s.type))&&(!r||!p.length||p[p.length-1]!=r.type)){for(;this.open.length-1>l;)this.closeNode();for(var d=0;d<p.length;d++)u.match=u.match.matchType(p[d]),l++,u={parent:p[d].create(),match:p[d].contentMatch,content:h.Fragment.empty,wrapper:!0,openEnd:0,depth:l+d},this.open.push(u)}var f=u.match.matchType(s.type);if(!f){var m=u.match.fillBefore(h.Fragment.from(s));if(!m){if(r&&u.match.matchType(r.type))break;continue}for(var v=0;v<m.childCount;v++){var g=m.child(v);this.addNode(u,g,0),f=u.match.matchFragment(g)}}for(;this.open.length-1>l;)this.closeNode();s=s.mark(u.parent.type.allowedMarks(s.marks)),e&&(s=Ta(s,e,c?n:0),e=0),this.addNode(u,s,c?n:0),u.match=f,c&&(n=0),a=!0;break}if(!a)break}return this.open.length>1&&(i>0&&i==t.childCount||r&&this.open[this.open.length-1].parent.type==r.type)&&this.closeNode(),new h.Slice(t.cutByIndex(i),e,n)},Ma.prototype.addNode=function(t,e,n){var o,r;t.content=(o=t.content,r=t.openEnd,r?o.replaceChild(o.childCount-1,function t(e,n){var o=e.content;if(n>1){var r=t(e.lastChild,n-1);o=e.content.replaceChild(e.childCount-1,r)}var i=e.contentMatchAt(e.childCount).fillBefore(h.Fragment.empty,!0);return e.copy(o.append(i))}(o.lastChild,r)):o).addToEnd(e),t.openEnd=n},Ma.prototype.closeNode=function(){var t=this.open.pop();0==t.content.size||(t.wrapper?this.addNode(this.open[this.open.length-1],t.parent.copy(t.content),t.openEnd+1):this.placed[t.depth]={depth:t.depth,content:t.content,openEnd:t.openEnd})},aa.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var o=this.doc.resolve(t),r=this.doc.resolve(e);if(Oa(o,r,n))return this.step(new fa(t,e,n));var i=Aa(o,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var s=-(o.depth+1);i.unshift(s);for(var a=o.depth,c=o.pos-1;a>0;a--,c--){var l=o.node(a).type.spec;if(l.defining||l.isolating)break;i.indexOf(a)>-1?s=a:o.before(a)==c&&i.splice(1,0,-a)}for(var u=i.indexOf(s),p=[],d=n.openStart,f=n.content,m=0;;m++){var v=f.firstChild;if(p.push(v),m==n.openStart)break;f=v.content}d>0&&p[d-1].type.spec.defining&&o.node(u).type!=p[d-1].type?d-=1:d>=2&&p[d-1].isTextblock&&p[d-2].type.spec.defining&&o.node(u).type!=p[d-2].type&&(d-=2);for(var g=n.openStart;g>=0;g--){var y=(g+d+1)%(n.openStart+1),b=p[y];if(b)for(var w=0;w<i.length;w++){var x=i[(w+u)%i.length],_=!0;x<0&&(_=!1,x=-x);var S=o.node(x-1),C=o.index(x-1);if(S.canReplaceWith(C,C,b.type,b.marks))return this.replace(o.before(x),_?r.after(x):e,new h.Slice(Ea(n.content,0,n.openStart,y),y,n.openEnd))}}for(var k=this.steps.length,O=i.length-1;O>=0&&(this.replace(t,e,n),!(this.steps.length>k));O--){var M=i[O];O<0||(t=o.before(M),e=r.after(M))}return this},aa.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var o=function(t,e,n){var o=t.resolve(e);if(o.parent.canReplaceWith(o.index(),o.index(),n))return e;if(0==o.parentOffset)for(var r=o.depth-1;r>=0;r--){var i=o.index(r);if(o.node(r).canReplaceWith(i,i,n))return o.before(r+1);if(i>0)return null}if(o.parentOffset==o.parent.content.size)for(var s=o.depth-1;s>=0;s--){var a=o.indexAfter(s);if(o.node(s).canReplaceWith(a,a,n))return o.after(s+1);if(a<o.node(s).childCount)return null}}(this.doc,t,n.type);null!=o&&(t=e=o)}return this.replaceRange(t,e,new h.Slice(h.Fragment.from(n),0,0))},aa.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),o=this.doc.resolve(e),r=Aa(n,o),i=0;i<r.length;i++){var s=r[i],a=i==r.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),o.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),o.indexAfter(s-1))))return this.delete(n.before(s),o.after(s))}for(var c=1;c<=n.depth;c++)if(t-n.start(c)==n.depth-c&&e>n.end(c)&&o.end(c)-e!=o.depth-c)return this.delete(n.before(c),e);return this.delete(t,e)};var za={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Pa=/Edge\/(\d+)/.exec(navigator.userAgent),Na=/MSIE \d/.test(navigator.userAgent),Da=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);za.mac=/Mac/.test(navigator.platform);var Ia=za.ie=!!(Na||Da||Pa);za.ie_version=Na?document.documentMode||6:Da?+Da[1]:Pa?+Pa[1]:null,za.gecko=!Ia&&/gecko\/(\d+)/i.test(navigator.userAgent),za.gecko_version=za.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var ja=!Ia&&/Chrome\/(\d+)/.exec(navigator.userAgent);za.chrome=!!ja,za.chrome_version=ja&&+ja[1],za.ios=!Ia&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),za.android=/Android \d/.test(navigator.userAgent),za.webkit=!Ia&&"WebkitAppearance"in document.documentElement.style,za.safari=/Apple Computer/.test(navigator.vendor),za.webkit_version=za.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Ra=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},Ba=function(t){var e=t.parentNode;return e&&11==e.nodeType?e.host:e},Va=function(t,e,n){var o=document.createRange();return o.setEnd(t,null==n?t.nodeValue.length:n),o.setStart(t,e||0),o},Fa=function(t,e,n,o){return n&&($a(t,e,n,o,-1)||$a(t,e,n,o,1))},La=/^(img|br|input|textarea|hr)$/i;function $a(t,e,n,o,r){for(;;){if(t==n&&e==o)return!0;if(e==(r<0?0:qa(t))){var i=t.parentNode;if(1!=i.nodeType||Ha(t)||La.test(t.nodeName)||"false"==t.contentEditable)return!1;e=Ra(t)+(r<0?0:1),t=i}else{if(1!=t.nodeType)return!1;t=t.childNodes[e+(r<0?-1:0)],e=r<0?qa(t):0}}}function qa(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Ha(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var Ua=function(t){var e=t.isCollapsed;return e&&za.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function Wa(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Ka(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function Ga(t,e){return"number"==typeof t?t:t[e]}function Ja(t,e,n){for(var o=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,s=i.defaultView,a=n||t.dom;a;a=Ba(a))if(1==a.nodeType){var c=a==i.body||1!=a.nodeType,l=c?Ka(s):a.getBoundingClientRect(),u=0,p=0;if(e.top<l.top+Ga(o,"top")?p=-(l.top-e.top+Ga(r,"top")):e.bottom>l.bottom-Ga(o,"bottom")&&(p=e.bottom-l.bottom+Ga(r,"bottom")),e.left<l.left+Ga(o,"left")?u=-(l.left-e.left+Ga(r,"left")):e.right>l.right-Ga(o,"right")&&(u=e.right-l.right+Ga(r,"right")),(u||p)&&(c?s.scrollBy(u,p):(p&&(a.scrollTop+=p),u&&(a.scrollLeft+=u))),c)break}}function Xa(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=Ba(t));return e}function Za(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=o.dom,i=o.top,s=o.left;r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}var Ya=null;function Qa(t,e){for(var n,o,r=2e8,i=0,s=e.top,a=e.top,c=t.firstChild,l=0;c;c=c.nextSibling,l++){var u=void 0;if(1==c.nodeType)u=c.getClientRects();else{if(3!=c.nodeType)continue;u=Va(c).getClientRects()}for(var p=0;p<u.length;p++){var d=u[p];if(d.top<=s&&d.bottom>=a){s=Math.max(d.bottom,s),a=Math.min(d.top,a);var f=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(f<r){n=c,r=f,o=f&&3==n.nodeType?{left:d.right<e.left?d.right:d.left,top:e.top}:e,1==c.nodeType&&f&&(i=l+(e.left>=(d.left+d.right)/2?1:0));continue}}!n&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(i=l+1)}}return n&&3==n.nodeType?function(t,e){for(var n=t.nodeValue.length,o=document.createRange(),r=0;r<n;r++){o.setEnd(t,r+1),o.setStart(t,r);var i=nc(o,1);if(i.top!=i.bottom&&tc(e,i))return{node:t,offset:r+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}(n,o):!n||r&&1==n.nodeType?{node:t,offset:i}:Qa(n,o)}function tc(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function ec(t,e){var n,o,r,i,s=t.root;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(r=(n=a).offsetNode,i=n.offset)}catch(t){}if(!r&&s.caretRangeFromPoint){var c=s.caretRangeFromPoint(e.left,e.top);c&&(r=(o=c).startContainer,i=o.startOffset)}var l,u=s.elementFromPoint(e.left,e.top+1);if(!u||!t.dom.contains(1!=u.nodeType?u.parentNode:u)){var p=t.dom.getBoundingClientRect();if(!tc(e,p))return null;if(!(u=function t(e,n,o){var r=e.childNodes.length;if(r&&o.top<o.bottom)for(var i=Math.max(0,Math.min(r-1,Math.floor(r*(n.top-o.top)/(o.bottom-o.top))-2)),s=i;;){var a=e.childNodes[s];if(1==a.nodeType)for(var c=a.getClientRects(),l=0;l<c.length;l++){var u=c[l];if(tc(n,u))return t(a,n,u)}if((s=(s+1)%r)==i)break}return e}(t.dom,e,p)))return null}if(u=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(u,e),r){if(za.gecko&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length))<r.childNodes.length){var d,f=r.childNodes[i];"IMG"==f.nodeName&&(d=f.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:0!=i&&1==r.nodeType&&"BR"==r.childNodes[i-1].nodeName||(l=function(t,e,n,o){for(var r=-1,i=e;i!=t.dom;){var s=t.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>o.left||a.top>o.top)r=s.posBefore;else{if(!(a.right<o.left||a.bottom<o.top))break;r=s.posAfter}}i=s.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n)}(t,r,i,e))}null==l&&(l=function(t,e,n){var o=Qa(e,n),r=o.node,i=o.offset,s=-1;if(1==r.nodeType&&!r.firstChild){var a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}(t,u,e));var h=t.docView.nearestDesc(u,!0);return{pos:l,inside:h?h.posAtStart-h.border:-1}}function nc(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function oc(t,e){var n=t.docView.domFromPos(e),o=n.node,r=n.offset;if(3==o.nodeType&&(za.chrome||za.gecko)){var i=nc(Va(o,r,r),0);if(za.gecko&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){var s=nc(Va(o,r-1,r-1),-1);if(Math.abs(s.left-i.left)<1&&s.top==i.top){var a=nc(Va(o,r,r+1),-1);return rc(a,a.left<s.left)}}return i}if(1==o.nodeType&&!t.state.doc.resolve(e).parent.inlineContent){var c,l=!0;if(r<o.childNodes.length){var u=o.childNodes[r];1==u.nodeType&&(c=u.getBoundingClientRect())}if(!c&&r){var p=o.childNodes[r-1];1==p.nodeType&&(c=p.getBoundingClientRect(),l=!1)}return function(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}(c||o.getBoundingClientRect(),l)}for(var d=-1;d<2;d+=2)if(d<0&&r){var f=void 0,h=3==o.nodeType?Va(o,r-1,r):3==(f=o.childNodes[r-1]).nodeType?Va(f):1==f.nodeType&&"BR"!=f.nodeName?f:null;if(h){var m=nc(h,1);if(m.top<m.bottom)return rc(m,!1)}}else if(d>0&&r<qa(o)){var v=void 0,g=3==o.nodeType?Va(o,r,r+1):3==(v=o.childNodes[r]).nodeType?Va(v):1==v.nodeType?v:null;if(g){var y=nc(g,-1);if(y.top<y.bottom)return rc(y,!0)}}return rc(nc(3==o.nodeType?Va(o):o,0),!1)}function rc(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function ic(t,e,n){var o=t.state,r=t.root.activeElement;o!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{o!=e&&t.updateState(o),r!=t.dom&&r.focus()}}var sc=/[\u0590-\u08ac]/;var ac=null,cc=null,lc=!1;function uc(t,e,n){return ac==e&&cc==n?lc:(ac=e,cc=n,lc="up"==n||"down"==n?function(t,e,n){var o=e.selection,r="up"==n?o.$anchor.min(o.$head):o.$anchor.max(o.$head);return ic(t,e,(function(){for(var e=t.docView.domFromPos(r.pos).node;;){var o=t.docView.nearestDesc(e,!0);if(!o)break;if(o.node.isBlock){e=o.dom;break}e=o.dom.parentNode}for(var i=oc(t,r.pos),s=e.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=Va(s,0,s.nodeValue.length).getClientRects()}for(var c=0;c<a.length;c++){var l=a[c];if(l.bottom>l.top&&("up"==n?l.bottom<i.top+1:l.top>i.bottom-1))return!1}}return!0}))}(t,e,n):function(t,e,n){var o=e.selection.$head;if(!o.parent.isTextblock)return!1;var r=o.parentOffset,i=!r,s=r==o.parent.content.size,a=getSelection();return sc.test(o.parent.textContent)&&a.modify?ic(t,e,(function(){var e=a.getRangeAt(0),r=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var c=!(o.depth?t.docView.domAfterPos(o.before()):t.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||r==a.focusNode&&i==a.focusOffset;return a.removeAllRanges(),a.addRange(e),null!=s&&(a.caretBidiLevel=s),c})):"left"==n||"backward"==n?i:s}(t,e,n))}var pc=function(t,e,n,o){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=o,this.dirty=0},dc={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};pc.prototype.matchesWidget=function(){return!1},pc.prototype.matchesMark=function(){return!1},pc.prototype.matchesNode=function(){return!1},pc.prototype.matchesHack=function(){return!1},dc.beforePosition.get=function(){return!1},pc.prototype.parseRule=function(){return null},pc.prototype.stopEvent=function(){return!1},dc.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},dc.border.get=function(){return 0},pc.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},pc.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var o=this.children[e];if(o==t)return n;n+=o.size}},dc.posBefore.get=function(){return this.parent.posBeforeChild(this)},dc.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},dc.posAfter.get=function(){return this.posBefore+this.size},dc.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},pc.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var o,r;if(t==this.contentDOM)o=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&(!(r=o.pmViewDesc)||r.parent!=this);)o=o.previousSibling;return o?this.posBeforeChild(r)+r.size:this.posAtStart}var i,s;if(t==this.contentDOM)i=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&(!(s=i.pmViewDesc)||s.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}var a;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!1;break}if(c.parentNode.firstChild!=c)break}if(null==a&&e==t.childNodes.length)for(var l=t;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.parentNode.lastChild!=l)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},pc.prototype.nearestDesc=function(t,e){for(var n=!0,o=t;o;o=o.parentNode){var r=this.getDesc(o);if(r&&(!e||r.node)){if(!n||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(t):r.nodeDOM==t))return r;n=!1}}},pc.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},pc.prototype.posFromDOM=function(t,e,n){for(var o=t;;o=o.parentNode){var r=this.getDesc(o);if(r)return r.localPosFromDOM(t,e,n)}},pc.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var o=this.children[e],r=n+o.size;if(n==t&&r!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(t<r)return o.descAt(t-n-o.border);n=r}},pc.prototype.domFromPos=function(t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var e=0,n=0;;n++){if(e==t){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:Ra(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+t);var o=this.children[n],r=e+o.size;if(t<r)return o.domFromPos(t-e-o.border);e=r}},pc.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,r=-1,i=n,s=0;;s++){var a=this.children[s],c=i+a.size;if(-1==o&&t<=c){var l=i+a.border;if(t>=l&&e<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,l);t=i;for(var u=s;u>0;u--){var p=this.children[u-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){o=Ra(p.dom)+1;break}t-=p.size}-1==o&&(o=0)}if(o>-1&&e<=c){e=c;for(var d=s+1;d<this.children.length;d++){var f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){r=Ra(f.dom);break}e+=f.size}-1==r&&(r=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:t,to:e,fromOffset:o,toOffset:r}},pc.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},pc.prototype.domAfterPos=function(t){var e=this.domFromPos(t),n=e.node,o=e.offset;if(1!=n.nodeType||o==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[o]},pc.prototype.setSelection=function(t,e,n,o){for(var r=Math.min(t,e),i=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var c=this.children[s],l=a+c.size;if(r>a&&i<l)return c.setSelection(t-a-c.border,e-a-c.border,n,o);a=l}var u=this.domFromPos(t),p=this.domFromPos(e),d=n.getSelection(),f=document.createRange();if(o||!Fa(u.node,u.offset,d.anchorNode,d.anchorOffset)||!Fa(p.node,p.offset,d.focusNode,d.focusOffset)){if(d.extend)f.setEnd(u.node,u.offset),f.collapse(!1);else{if(t>e){var h=u;u=p,p=h}f.setEnd(p.node,p.offset),f.setStart(u.node,u.offset)}d.removeAllRanges(),d.addRange(f),d.extend&&d.extend(p.node,p.offset)}},pc.prototype.ignoreMutation=function(t){return!this.contentDOM},dc.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},pc.prototype.markDirty=function(t,e){for(var n=0,o=0;o<this.children.length;o++){var r=this.children[o],i=n+r.size;if(n==i?t<=i&&e>=n:t<i&&e>n){var s=n+r.border,a=i-r.border;if(t>=s&&e<=a)return this.dirty=t==n||e==i?2:1,void(t!=s||e!=a||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(t-s,e-s):r.dirty=3);r.dirty=3}n=i}this.dirty=2},pc.prototype.markParentsDirty=function(){for(var t=this.parent;t;t=t.parent){t.dirty<2&&(t.dirty=2)}},Object.defineProperties(pc.prototype,dc);var fc=[],hc=function(t){function e(e,n,o,r){var i,s=n.type.toDOM;if("function"==typeof s&&(s=s(o,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:r}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,fc,s,null),this.widget=n,i=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},Object.defineProperties(e.prototype,n),e}(pc),mc=function(t){function e(e,n,o,r){t.call(this,e,fc,n,null),this.textDOM=o,this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(pc),vc=function(t){function e(e,n,o,r){t.call(this,e,[],o,r),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,o,r){var i=r.nodeViews[n.type.name],s=i&&i(n,r,o);return s&&s.dom||(s=h.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,o))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),0!=this.dirty){for(var o=this.parent;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,n,o){var r=e.create(this.parent,this.mark,!0,o),i=this.children,s=this.size;n<s&&(i=Pc(i,n,s,o)),t>0&&(i=Pc(i,0,t,o));for(var a=0;a<i.length;a++)i[a].parent=r;return r.children=i,r},e}(pc),gc=function(t){function e(e,n,o,r,i,s,a,c,l){t.call(this,e,n.isLeaf?fc:[],i,s),this.nodeDOM=a,this.node=n,this.outerDeco=o,this.innerDeco=r,s&&this.updateChildren(c,l)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0}};return e.create=function(t,n,o,r,i,s){var a,c,l=i.nodeViews[n.type.name],u=l&&l(n,i,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:s}),o),p=u&&u.dom,d=u&&u.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(p=(a=h.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,d=a.contentDOM);d||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var f=p;return p=Mc(p,o,n),u?c=new xc(t,n,o,r,p,d,f,u,i,s+1):n.isText?new bc(t,n,o,r,p,f,i):new e(t,n,o,r,p,d,f,i,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?h.Fragment.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&Tc(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,o=this.node.inlineContent,r=e,i=o&&t.composing&&this.localCompositionNode(t,e),s=new Ac(this,i&&i.node);!function(t,e,n,o){var r=e.locals(t),i=0;if(0==r.length){for(var s=0;s<t.childCount;s++){var a=t.child(s);o(a,r,e.forChild(i,a),s),i+=a.nodeSize}return}for(var c=0,l=[],u=null,p=0;;){if(c<r.length&&r[c].to==i){for(var d=r[c++],f=void 0;c<r.length&&r[c].to==i;)(f||(f=[d])).push(r[c++]);if(f){f.sort(zc);for(var h=0;h<f.length;h++)n(f[h],p)}else n(d,p)}var m=void 0,v=void 0;if(u)v=-1,m=u,u=null;else{if(!(p<t.childCount))break;v=p,m=t.child(p++)}for(var g=0;g<l.length;g++)l[g].to<=i&&l.splice(g--,1);for(;c<r.length&&r[c].from==i;)l.push(r[c++]);var y=i+m.nodeSize;if(m.isText){var b=y;c<r.length&&r[c].from<b&&(b=r[c].from);for(var w=0;w<l.length;w++)l[w].to<b&&(b=l[w].to);b<y&&(u=m.cut(b-i),m=m.cut(0,b-i),y=b,v=-1)}o(m,l.length?l.slice():fc,e.forChild(i,m),v),i=y}}(this.node,this.innerDeco,(function(e,i){e.spec.marks?s.syncToMarks(e.spec.marks,o,t):e.type.side>=0&&s.syncToMarks(i==n.node.childCount?h.Mark.none:n.node.child(i).marks,o,t),s.placeWidget(e,t,r)}),(function(e,n,i,a){s.syncToMarks(e.marks,o,t),s.findNodeMatch(e,n,i,a)||s.updateNextNode(e,n,i,t,a)||s.addNode(e,n,i,t,r),r+=e.nodeSize})),s.syncToMarks(fc,o,t),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(i&&this.protectLocalComposition(t,i),this.renderChildren())},e.prototype.renderChildren=function(){!function t(e,n){for(var o=e.firstChild,r=0;r<n.length;r++){var i=n[r],s=i.dom;if(s.parentNode==e){for(;s!=o;)o=Ec(o);o=o.nextSibling}else e.insertBefore(s,o);if(i instanceof vc){var a=o?o.previousSibling:e.lastChild;t(i.contentDOM,i.children),o=a?a.nextSibling:e.firstChild}}for(;o;)o=Ec(o)}(this.contentDOM,this.children),za.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom)},e.prototype.localCompositionNode=function(t,e){var n=t.state.selection,o=n.from,i=n.to;if(!(!(t.state.selection instanceof r.TextSelection)||o<e||i>e+this.node.content.size)){var s=t.root.getSelection(),a=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=qa(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(s.focusNode,s.focusOffset);if(a&&this.dom.contains(a.parentNode)){var c=a.nodeValue,l=function(t,e,n,o){for(var r="",i=0,s=0;i<t.childCount;i++){var a=t.child(i),c=s+a.nodeSize;if(a.isText){if(r+=a.text,c>=o){for(var l=c-r.length,u=r.lastIndexOf(e);u>-1&&l+u>n;)u=r.lastIndexOf(e,u-1);if(u>-1&&l+u+e.length>=o)return l+u;if(c>o)break}}else r="";s=c}return-1}(this.node.content,c,o-e,i-e);return l<0?null:{node:a,pos:l,text:c}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,o=e.pos,r=e.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var s=new mc(this,i,n,r);t.compositionNodes.push(s),this.children=Pc(this.children,o,o+r.length,t,s)}},e.prototype.update=function(t,e,n,o){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,o),!0)},e.prototype.updateInner=function(t,e,n,o){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!Tc(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=kc(this.dom,this.nodeDOM,Cc(this.outerDeco,this.node,e),Cc(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!1)},Object.defineProperties(e.prototype,n),e}(pc);function yc(t,e,n,o,r){return Mc(o,e,t),new gc(null,t,e,n,o,o,o,r,0)}var bc=function(t){function e(e,n,o,r,i,s,a){t.call(this,e,n,o,r,i,null,s,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{skip:this.nodeDOM.parentNode||!0}},e.prototype.update=function(t,e){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text),this.node=t,this.dirty=0,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,o){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,o)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,o){var r=this.node.cut(t,n),i=document.createTextNode(r.text);return new e(this.parent,r,this.outerDeco,this.innerDeco,i,i,o)},e}(gc),wc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return 0==this.dirty},e}(pc),xc=function(t){function e(e,n,o,r,i,s,a,c,l,u){t.call(this,e,n,o,r,i,s,a,l,u),this.spec=c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,o,r){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(e,n);return i&&this.updateInner(e,n,o,r),i}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,o,r)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,o,r){this.spec.setSelection?this.spec.setSelection(e,n,o):t.prototype.setSelection.call(this,e,n,o,r)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(gc);function _c(t){t&&(this.nodeName=t)}_c.prototype=Object.create(null);var Sc=[new _c];function Cc(t,e,n){if(0==t.length)return Sc;for(var o=n?Sc[0]:new _c,r=[o],i=0;i<t.length;i++){var s=t[i].type.attrs,a=o;if(s)for(var c in s.nodeName&&r.push(a=new _c(s.nodeName)),s){var l=s[c];null!=l&&(n&&1==r.length&&r.push(a=o=new _c(e.isInline?"span":"div")),"class"==c?a.class=(a.class?a.class+" ":"")+l:"style"==c?a.style=(a.style?a.style+";":"")+l:"nodeName"!=c&&(a[c]=l))}}return r}function kc(t,e,n,o){if(n==Sc&&o==Sc)return e;for(var r=e,i=0;i<o.length;i++){var s=o[i],a=n[i];if(i){var c=void 0;a&&a.nodeName==s.nodeName&&r!=t&&(c=e.parentNode)&&c.tagName.toLowerCase()==s.nodeName||(c=document.createElement(s.nodeName)).appendChild(r),r=c}Oc(r,a||Sc[0],s)}return r}function Oc(t,e,n){for(var o in e)"class"==o||"style"==o||"nodeName"==o||o in n||t.removeAttribute(o);for(var r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){for(var i=e.class?e.class.split(" "):fc,s=n.class?n.class.split(" "):fc,a=0;a<i.length;a++)-1==s.indexOf(i[a])&&t.classList.remove(i[a]);for(var c=0;c<s.length;c++)-1==i.indexOf(s[c])&&t.classList.add(s[c])}if(e.style!=n.style){if(e.style)for(var l,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;l=u.exec(e.style);)t.style[l[1].toLowerCase()]="";n.style&&(t.style.cssText+=n.style)}}function Mc(t,e,n){return kc(t,t,Sc,Cc(e,n,1!=t.nodeType))}function Tc(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Ec(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var Ac=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1;var n=function(t,e){for(var n=[],o=t.childCount,r=e.length-1;o>0&&r>=0;r--){var i=e[r],s=i.node;if(s){if(s!=t.child(o-1))break;n.push(i),--o}}return{nodes:n.reverse(),offset:o}}(t.node.content,t.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function zc(t,e){return t.type.side-e.type.side}function Pc(t,e,n,o,r){for(var i=[],s=0,a=0;s<t.length;s++){var c=t[s],l=a,u=a+=c.size;l>=n||u<=e?i.push(c):(l<e&&i.push(c.slice(0,e-l,o)),r&&(i.push(r),r=null),u>n&&i.push(c.slice(n-l,c.size,o)))}return i}function Nc(t,e){var n=t.selection,o=n.$anchor,i=n.$head,s=e>0?o.max(i):o.min(i),a=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return a&&r.Selection.findFrom(a,e)}function Dc(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Ic(t,e,n){var o=t.state.selection;if(o instanceof r.TextSelection){if(!o.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var i=Nc(t.state,e);return!!(i&&i instanceof r.NodeSelection)&&Dc(t,i)}var s,a=o.$head,c=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!c||c.isText)return!1;var l=e<0?a.pos-c.nodeSize:a.pos;return!!(c.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM)&&(r.NodeSelection.isSelectable(c)?Dc(t,new r.NodeSelection(e<0?t.state.doc.resolve(a.pos-c.nodeSize):a)):!!za.webkit&&Dc(t,new r.TextSelection(t.state.doc.resolve(e<0?l:l+c.nodeSize))))}if(o instanceof r.NodeSelection&&o.node.isInline)return Dc(t,new r.TextSelection(e>0?o.$to:o.$from));var u=Nc(t.state,e);return!!u&&Dc(t,u)}function jc(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Rc(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Bc(t){var e=t.root.getSelection(),n=e.focusNode,o=e.focusOffset;if(n){var r,i,s=!1;for(za.gecko&&1==n.nodeType&&o<jc(n)&&Rc(n.childNodes[o])&&(s=!0);;)if(o>0){if(1!=n.nodeType)break;var a=n.childNodes[o-1];if(Rc(a))r=n,i=--o;else{if(3!=a.nodeType)break;o=(n=a).nodeValue.length}}else{if(Fc(n))break;for(var c=n.previousSibling;c&&Rc(c);)r=n.parentNode,i=Ra(c),c=c.previousSibling;if(c)o=jc(n=c);else{if((n=n.parentNode)==t.dom)break;o=0}}s?Lc(t,e,n,o):r&&Lc(t,e,r,i)}}function Vc(t){var e=t.root.getSelection(),n=e.focusNode,o=e.focusOffset;if(n){for(var r,i,s=jc(n);;)if(o<s){if(1!=n.nodeType)break;if(!Rc(n.childNodes[o]))break;r=n,i=++o}else{if(Fc(n))break;for(var a=n.nextSibling;a&&Rc(a);)r=a.parentNode,i=Ra(a)+1,a=a.nextSibling;if(a)o=0,s=jc(n=a);else{if((n=n.parentNode)==t.dom)break;o=s=0}}r&&Lc(t,e,r,i)}}function Fc(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Lc(t,e,n,o){if(Ua(e)){var r=document.createRange();r.setEnd(n,o),r.setStart(n,o),e.removeAllRanges(),e.addRange(r)}else e.extend&&e.extend(n,o);t.domObserver.setCurSelection()}function $c(t,e,n){var o=t.state.selection;if(o instanceof r.TextSelection&&!o.empty||n.indexOf("s")>-1)return!1;var i=o.$from,s=o.$to;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var a=Nc(t.state,e);if(a&&a instanceof r.NodeSelection)return Dc(t,a)}if(!i.parent.inlineContent){var c=r.Selection.findFrom(e<0?i:s,e);return!c||Dc(t,c)}return!1}function qc(t,e){if(!(t.state.selection instanceof r.TextSelection))return!0;var n=t.state.selection,o=n.$head,i=n.$anchor,s=n.empty;if(!o.sameParent(i))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var a=!o.textOffset&&(e<0?o.nodeBefore:o.nodeAfter);if(a&&!a.isText){var c=t.state.tr;return e<0?c.delete(o.pos-a.nodeSize,o.pos):c.delete(o.pos,o.pos+a.nodeSize),t.dispatch(c),!0}return!1}function Hc(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Uc(t,e){var n=e.keyCode,o=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||za.mac&&72==n&&"c"==o?qc(t,-1)||Bc(t):46==n||za.mac&&68==n&&"c"==o?qc(t,1)||Vc(t):13==n||27==n||(37==n?Ic(t,-1,o)||Bc(t):39==n?Ic(t,1,o)||Vc(t):38==n?$c(t,-1,o)||Bc(t):40==n?function(t){if(za.chrome&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,o=e.focusOffset;if(n&&1==n.nodeType&&0==o&&n.firstChild&&"false"==n.firstChild.contentEditable){var r=n.firstChild;Hc(t,r,!0),setTimeout((function(){return Hc(t,r,!1)}),20)}}}(t)||$c(t,1,o)||Vc(t):o==(za.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Wc(t,e){var n=t.state.selection;if(Jc(t,n),t.editable?t.hasFocus():Yc(t)&&document.activeElement.contains(t.dom)){if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),n=document.createRange(),o=t.cursorWrapper.dom,r="IMG"==o.nodeName;r?n.setEnd(o.parentNode,Ra(o)+1):n.setEnd(o,0);n.collapse(!1),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&za.ie&&za.ie_version<=11&&(o.disabled=!0,o.disabled=!1)}(t);else{var o,i,s=n.anchor,a=n.head;!Kc||n instanceof r.TextSelection||(n.$from.parent.inlineContent||(o=Gc(t,n.from)),n.empty||n.$from.parent.inlineContent||(i=Gc(t,n.to))),t.docView.setSelection(s,a,t.root,e),Kc&&(o&&(o.contentEditable="false"),i&&(i.contentEditable="false")),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):s!=a&&(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),o=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==o&&n.anchorOffset==r||(e.removeEventListener("selectionchange",t.hideSelectionGuard),t.dom.classList.remove("ProseMirror-hideselection"))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}Ac.prototype.getPreMatch=function(t){return t>=this.preMatchOffset?this.preMatched[t-this.preMatchOffset]:null},Ac.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},Ac.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},Ac.prototype.syncToMarks=function(t,e,n){for(var o=0,r=this.stack.length>>1,i=Math.min(r,t.length);o<i&&(o==r-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&!1!==t[o].type.spec.spanning;)o++;for(;o<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[r])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var c=vc.create(this.top,t[r],e,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,r++}},Ac.prototype.findNodeMatch=function(t,e,n,o){var r=-1,i=o<0?void 0:this.getPreMatch(o),s=this.top.children;if(i&&i.matchesNode(t,e,n))r=s.indexOf(i);else for(var a=this.index,c=Math.min(s.length,a+5);a<c;a++){var l=s[a];if(l.matchesNode(t,e,n)&&this.preMatched.indexOf(l)<0){r=a;break}}return!(r<0)&&(this.destroyBetween(this.index,r),this.index++,!0)},Ac.prototype.updateNextNode=function(t,e,n,o,r){if(this.index==this.top.children.length)return!1;var i=this.top.children[this.index];if(i instanceof gc){var s=this.preMatched.indexOf(i);if(s>-1&&s+this.preMatchOffset!=r)return!1;var a=i.dom;if(!(this.lock&&(a==this.lock||1==a.nodeType&&a.contains(this.lock.parentNode))&&!(t.isText&&i.node&&i.node.isText&&i.nodeDOM.nodeValue==t.text&&3!=i.dirty&&Tc(e,i.outerDeco)))&&i.update(t,e,n,o))return i.dom!=a&&(this.changed=!0),this.index++,!0}return!1},Ac.prototype.addNode=function(t,e,n,o,r){this.top.children.splice(this.index++,0,gc.create(this.top,t,e,n,o,r)),this.changed=!0},Ac.prototype.placeWidget=function(t,e,n){if(this.index<this.top.children.length&&this.top.children[this.index].matchesWidget(t))this.index++;else{var o=new hc(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}},Ac.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof vc;)t=t.children[t.children.length-1];if(!t||!(t instanceof bc)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new wc(this.top,fc,e,null)),this.changed=!0}};var Kc=za.safari||za.chrome&&za.chrome_version<63;function Gc(t,e){var n=t.docView.domFromPos(e),o=n.node,r=n.offset,i=r<o.childNodes.length?o.childNodes[r]:null,s=r?o.childNodes[r-1]:null;if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return i.contentEditable="true",i;if(s)return s.contentEditable="true",s}}function Jc(t,e){if(e instanceof r.NodeSelection){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Xc(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Xc(t)}function Xc(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function Zc(t,e,n,o){return t.someProp("createSelectionBetween",(function(o){return o(t,e,n)}))||r.TextSelection.between(e,n,o)}function Yc(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function Qc(t,e){return function(n){var o=n.pmViewDesc;if(o)return o.parseRule();if("BR"==n.nodeName&&n.parentNode){if(za.safari&&/^(ul|ol)$/i.test(n.parentNode.nodeName))return t.matchTag(document.createElement("li"),e);if(n.parentNode.lastChild==n||za.safari&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if("IMG"==n.nodeName&&n.getAttribute("mark-placeholder"))return{ignore:!0}}}function tl(t,e,n,o){if(e<0){var i=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,s=function(t,e){var n,o,i=t.root.getSelection(),s=t.state.doc,a=t.docView.nearestDesc(i.focusNode),c=a&&0==a.size,l=t.docView.posFromDOM(i.focusNode,i.focusOffset),u=s.resolve(l);if(Ua(i)){for(n=u;a&&!a.node;)a=a.parent;if(a&&a.node.isAtom&&r.NodeSelection.isSelectable(a.node)&&a.parent){var p=a.posBefore;o=new r.NodeSelection(l==p?u:s.resolve(p))}}else n=s.resolve(t.docView.posFromDOM(i.anchorNode,i.anchorOffset));return o||(o=Zc(t,n,u,"pointer"==e||t.state.selection.head<u.pos&&!c?1:-1)),o}(t,i);if(!t.state.selection.eq(s)){var a=t.state.tr.setSelection(s);"pointer"==i?a.setMeta("pointer",!0):"key"==i&&a.scrollIntoView(),t.dispatch(a)}}else{var c=t.state.doc.resolve(e),l=c.sharedDepth(n);e=c.before(l+1),n=t.state.doc.resolve(n).after(l+1);var u,p,d=t.state.selection,f=function(t,e,n){var o=t.docView.parseRange(e,n),r=o.node,i=o.fromOffset,s=o.toOffset,a=o.from,c=o.to,l=t.root.getSelection(),u=null,p=l.anchorNode;if(p&&t.dom.contains(1==p.nodeType?p:p.parentNode)&&(u=[{node:p,offset:l.anchorOffset}],Ua(l)||u.push({node:l.focusNode,offset:l.focusOffset})),za.chrome&&8===t.lastKeyCode)for(var d=s;d>i;d--){var f=r.childNodes[d-1],m=f.pmViewDesc;if("BR"==f.nodeType&&!m){s=d;break}if(!m||m.size)break}var v=t.state.doc,g=t.someProp("domParser")||h.DOMParser.fromSchema(t.state.schema),y=v.resolve(a),b=null,w=g.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:s,preserveWhitespace:!y.parent.type.spec.code||"full",editableContent:!0,findPositions:u,ruleFromNode:Qc(g,y),context:y});if(u&&null!=u[0].pos){var x=u[0].pos,_=u[1]&&u[1].pos;null==_&&(_=x),b={anchor:x+a,head:_+a}}return{doc:w,sel:b,from:a,to:c}}(t,e,n),m=t.state.doc,v=m.slice(f.from,f.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(u=t.state.selection.to,p="end"):(u=t.state.selection.from,p="start"),t.lastKeyCode=null;var g=function(t,e,n,o,r){var i=t.findDiffStart(e,n);if(null==i)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,c=s.b;if("end"==r){var l=Math.max(0,i-Math.min(a,c));o-=a+l-i}if(a<i&&t.size<e.size){c=(i-=o<=i&&o>=a?i-o:0)+(c-a),a=i}else if(c<i){a=(i-=o<=i&&o>=c?i-o:0)+(a-c),c=i}return{start:i,endA:a,endB:c}}(v.content,f.doc.content,f.from,u,p);if(!g){if(!(o&&d instanceof r.TextSelection&&!d.empty&&d.$head.sameParent(d.$anchor))||t.composing||f.sel&&f.sel.anchor!=f.sel.head){if(f.sel){var y=el(t,t.state.doc,f.sel);y&&!y.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(y))}return}g={start:d.from,endA:d.to,endB:d.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof r.TextSelection&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),za.ie&&za.ie_version<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>f.from&&" Â "==f.doc.textBetween(g.start-f.from-1,g.start-f.from+1)&&(g.start--,g.endA--,g.endB--);var b,w=f.doc.resolveNoCache(g.start-f.from),x=f.doc.resolveNoCache(g.endB-f.from);if(!(!w.sameParent(x)&&w.pos<f.doc.content.size&&(b=r.Selection.findFrom(f.doc.resolve(w.pos+1),1,!0))&&b.head==x.pos&&t.someProp("handleKeyDown",(function(e){return e(t,Wa(13,"Enter"))}))))if(t.state.selection.anchor>g.start&&function(t,e,n,o,r){if(!o.parent.isTextblock||n-e<=r.pos-o.pos||nl(o,!0,!1)<r.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=t.resolve(nl(i,!0,!0));if(!s.parent.isTextblock||s.pos>n||nl(s,!0,!1)<n)return!1;return o.parent.content.cut(o.parentOffset).eq(s.parent.content)}(m,g.start,g.endA,w,x)&&t.someProp("handleKeyDown",(function(e){return e(t,Wa(8,"Backspace"))})))za.android&&za.chrome&&t.domObserver.suppressSelectionUpdates();else{var _,S,C,k,O=g.start,M=g.endA;if(w.sameParent(x)&&w.parent.inlineContent)if(w.pos==x.pos)za.ie&&za.ie_version<=11&&0==w.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return Wc(t)}),20)),_=t.state.tr.delete(O,M),S=m.resolve(g.start).marksAcross(m.resolve(g.endA));else if(g.endA==g.endB&&(k=m.resolve(g.start))&&(C=function(t,e){for(var n,o,r,i=t.firstChild.marks,s=e.firstChild.marks,a=i,c=s,l=0;l<s.length;l++)a=s[l].removeFromSet(a);for(var u=0;u<i.length;u++)c=i[u].removeFromSet(c);if(1==a.length&&0==c.length)o=a[0],n="add",r=function(t){return t.mark(o.addToSet(t.marks))};else{if(0!=a.length||1!=c.length)return null;o=c[0],n="remove",r=function(t){return t.mark(o.removeFromSet(t.marks))}}for(var p=[],d=0;d<e.childCount;d++)p.push(r(e.child(d)));if(h.Fragment.from(p).eq(t))return{mark:o,type:n}}(w.parent.content.cut(w.parentOffset,x.parentOffset),k.parent.content.cut(k.parentOffset,g.endA-k.start()))))_=t.state.tr,"add"==C.type?_.addMark(O,M,C.mark):_.removeMark(O,M,C.mark);else if(w.parent.child(w.index()).isText&&w.index()==x.index()-(x.textOffset?0:1)){var T=w.parent.textBetween(w.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,O,M,T)})))return;_=t.state.tr.insertText(T,O,M)}if(_||(_=t.state.tr.replace(O,M,f.doc.slice(g.start-f.from,g.endB-f.from))),f.sel){var E=el(t,_.doc,f.sel);E&&!(za.chrome&&za.android&&t.composing&&E.empty&&E.head==O||za.ie&&E.empty&&E.head==O)&&_.setSelection(E)}S&&_.ensureMarks(S),t.dispatch(_.scrollIntoView())}}}function el(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Zc(t,e.resolve(n.anchor),e.resolve(n.head))}function nl(t,e,n){for(var o=t.depth,r=e?t.end():t.pos;o>0&&(e||t.indexAfter(o)==t.node(o).childCount);)o--,r++,e=!1;if(n)for(var i=t.node(o).maybeChild(t.indexAfter(o));i&&!i.isLeaf;)i=i.firstChild,r++;return r}function ol(t,e){for(var n=[],o=e.content,r=e.openStart,i=e.openEnd;r>1&&i>1&&1==o.childCount&&1==o.firstChild.childCount;){r--,i--;var s=o.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),o=s.content}var a=t.someProp("clipboardSerializer")||h.DOMSerializer.fromSchema(t.state.schema),c=ll(),l=c.createElement("div");l.appendChild(a.serializeFragment(o,{document:c}));for(var u,p=l.firstChild;p&&1==p.nodeType&&(u=al[p.nodeName.toLowerCase()]);){for(var d=u.length-1;d>=0;d--){for(var f=c.createElement(u[d]);l.firstChild;)f.appendChild(l.firstChild);l.appendChild(f)}p=l.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",r+" "+i+" "+JSON.stringify(n)),{dom:l,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function rl(t,e,n,o,r){var i,s,a=r.parent.type.spec.code;if(!n&&!e)return null;var c=e&&(o||a||!n);if(c){if(t.someProp("transformPastedText",(function(t){e=t(e)})),a)return new h.Slice(h.Fragment.from(t.state.schema.text(e)),0,0);var l=t.someProp("clipboardTextParser",(function(t){return t(e,r)}));l?s=l:(i=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){i.appendChild(document.createElement("p")).textContent=t})))}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),i=function(t){var e=/(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,o=ll().createElement("div"),r=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(t),i=0;(n=r&&al[r[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""),i=n.length);o.innerHTML=t;for(var s=0;s<i;s++)o=o.firstChild;return o}(n);var u=i&&i.querySelector("[data-pm-slice]"),p=u&&/^(\d+) (\d+) (.*)/.exec(u.getAttribute("data-pm-slice"));if(!s){var d=t.someProp("clipboardParser")||t.someProp("domParser")||h.DOMParser.fromSchema(t.state.schema);s=d.parseSlice(i,{preserveWhitespace:!(!c&&!p),context:r})}return s=p?function(t,e){if(!t.size)return t;var n,o=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var r=t.content,i=t.openStart,s=t.openEnd,a=n.length-2;a>=0;a-=2){var c=o.nodes[n[a]];if(!c||c.hasRequiredAttrs())break;r=h.Fragment.from(c.create(n[a+1],r)),i++,s++}return new h.Slice(r,i,s)}(function(t,e,n){e<t.openStart&&(t=new h.Slice(sl(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd));n<t.openEnd&&(t=new h.Slice(sl(t.content,1,n,t.openEnd,0,0),t.openStart,n));return t}(s,+p[1],+p[2]),p[3]):h.Slice.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var o=e.node(n).contentMatchAt(e.index(n)),r=void 0,i=[];if(t.forEach((function(t){if(i){var e,n=o.findWrapping(t.type);if(!n)return i=null;if(e=i.length&&r.length&&function t(e,n,o,r,i){if(i<e.length&&i<n.length&&e[i]==n[i]){var s=t(e,n,o,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?o.type:e[i+1]))return r.copy(r.content.append(h.Fragment.from(il(o,e,i+1))))}}(n,r,t,i[i.length-1],0))i[i.length-1]=e;else{i.length&&(i[i.length-1]=function t(e,n){if(0==n)return e;var o=e.content.replaceChild(e.childCount-1,t(e.lastChild,n-1)),r=e.contentMatchAt(e.childCount).fillBefore(h.Fragment.empty,!0);return e.copy(o.append(r))}(i[i.length-1],r.length));var s=il(t,n);i.push(s),o=o.matchType(s.type,s.attrs),r=n}}})),i)return{v:h.Fragment.from(i)}},o=e.depth;o>=0;o--){var r=n(o);if(r)return r.v}return t}(s.content,r),!1),t.someProp("transformPasted",(function(t){s=t(s)})),s}function il(t,e,n){void 0===n&&(n=0);for(var o=e.length-1;o>=n;o--)t=e[o].create(null,h.Fragment.from(t));return t}function sl(t,e,n,o,r,i){var s=e<0?t.firstChild:t.lastChild,a=s.content;return r<o-1&&(a=sl(a,e,n,o,r+1,i)),r>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||i<=r).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(h.Fragment.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}var al={thead:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},cl=null;function ll(){return cl||(cl=document.implementation.createHTMLDocument("title"))}var ul={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},pl=za.ie&&za.ie_version<=11,dl=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};dl.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},dl.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var fl=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=!1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);za.ie&&za.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new dl,pl&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};fl.prototype.flushSoon=function(){var t=this;this.flushingSoon||(this.flushingSoon=!0,window.setTimeout((function(){t.flushingSoon=!1,t.flush()}),20))},fl.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,ul),pl&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},fl.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}pl&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},fl.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},fl.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},fl.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},fl.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&Yc(t)){var t;if(this.suppressingSelectionUpdates)return Wc(this.view);if(za.ie&&za.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&Fa(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},fl.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},fl.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})},fl.prototype.flush=function(){if(this.view.docView&&!this.flushingSoon){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&Yc(this.view)&&!this.ignoreSelectionChange(e),o=-1,r=-1,i=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var c=this.registerMutation(t[a],s);c&&(o=o<0?c.from:Math.min(c.from,o),r=r<0?c.to:Math.max(c.to,r),c.typeOver&&!this.view.composing&&(i=!0))}(o>-1||n)&&(o>-1&&(this.view.docView.markDirty(o,r),function(t){if(hl)return;hl=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(o,r,i),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||Wc(this.view))}},fl.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){var o=t.previousSibling,r=t.nextSibling;if(za.ie&&za.ie_version<=11&&t.addedNodes.length)for(var i=0;i<t.addedNodes.length;i++){var s=t.addedNodes[i],a=s.previousSibling,c=s.nextSibling;(!a||Array.prototype.indexOf.call(t.addedNodes,a)<0)&&(o=a),(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(r=c)}for(var l=o&&o.parentNode==t.target?Ra(o)+1:0,u=n.localPosFromDOM(t.target,l,-1),p=r&&r.parentNode==t.target?Ra(r):t.target.childNodes.length,d=0;d<t.addedNodes.length;d++)e.push(t.addedNodes[d]);return{from:u,to:n.localPosFromDOM(t.target,p,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var hl=!1;var ml={},vl={};function gl(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function yl(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return bl(t,e)})}))}function bl(t,e){return t.someProp("handleDOMEvents",(function(n){var o=n[e.type];return!!o&&(o(t,e)||e.defaultPrevented)}))}function wl(t){return{left:t.clientX,top:t.clientY}}function xl(t,e,n,o,r){if(-1==o)return!1;for(var i=t.state.doc.resolve(o),s=function(o){if(t.someProp(e,(function(e){return o>i.depth?e(t,n,i.nodeAfter,i.before(o),r,!0):e(t,n,i.node(o),i.before(o),r,!1)})))return{v:!0}},a=i.depth+1;a>0;a--){var c=s(a);if(c)return c.v}return!1}function _l(t,e,n){t.focused||t.focus();var o=t.state.tr.setSelection(e);"pointer"==n&&o.setMeta("pointer",!0),t.dispatch(o)}function Sl(t,e,n,o,i){return xl(t,"handleClickOn",e,n,o)||t.someProp("handleClick",(function(n){return n(t,e,o)}))||(i?function(t,e){if(-1==e)return!1;var n,o,i=t.state.selection;i instanceof r.NodeSelection&&(n=i.node);for(var s=t.state.doc.resolve(e),a=s.depth+1;a>0;a--){var c=a>s.depth?s.nodeAfter:s.node(a);if(r.NodeSelection.isSelectable(c)){o=n&&i.$from.depth>0&&a>=i.$from.depth&&s.before(i.$from.depth+1)==i.$from.pos?s.before(i.$from.depth):s.before(a);break}}return null!=o&&(_l(t,r.NodeSelection.create(t.state.doc,o),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),o=n.nodeAfter;return!!(o&&o.isAtom&&r.NodeSelection.isSelectable(o))&&(_l(t,new r.NodeSelection(n),"pointer"),!0)}(t,n))}function Cl(t,e,n,o){return xl(t,"handleDoubleClickOn",e,n,o)||t.someProp("handleDoubleClick",(function(n){return n(t,e,o)}))}function kl(t,e,n,o){return xl(t,"handleTripleClickOn",e,n,o)||t.someProp("handleTripleClick",(function(n){return n(t,e,o)}))||function(t,e){var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(_l(t,r.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var o=n.resolve(e),i=o.depth+1;i>0;i--){var s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)_l(t,r.TextSelection.create(n,a+1,a+1+s.content.size),"pointer");else{if(!r.NodeSelection.isSelectable(s))continue;_l(t,r.NodeSelection.create(n,a),"pointer")}return!0}}(t,n)}function Ol(t){return Pl(t)}vl.keydown=function(t,e){t.shiftKey=16==e.keyCode||e.shiftKey,El(t,e)||(t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),t.someProp("handleKeyDown",(function(n){return n(t,e)}))||Uc(t,e)?e.preventDefault():gl(t,"key"))},vl.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},vl.keypress=function(t,e){if(!(El(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||za.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof r.TextSelection&&n.$from.sameParent(n.$to))){var o=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,o)}))||t.dispatch(t.state.tr.insertText(o).scrollIntoView()),e.preventDefault()}}};var Ml=za.mac?"metaKey":"ctrlKey";ml.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=Ol(t),o=Date.now(),r="singleClick";o-t.lastClick.time<500&&function(t,e){var n=e.x-t.clientX,o=e.y-t.clientY;return n*n+o*o<100}(e,t.lastClick)&&!e[Ml]&&("singleClick"==t.lastClick.type?r="doubleClick":"doubleClick"==t.lastClick.type&&(r="tripleClick")),t.lastClick={time:o,x:e.clientX,y:e.clientY,type:r};var i=t.posAtCoords(wl(e));i&&("singleClick"==r?t.mouseDown=new Tl(t,i,e,n):("doubleClick"==r?Cl:kl)(t,i.pos,i.inside,e)?e.preventDefault():gl(t,"pointer"))};var Tl=function(t,e,n,o){var i,s,a=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=o,this.selectNode=n[Ml],this.allowDefault=n.shiftKey,e.inside>-1)i=t.state.doc.nodeAt(e.inside),s=e.inside;else{var c=t.state.doc.resolve(e.pos);i=c.parent,s=c.depth?c.before():0}this.mightDrag=null;var l=o?null:n.target,u=l?t.docView.nearestDesc(l,!0):null;this.target=u?u.dom:null,(i.type.spec.draggable&&!1!==i.type.spec.selectable||t.state.selection instanceof r.NodeSelection&&s==t.state.selection.from)&&(this.mightDrag={node:i,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&za.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return a.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),gl(t,"pointer")};function El(t,e){return!!t.composing||!!(za.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}Tl.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!1),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},Tl.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(wl(t))),this.allowDefault||!e?gl(this.view,"pointer"):Sl(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():!this.flushed&&(!za.chrome||this.view.state.selection instanceof r.TextSelection||e.pos!=this.view.state.selection.from&&e.pos!=this.view.state.selection.to)?gl(this.view,"pointer"):(_l(this.view,r.Selection.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault())}},Tl.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),gl(this.view,"pointer")},ml.touchdown=function(t){Ol(t),gl(t,"pointer")},ml.contextmenu=function(t){return Ol(t)};var Al=za.android?5e3:-1;function zl(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return Pl(t)}),e))}function Pl(t,e){for(t.composing=!1;t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty();return!(!e&&!t.docView.dirty)&&(t.updateState(t.state),!0)}vl.compositionstart=vl.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),Pl(t,!0),t.markCursor=null;else if(Pl(t),za.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var o=t.root.getSelection(),r=o.focusNode,i=o.focusOffset;r&&1==r.nodeType&&0!=i;){var s=i<0?r.lastChild:r.childNodes[i-1];if(3==s.nodeType){o.collapse(s,s.nodeValue.length);break}r=s,i=-1}t.composing=!0}zl(t,Al)},vl.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,zl(t,20))};var Nl=za.ie&&za.ie_version<15||za.ios&&za.webkit_version<604;function Dl(t,e,n,o){var r=rl(t,e,n,t.shiftKey,t.state.selection.$from);if(!t.someProp("handlePaste",(function(e){return e(t,o,r||h.Slice.empty)}))&&r){var i=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(r),s=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(r);t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}ml.copy=vl.cut=function(t,e){var n=t.state.selection,o="cut"==e.type;if(!n.empty){var r=Nl?null:e.clipboardData,i=ol(t,n.content()),s=i.dom,a=i.text;r?(e.preventDefault(),r.clearData(),r.setData("text/html",s.innerHTML),r.setData("text/plain",a)):function(t,e){var n=t.dom.ownerDocument,o=n.body.appendChild(n.createElement("div"));o.appendChild(e),o.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),i=n.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((function(){n.body.removeChild(o),t.focus()}),50)}(t,s),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},vl.paste=function(t,e){var n=Nl?null:e.clipboardData,o=n&&n.getData("text/html"),r=n&&n.getData("text/plain");n&&(o||r||n.files.length)?(Dl(t,r,o,e),e.preventDefault()):function(t,e){var n=t.dom.ownerDocument,o=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=n.body.appendChild(n.createElement(o?"textarea":"div"));o||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){t.focus(),n.body.removeChild(r),o?Dl(t,r.value,null,e):Dl(t,r.textContent,r.innerHTML,e)}),50)}(t,e)};var Il=function(t,e){this.slice=t,this.move=e},jl=za.mac?"altKey":"ctrlKey";for(var Rl in ml.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var o=t.state.selection,i=o.empty?null:t.posAtCoords(wl(e));if(i&&i.pos>=o.from&&i.pos<=(o instanceof r.NodeSelection?o.to-1:o.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(r.NodeSelection.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var s=t.docView.nearestDesc(e.target,!0);if(!s||!s.node.type.spec.draggable||s==t.docView)return;t.dispatch(t.state.tr.setSelection(r.NodeSelection.create(t.state.doc,s.posBefore)))}var a=t.state.selection.content(),c=ol(t,a),l=c.dom,u=c.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Nl?"Text":"text/html",l.innerHTML),Nl||e.dataTransfer.setData("text/plain",u),t.dragging=new Il(a,!e[jl])}},ml.dragend=function(t){window.setTimeout((function(){return t.dragging=null}),50)},vl.dragover=vl.dragenter=function(t,e){return e.preventDefault()},vl.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var o=t.posAtCoords(wl(e));if(o){var i=t.state.doc.resolve(o.pos);if(i){var s=n&&n.slice||rl(t,e.dataTransfer.getData(Nl?"Text":"text/plain"),Nl?null:e.dataTransfer.getData("text/html"),!1,i);if(s&&(e.preventDefault(),!t.someProp("handleDrop",(function(o){return o(t,e,s,n&&n.move)})))){var a=s?function(t,e,n){var o=t.resolve(e);if(!n.content.size)return e;for(var r=n.content,i=0;i<n.openStart;i++)r=r.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=o.depth;a>=0;a--){var c=a==o.depth?0:o.pos<=(o.start(a+1)+o.end(a+1))/2?-1:1,l=o.index(a)+(c>0?1:0);if(1==s?o.node(a).canReplace(l,l,r):o.node(a).contentMatchAt(l).findWrapping(r.firstChild.type))return 0==c?o.pos:c<0?o.before(a+1):o.after(a+1)}return null}(t.state.doc,i.pos,s):i.pos;null==a&&(a=i.pos);var c=t.state.tr;n&&n.move&&c.deleteSelection();var l=c.mapping.map(a),u=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,p=c.doc;if(u?c.replaceRangeWith(l,l,s.content.firstChild):c.replaceRange(l,l,s),!c.doc.eq(p)){var d=c.doc.resolve(l);u&&r.NodeSelection.isSelectable(s.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(s.content.firstChild)?c.setSelection(new r.NodeSelection(d)):c.setSelection(Zc(t,d,c.doc.resolve(c.mapping.map(a)))),t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}}}}}},ml.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0)},ml.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.domObserver.currentSelection.set({}),t.focused=!1)},ml.beforeinput=function(t,e){if(za.chrome&&za.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,Wa(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},vl)ml[Rl]=vl[Rl];function Bl(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var o in e)if(!(o in t))return!1;return!0}var Vl=function(t,e){this.spec=e||Ul,this.side=this.spec.side||0,this.toDOM=t};Vl.prototype.map=function(t,e,n,o){var r=t.mapResult(e.from+o,this.side<0?-1:1),i=r.pos;return r.deleted?null:new $l(i-n,i-n,this)},Vl.prototype.valid=function(){return!0},Vl.prototype.eq=function(t){return this==t||t instanceof Vl&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Bl(this.spec,t.spec))};var Fl=function(t,e){this.spec=e||Ul,this.attrs=t};Fl.prototype.map=function(t,e,n,o){var r=t.map(e.from+o,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+o,this.spec.inclusiveEnd?1:-1)-n;return r>=i?null:new $l(r,i,this)},Fl.prototype.valid=function(t,e){return e.from<e.to},Fl.prototype.eq=function(t){return this==t||t instanceof Fl&&Bl(this.attrs,t.attrs)&&Bl(this.spec,t.spec)},Fl.is=function(t){return t.type instanceof Fl};var Ll=function(t,e){this.spec=e||Ul,this.attrs=t};Ll.prototype.map=function(t,e,n,o){var r=t.mapResult(e.from+o,1);if(r.deleted)return null;var i=t.mapResult(e.to+o,-1);return i.deleted||i.pos<=r.pos?null:new $l(r.pos-n,i.pos-n,this)},Ll.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),o=n.index,r=n.offset;return r==e.from&&r+t.child(o).nodeSize==e.to},Ll.prototype.eq=function(t){return this==t||t instanceof Ll&&Bl(this.attrs,t.attrs)&&Bl(this.spec,t.spec)};var $l=function(t,e,n){this.from=t,this.to=e,this.type=n},ql={spec:{configurable:!0}};$l.prototype.copy=function(t,e){return new $l(t,e,this.type)},$l.prototype.eq=function(t){return this.type.eq(t.type)&&this.from==t.from&&this.to==t.to},$l.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},$l.widget=function(t,e,n){return new $l(t,t,new Vl(e,n))},$l.inline=function(t,e,n,o){return new $l(t,e,new Fl(n,o))},$l.node=function(t,e,n,o){return new $l(t,e,new Ll(n,o))},ql.spec.get=function(){return this.type.spec},Object.defineProperties($l.prototype,ql);var Hl=[],Ul={},Wl=function(t,e){this.local=t&&t.length?t:Hl,this.children=e&&e.length?e:Hl};Wl.create=function(t,e){return e.length?Yl(e,t,0,Ul):Kl},Wl.prototype.find=function(t,e,n){var o=[];return this.findInner(null==t?0:t,null==e?1e9:e,o,0,n),o},Wl.prototype.findInner=function(t,e,n,o,r){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=e&&s.to>=t&&(!r||r(s.spec))&&n.push(s.copy(s.from+o,s.to+o))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var c=this.children[a]+1;this.children[a+2].findInner(t-c,e-c,n,o+c,r)}},Wl.prototype.map=function(t,e,n){return this==Kl||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Ul)},Wl.prototype.mapInner=function(t,e,n,o,r){for(var i,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,o);a&&a.type.valid(e,a)?(i||(i=[])).push(a):r.onRemove&&r.onRemove(this.local[s].spec)}return this.children.length?function(t,e,n,o,r,i,s){for(var a=t.slice(),c=function(t,e,n,o){for(var s=0;s<a.length;s+=3){var c=a[s+1],l=void 0;-1==c||t>c+i||(e>=a[s]+i?a[s+1]=-1:(l=o-n-(e-t)+(i-r))&&(a[s]+=l,a[s+1]+=l))}},l=0;l<n.maps.length;l++)n.maps[l].forEach(c);for(var u=!1,p=0;p<a.length;p+=3)if(-1==a[p+1]){var d=n.map(a[p]+i),f=d-r;if(f<0||f>=o.content.size){u=!0;continue}var h=n.map(t[p+1]+i,-1)-r,m=o.content.findIndex(f),v=m.index,g=m.offset,y=o.maybeChild(v);if(y&&g==f&&g+y.nodeSize==h){var b=a[p+2].mapInner(n,y,d+1,a[p]+i+1,s);b!=Kl?(a[p]=f,a[p+1]=h,a[p+2]=b):(a[p+1]=-2,u=!0)}else u=!0}if(u){var w=Yl(function(t,e,n,o,r,i,s){function a(t,e){for(var i=0;i<t.local.length;i++){var c=t.local[i].map(o,r,e);c?n.push(c):s.onRemove&&s.onRemove(t.local[i].spec)}for(var l=0;l<t.children.length;l+=3)a(t.children[l+2],t.children[l]+e+1)}for(var c=0;c<t.length;c+=3)-1==t[c+1]&&a(t[c+2],e[c]+i+1);return n}(a,t,e||[],n,r,i,s),o,0,s);e=w.local;for(var x=0;x<a.length;x+=3)a[x+1]<0&&(a.splice(x,3),x-=3);for(var _=0,S=0;_<w.children.length;_+=3){for(var C=w.children[_];S<a.length&&a[S]<C;)S+=3;a.splice(S,0,w.children[_],w.children[_+1],w.children[_+2])}}return new Wl(e&&e.sort(Ql),a)}(this.children,i,t,e,n,o,r):i?new Wl(i.sort(Ql)):Kl},Wl.prototype.add=function(t,e){return e.length?this==Kl?Wl.create(t,e):this.addInner(t,e,0):this},Wl.prototype.addInner=function(t,e,n){var o,r=this,i=0;t.forEach((function(t,s){var a,c=s+n;if(a=Xl(e,t,c)){for(o||(o=r.children.slice());i<o.length&&o[i]<s;)i+=3;o[i]==s?o[i+2]=o[i+2].addInner(t,a,c+1):o.splice(i,0,s,s+t.nodeSize,Yl(a,t,c+1,Ul)),i+=3}}));var s=Jl(i?Zl(e):e,-n);return new Wl(s.length?this.local.concat(s).sort(Ql):this.local,o||this.children)},Wl.prototype.remove=function(t){return 0==t.length||this==Kl?this:this.removeInner(t,0)},Wl.prototype.removeInner=function(t,e){for(var n=this.children,o=this.local,r=0;r<n.length;r+=3){for(var i=void 0,s=n[r]+e,a=n[r+1]+e,c=0,l=void 0;c<t.length;c++)(l=t[c])&&l.from>s&&l.to<a&&(t[c]=null,(i||(i=[])).push(l));if(i){n==this.children&&(n=this.children.slice());var u=n[r+2].removeInner(i,s+1);u!=Kl?n[r+2]=u:(n.splice(r,3),r-=3)}}if(o.length)for(var p=0,d=void 0;p<t.length;p++)if(d=t[p])for(var f=0;f<o.length;f++)o[f].type.eq(d.type)&&(o==this.local&&(o=this.local.slice()),o.splice(f--,1));return n==this.children&&o==this.local?this:o.length||n.length?new Wl(o,n):Kl},Wl.prototype.forChild=function(t,e){if(this==Kl)return this;if(e.isLeaf)return Wl.empty;for(var n,o,r=0;r<this.children.length;r+=3)if(this.children[r]>=t){this.children[r]==t&&(n=this.children[r+2]);break}for(var i=t+1,s=i+e.content.size,a=0;a<this.local.length;a++){var c=this.local[a];if(c.from<s&&c.to>i&&c.type instanceof Fl){var l=Math.max(i,c.from)-i,u=Math.min(s,c.to)-i;l<u&&(o||(o=[])).push(c.copy(l,u))}}if(o){var p=new Wl(o.sort(Ql));return n?new Gl([p,n]):p}return n||Kl},Wl.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof Wl)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},Wl.prototype.locals=function(t){return tu(this.localsInner(t))},Wl.prototype.localsInner=function(t){if(this==Kl)return Hl;if(t.inlineContent||!this.local.some(Fl.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Fl||e.push(this.local[n]);return e};var Kl=new Wl;Wl.empty=Kl,Wl.removeOverlap=tu;var Gl=function(t){this.members=t};function Jl(t,e){if(!e||!t.length)return t;for(var n=[],o=0;o<t.length;o++){var r=t[o];n.push(new $l(r.from+e,r.to+e,r.type))}return n}function Xl(t,e,n){if(e.isLeaf)return null;for(var o=n+e.nodeSize,r=null,i=0,s=void 0;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<o&&((r||(r=[])).push(s),t[i]=null);return r}function Zl(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function Yl(t,e,n,o){var r=[],i=!1;e.forEach((function(e,s){var a=Xl(t,e,s+n);if(a){i=!0;var c=Yl(a,e,n+s+1,o);c!=Kl&&r.push(s,s+e.nodeSize,c)}}));for(var s=Jl(i?Zl(t):t,-n).sort(Ql),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(o.onRemove&&o.onRemove(s[a].spec),s.splice(a--,1));return s.length||r.length?new Wl(s,r):Kl}function Ql(t,e){return t.from-e.from||t.to-e.to}function tu(t){for(var e=t,n=0;n<e.length-1;n++){var o=e[n];if(o.from!=o.to)for(var r=n+1;r<e.length;r++){var i=e[r];if(i.from!=o.from){i.from<o.to&&(e==t&&(e=t.slice()),e[n]=o.copy(o.from,i.from),eu(e,r,o.copy(i.from,o.to)));break}i.to!=o.to&&(e==t&&(e=t.slice()),e[r]=i.copy(i.from,o.to),eu(e,r+1,i.copy(o.to,i.to)))}}return e}function eu(t,e,n){for(;e<t.length&&Ql(n,t[e])>0;)e++;t.splice(e,0,n)}function nu(t){var e=[];return t.someProp("decorations",(function(n){var o=n(t.state);o&&o!=Kl&&e.push(o)})),t.cursorWrapper&&e.push(Wl.create(t.state.doc,[t.cursorWrapper.deco])),Gl.from(e)}Gl.prototype.forChild=function(t,e){if(e.isLeaf)return Wl.empty;for(var n=[],o=0;o<this.members.length;o++){var r=this.members[o].forChild(t,e);r!=Kl&&(r instanceof Gl?n=n.concat(r.members):n.push(r))}return Gl.from(n)},Gl.prototype.eq=function(t){if(!(t instanceof Gl)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},Gl.prototype.locals=function(t){for(var e,n=!0,o=0;o<this.members.length;o++){var r=this.members[o].localsInner(t);if(r.length)if(e){n&&(e=e.slice(),n=!1);for(var i=0;i<r.length;i++)e.push(r[i])}else e=r}return e?tu(n?e:e.sort(Ql)):Hl},Gl.from=function(t){switch(t.length){case 0:return Kl;case 1:return t[0];default:return new Gl(t)}};var ou=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=au(this),this.markCursor=null,this.cursorWrapper=null,su(this),this.nodeViews=lu(this),this.docView=yc(this.state.doc,iu(this),nu(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new fl(t,(function(e,n,o){return tl(t,e,n,o)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=ml[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||bl(t,e)||!t.editable&&e.type in vl||n(t,e)})};for(var n in ml)e(n);za.safari&&t.dom.addEventListener("input",(function(){return null})),yl(t)}(this),this.pluginViews=[],this.updatePluginViews()},ru={props:{configurable:!0},root:{configurable:!0}};function iu(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var o in n)"class"==o?e.class+=" "+n[o]:e[o]||"contenteditable"==o||"nodeName"==o||(e[o]=String(n[o]))})),[$l.node(0,t.state.doc.content.size,e)]}function su(t){var e=t.state.selection,n=e.$head,o=e.$anchor,r=e.visible;if(t.markCursor){var i=document.createElement("img");i.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:i,deco:$l.widget(n.pos,i,{raw:!0,marks:t.markCursor})}}else if(r||n.pos!=o.pos)t.cursorWrapper=null;else{var s;!t.cursorWrapper||t.cursorWrapper.dom.childNodes.length?((s=document.createElement("div")).style.position="absolute",s.style.left="-100000px"):t.cursorWrapper.deco.pos!=n.pos&&(s=t.cursorWrapper.dom),s&&(t.cursorWrapper={dom:s,deco:$l.widget(n.pos,s,{raw:!0})})}}function au(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function cu(t){var e=t.getSelection(),n=e.focusOffset,o=e.focusNode;return o&&3!=o.nodeType?[o,n,1==o.nodeType?o.childNodes[n-1]:null,1==o.nodeType?o.childNodes[n]:null]:null}function lu(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}function uu(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function pu(t,e){for(;t;t="start"==e?t.firstChild:t.lastChild)if(t.isTextblock)return!0;return!1}function du(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function fu(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function hu(t,e){return e&&e(t.tr.setSelection(new r.AllSelection(t.doc))),!0}function mu(t,e,n){var o,i,s=e.nodeBefore,a=e.nodeAfter;if(s.type.spec.isolating||a.type.spec.isolating)return!1;if(function(t,e,n){var o=e.nodeBefore,r=e.nodeAfter,i=e.index();return!!(o&&r&&o.type.compatibleContent(r.type))&&(!o.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-o.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(i,i+1)||!r.isTextblock&&!ba(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,o.type,o.contentMatchAt(o.childCount)).join(e.pos).scrollIntoView()),!0))}(t,e,n))return!0;if(e.parent.canReplace(e.index(),e.index()+1)&&(o=(i=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&i.matchType(o[0]||a.type).validEnd){if(n){for(var c=e.pos+a.nodeSize,l=h.Fragment.empty,u=o.length-1;u>=0;u--)l=h.Fragment.from(o[u].create(null,l));l=h.Fragment.from(s.copy(l));var p=t.tr.step(new ha(e.pos-1,c,e.pos,c,new h.Slice(l,1,0),o.length,!0)),d=c+2*o.length;ba(p.doc,d)&&p.join(d),n(p.scrollIntoView())}return!0}var f=r.Selection.findFrom(e,1),m=f&&f.$from.blockRange(f.$to),v=m&&ga(m);return null!=v&&v>=e.depth&&(n&&n(t.tr.lift(m,v).scrollIntoView()),!0)}function vu(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,o){for(var r=0;r<t.length;r++)if(t[r](e,n,o))return!0;return!1}}ru.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},ou.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&yl(this),this._props=t,this.updateStateInner(t.state,!0)},ou.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var o in e.state=this.state,t)e[o]=t[o];this.update(e)},ou.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},ou.prototype.updateStateInner=function(t,e){var n=this,o=this.state,i=!1;if(this.state=t,e){var s=lu(this);(function(t,e){var n=0,o=0;for(var r in t){if(t[r]!=e[r])return!0;n++}for(var i in e)o++;return n!=o})(s,this.nodeViews)&&(this.nodeViews=s,i=!0),yl(this)}this.editable=au(this),su(this);var a,c,l,u,p,d,f,h,m=nu(this),v=iu(this),g=e?"reset":t.scrollToSelection>o.scrollToSelection?"to selection":"preserve",y=i||!this.docView.matchesNode(t.doc,v,m),b=y||!t.selection.eq(o.selection),w="preserve"==g&&b&&null==this.dom.style.overflowAnchor&&function(t){for(var e,n,o=t.dom.getBoundingClientRect(),r=Math.max(0,o.top),i=(o.left+o.right)/2,s=r+1;s<Math.min(innerHeight,o.bottom);s+=5){var a=t.root.elementFromPoint(i,s);if(a!=t.dom&&t.dom.contains(a)){var c=a.getBoundingClientRect();if(c.top>=r-20){e=a,n=c.top;break}}}return{refDOM:e,refTop:n,stack:Xa(t.dom)}}(this);if(b){this.domObserver.stop();var x=!1;if(y){var _=za.chrome&&cu(this.root);!i&&this.docView.update(t.doc,v,m,this)||(this.docView.destroy(),this.docView=yc(t.doc,v,m,this.dom,this)),_&&(x=!this.composing&&function(t,e){var n=cu(e);if(!n||3==n[0].nodeType)return!1;for(var o=0;o<t.length;o++)if(n[o]!=t[o])return!0;return!1}(_,this.root)),za.ie&&za.ie_version<=11&&!o.selection.empty&&t.selection.empty&&t.doc.content.size<o.doc.content.size&&(x=!0)}x||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(a=this,c=a.docView.domFromPos(a.state.selection.anchor),l=a.root.getSelection(),Fa(c.node,c.offset,l.anchorNode,l.anchorOffset)))?Wc(this,x):(Jc(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),"reset"==g)this.dom.scrollTop=0;else if("to selection"==g){var S=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof r.NodeSelection?Ja(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),S):Ja(this,this.coordsAtPos(t.selection.head),S))}else w&&(p=(u=w).refDOM,d=u.refTop,f=u.stack,h=p?p.getBoundingClientRect().top:0,Za(f,0==h?0:h-d))},ou.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},ou.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var o=0;o<this.state.plugins.length;o++){var r=this.state.plugins[o];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}},ou.prototype.someProp=function(t,e){var n,o=this._props&&this._props[t];if(null!=o&&(n=e?e(o):o))return n;var r=this.state.plugins;if(r)for(var i=0;i<r.length;i++){var s=r[i].props[t];if(null!=s&&(n=e?e(s):s))return n}},ou.prototype.hasFocus=function(){return this.root.activeElement==this.dom},ou.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(Ya)return t.focus(Ya);var e=Xa(t);t.focus(null==Ya?{get preventScroll(){return Ya={preventScroll:!0},!0}}:void 0),Ya||(Ya=!1,Za(e,0))}(this.dom),Wc(this),this.domObserver.start()},ru.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return this._root=e;return t||document},ou.prototype.posAtCoords=function(t){return ec(this,t)},ou.prototype.coordsAtPos=function(t){return oc(this,t)},ou.prototype.domAtPos=function(t){return this.docView.domFromPos(t)},ou.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},ou.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var o=this.docView.posFromDOM(t,e,n);if(null==o)throw new RangeError("DOM position not inside the editor");return o},ou.prototype.endOfTextblock=function(t,e){return uc(this,e||this.state,t)},ou.prototype.destroy=function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],nu(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},ou.prototype.dispatchEvent=function(t){return function(t,e){bl(t,e)||!ml[e.type]||!t.editable&&e.type in vl||ml[e.type](t,e)}(this,t)},ou.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(ou.prototype,ru);var gu=vu(uu,(function(t,e,n){var o=t.selection.$cursor;if(!o||(n?!n.endOfTextblock("backward",t):o.parentOffset>0))return!1;var i=du(o);if(!i){var s=o.blockRange(),a=s&&ga(s);return null!=a&&(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}var c=i.nodeBefore;if(!c.type.spec.isolating&&mu(t,i,e))return!0;if(0==o.parent.content.size&&(pu(c,"end")||r.NodeSelection.isSelectable(c))){if(e){var l=t.tr.deleteRange(o.before(),o.after());l.setSelection(pu(c,"end")?r.Selection.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):r.NodeSelection.create(l.doc,i.pos-c.nodeSize)),e(l.scrollIntoView())}return!0}return!(!c.isAtom||i.depth!=o.depth-1)&&(e&&e(t.tr.delete(i.pos-c.nodeSize,i.pos).scrollIntoView()),!0)}),(function(t,e,n){var o=t.selection.$cursor;if(!o||(n?!n.endOfTextblock("backward",t):o.parentOffset>0))return!1;var i=du(o),s=i&&i.nodeBefore;return!(!s||!r.NodeSelection.isSelectable(s))&&(e&&e(t.tr.setSelection(r.NodeSelection.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)})),yu=vu(uu,(function(t,e,n){var o=t.selection.$cursor;if(!o||(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size))return!1;var i=fu(o);if(!i)return!1;var s=i.nodeAfter;if(mu(t,i,e))return!0;if(0==o.parent.content.size&&(pu(s,"start")||r.NodeSelection.isSelectable(s))){if(e){var a=t.tr.deleteRange(o.before(),o.after());a.setSelection(pu(s,"start")?r.Selection.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):r.NodeSelection.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}return!(!s.isAtom||i.depth!=o.depth-1)&&(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0)}),(function(t,e,n){var o=t.selection.$cursor;if(!o||(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size))return!1;var i=fu(o),s=i&&i.nodeAfter;return!(!s||!r.NodeSelection.isSelectable(s))&&(e&&e(t.tr.setSelection(r.NodeSelection.create(t.doc,i.pos)).scrollIntoView()),!0)})),bu={Enter:vu((function(t,e){var n=t.selection,o=n.$head,r=n.$anchor;return!(!o.parent.type.spec.code||!o.sameParent(r))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}),(function(t,e){var n=t.selection,o=n.$from,i=n.$to;if(o.parent.inlineContent||i.parent.inlineContent)return!1;var s=o.parent.contentMatchAt(i.indexAfter()).defaultType;if(!s||!s.isTextblock)return!1;if(e){var a=(!o.parentOffset&&i.index()<i.parent.childCount?o:i).pos,c=t.tr.insert(a,s.createAndFill());c.setSelection(r.TextSelection.create(c.doc,a+1)),e(c.scrollIntoView())}return!0}),(function(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var o=n.before();if(ya(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}var r=n.blockRange(),i=r&&ga(r);return null!=i&&(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)}),(function(t,e){var n=t.selection,o=n.$from,i=n.$to;if(t.selection instanceof r.NodeSelection&&t.selection.node.isBlock)return!(!o.parentOffset||!ya(t.doc,o.pos))&&(e&&e(t.tr.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;if(e){var s=i.parentOffset==i.parent.content.size,a=t.tr;t.selection instanceof r.TextSelection&&a.deleteSelection();var c=0==o.depth?null:o.node(-1).contentMatchAt(o.indexAfter(-1)).defaultType,l=s&&c?[{type:c}]:null,u=ya(a.doc,a.mapping.map(o.pos),1,l);l||u||!ya(a.doc,a.mapping.map(o.pos),1,c&&[{type:c}])||(l=[{type:c}],u=!0),u&&(a.split(a.mapping.map(o.pos),1,l),s||o.parentOffset||o.parent.type==c||!o.node(-1).canReplace(o.index(-1),o.indexAfter(-1),h.Fragment.from(c.create(),o.parent))||a.setNodeMarkup(a.mapping.map(o.before()),c)),e(a.scrollIntoView())}return!0})),"Mod-Enter":function(t,e){var n=t.selection,o=n.$head,i=n.$anchor;if(!o.parent.type.spec.code||!o.sameParent(i))return!1;var s=o.node(-1),a=o.indexAfter(-1),c=s.contentMatchAt(a).defaultType;if(!s.canReplaceWith(a,a,c))return!1;if(e){var l=o.after(),u=t.tr.replaceWith(l,l,c.createAndFill());u.setSelection(r.Selection.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},Backspace:gu,"Mod-Backspace":gu,Delete:yu,"Mod-Delete":yu,"Mod-a":hu},wu={"Ctrl-h":bu.Backspace,"Alt-Backspace":bu["Mod-Backspace"],"Ctrl-d":bu.Delete,"Ctrl-Alt-Backspace":bu["Mod-Delete"],"Alt-Delete":bu["Mod-Delete"],"Alt-d":bu["Mod-Delete"]};for(var xu in bu)wu[xu]=bu[xu];"undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&os.platform();Fi.register({"regular/trash-alt":{width:448,height:512,paths:[{d:"M268 416c-6.6 0-12-5.4-12-12v-216c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v216c0 6.6-5.4 12-12 12h-24zM432 80c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16v336c0 26.5-21.5 48-48 48h-288c-26.5 0-48-21.5-48-48v-336h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h82.4l34-56.7c7.7-12.9 26.2-23.3 41.2-23.3h0 100.8 0c15 0 33.4 10.4 41.2 23.3l34 56.7h82.4zM171.8 50.9l-17.5 29.1h139.2l-17.5-29.1c-1-1.6-3.3-2.9-5.1-2.9h0-94 0c-1.9 0-4.2 1.3-5.1 2.9zM368 464v-336h-288v336h288zM156 416c-6.6 0-12-5.4-12-12v-216c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v216c0 6.6-5.4 12-12 12h-24z"}]}});var _u={};const Su=yi({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:t.imageViewClass},[n("div",{staticClass:"image-view__body"},[n("img",{staticClass:"image-view__body__image",attrs:{src:t.node.attrs.src,title:t.node.attrs.title,alt:t.node.attrs.alt,width:t.width,height:t.height},on:{click:t.selectImage}}),t._v(" "),t.view.editable?n("div",{directives:[{name:"show",rawName:"v-show",value:t.selected||t.resizing,expression:"selected || resizing"}],staticClass:"image-resizer"},[t._l(t.resizeDirections,(function(e){return n("span",{key:e,staticClass:"image-resizer__handler",class:"image-resizer__handler--"+e,on:{mousedown:function(n){return t.onMouseDown(n,e)}}})})),t._v(" "),n("span",{staticClass:"image-view__delete-trigger",on:{click:t.removeImage}},[n("v-icon",{attrs:{name:"regular/trash-alt"}})],1)],2):t._e()])])},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.originalSize={width:0,height:0},e.resizeDirections=["tl","tr","bl","br"],e.resizing=!1,e.resizerState={x:0,y:0,w:0,h:0,dir:""},e}return Kn(e,t),Object.defineProperty(e.prototype,"src",{get:function(){return this.node.attrs.src},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.node.attrs.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.node.attrs.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageViewClass",{get:function(){return{"image-view":!0,"image-view--focused":this.selected}},enumerable:!0,configurable:!0}),e.prototype.created=function(){return Xn(this,void 0,void 0,(function(){var t;return Zn(this,(function(e){switch(e.label){case 0:return[4,(n=this.src,new Promise((function(t,e){var o={complete:!1,width:0,height:0,src:n};if(n)if(_u[n])t(Gn({},_u[n]));else{var r=new Image;r.onload=function(){o.width=r.width,o.height=r.height,o.complete=!0,_u[n]=Gn({},o),t(o)},r.onerror=function(){e(o)},r.src=n}else e(o)})))];case 1:return(t=e.sent()).complete||(t.width=20,t.height=20),this.originalSize={width:t.width,height:t.height},[2]}var n}))}))},e.prototype.selectImage=function(){var t=this.view.state,e=t.tr,n=r.NodeSelection.create(t.doc,this.getPos());e=e.setSelection(n),this.view.dispatch(e)},e.prototype.removeImage=function(){var t=this.view;uu(t.state,t.dispatch)},e.prototype.onMouseDown=function(t,e){t.preventDefault(),t.stopPropagation(),this.resizerState.x=t.clientX,this.resizerState.y=t.clientY;var n=this.originalSize.width,o=this.originalSize.height,r=n/o,i=this.node.attrs,s=i.width,a=i.height;s&&!a?a=Math.round(s/r):a&&!s?s=Math.round(a*r):s||a||(s=n,a=o),this.resizerState.w=s,this.resizerState.h=a,this.resizerState.dir=e,this.resizing=!0,this.onEvents()},e.prototype.onMouseMove=function(t){if(t.preventDefault(),t.stopPropagation(),this.resizing){var e=this.resizerState,n=e.x,o=e.y,r=e.w,i=e.h,s=e.dir,a=(t.clientX-n)*(/l/.test(s)?-1:1),c=(t.clientY-o)*(/t/.test(s)?-1:1);this.updateAttrs({width:Math.max(r+a,20),height:Math.max(i+c,20)})}},e.prototype.onMouseUp=function(t){t.preventDefault(),t.stopPropagation(),this.resizing&&(this.resizing=!1,this.resizerState={x:0,y:0,w:0,h:0,dir:""},this.offEvents(),this.selectImage())},e.prototype.onEvents=function(){document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("mouseup",this.onMouseUp,!0)},e.prototype.offEvents=function(){document.removeEventListener("mousemove",this.onMouseMove,!0),document.removeEventListener("mouseup",this.onMouseUp,!0)},Jn([go({type:h.Node,required:!0})],e.prototype,"node",void 0),Jn([go({type:ou,required:!0})],e.prototype,"view",void 0),Jn([go({type:Function,required:!0})],e.prototype,"getPos",void 0),Jn([go({type:Function,required:!0})],e.prototype,"updateAttrs",void 0),Jn([go({type:Boolean,required:!0})],e.prototype,"selected",void 0),e=Jn([ho({components:{"v-icon":Fi}})],e)}(e),void 0,!1,void 0,!1,void 0,void 0,void 0);var Cu=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/;function ku(t){var e=t.style,n=e.width,o=e.height;return n=n||t.getAttribute("width")||null,o=o||t.getAttribute("height")||null,{src:t.getAttribute("src")||"",title:t.getAttribute("title")||"",alt:t.getAttribute("alt")||"",width:null==n?null:parseInt(n,10),height:null==o?null:parseInt(o,10)}}var Ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return{urlPattern:Cu,uploadRequest:null}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""},width:{default:null},height:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:ku}],toDOM:function(t){return["img",t.attrs]}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return Su},enumerable:!0,configurable:!0}),e.prototype.menuBtnView=function(t){return{component:Qs,componentProps:{editorContext:t}}},e}(o.Image),Mu=Date.prototype,Tu=Mu.toString,Eu=Mu.getTime;new Date(NaN)+""!="Invalid Date"&&gt(Mu,"toString",(function(){var t=Eu.call(this);return t==t?Tu.call(this):"Invalid Date"})),Fi.register({"check-square":{width:448,height:512,paths:[{d:"M400 480h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zM195.3 381.9l184-184c6.2-6.2 6.2-16.4 0-22.6l-22.6-22.6c-6.2-6.2-16.4-6.2-22.6 0l-150.1 150.1-70.1-70.1c-6.2-6.2-16.4-6.2-22.6 0l-22.6 22.6c-6.2 6.2-6.2 16.4 0 22.6l104 104c6.2 6.3 16.4 6.3 22.6 0z"}]}}),Fi.register({"regular/square":{width:448,height:512,paths:[{d:"M400 32c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h352zM394 432c3.3 0 6-2.7 6-6v-340c0-3.3-2.7-6-6-6h-340c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340z"}]}});const Au=yi({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"todo-item",class:{"todo-item--done":t.done},style:t.todoItemStyle,attrs:{"data-type":t.node.type.name,"data-done":t.done.toString(),"data-text-align":t.node.attrs.textAlign,"data-drag-handle":""}},[n("span",{staticClass:"todo-checkbox",attrs:{contenteditable:"false"},on:{click:function(e){return e.stopPropagation(),t.toggle(e)}}},[n("v-icon",{attrs:{name:t.done?"check-square":"regular/square"}})],1),t._v(" "),n("div",{ref:"content",staticClass:"todo-content",attrs:{contenteditable:t.view.editable.toString()}})])},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"done",{get:function(){return this.node.attrs.done},set:function(t){this.updateAttrs({done:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"todoItemStyle",{get:function(){return{lineHeight:vs(this.node.attrs.lineHeight)}},enumerable:!0,configurable:!0}),e.prototype.toggle=function(){this.done=!this.done},Jn([go({type:h.Node,required:!0})],e.prototype,"node",void 0),Jn([go({type:ou,required:!0})],e.prototype,"view",void 0),Jn([go({type:Function,required:!0})],e.prototype,"updateAttrs",void 0),e=Jn([ho({components:{"v-icon":Fi}})],e)}(e),void 0,!1,void 0,!1,void 0,void 0,void 0);function zu(t){var e=t.style,n=e.textAlign,o=e.lineHeight,r=t.getAttribute("data-text-align")||n||"";return{textAlign:(r=un.test(r)?r:"")||null,lineHeight:(o=o&&o!==vs(1.7)?o:"")||null,done:"true"===t.getAttribute("data-done")}}function Pu(t){var e=t.attrs,n=e.done,o=e.textAlign,r=e.lineHeight,i="",s={};(s["data-type"]="todo_item",s["data-done"]=n.toString(),o&&"left"!==o&&(s["data-text-align"]=o),r)&&(i+="line-height: "+vs(r)+";");return i&&(s.style=i),["li",s,["span",{class:"todo-checkbox",contenteditable:"false"}],["div",{class:"todo-content"},0]]}var Nu,Du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{done:{default:!1},textAlign:{default:null},lineHeight:{default:null}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",parseDOM:[{priority:51,tag:'[data-type="'+this.name+'"]',getAttrs:zu}],toDOM:Pu}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return Au},enumerable:!0,configurable:!0}),e}(o.TodoItem),Iu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{group:"block",content:"todo_item+",parseDOM:[{priority:51,tag:'[data-type="'+this.name+'"]',getAttrs:function(){return{"data-type":t.name}}}],toDOM:function(){var e={};return e["data-type"]=t.name,["ul",e,0]}}},enumerable:!0,configurable:!0}),e.prototype.menuBtnView=function(t){var e=t.isActive,n=t.commands;return{component:$i,componentProps:{isActive:e.todo_list(),command:n.todo_list,icon:"tasks",tooltip:hn("editor.extensions.TodoList.tooltip")}}},e}(o.TodoList);function ju(t){var e=t.selection,n=t.doc,o=e.from,r=e.to,i=!0,s=!1;return n.nodesBetween(o,r,(function(t){var e=t.type.name;return!i||"table"!==e&&"table_row"!==e&&"table_column"!==e&&"table_cell"!==e||(i=!1,s=!0),i})),s}const Ru=yi({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-popover",{attrs:{placement:"right",trigger:"hover","popper-class":"el-tiptap-popper"},on:{"after-leave":t.resetTableGridSize},model:{value:t.popoverVisible,callback:function(e){t.popoverVisible=e},expression:"popoverVisible"}},[n("div",{staticClass:"table-grid-size-editor"},[n("div",{staticClass:"table-grid-size-editor__body"},t._l(t.tableGridSize.row,(function(e){return n("div",{key:"r"+e},t._l(t.tableGridSize.col,(function(o){return n("div",{key:"c"+o,staticClass:"table-grid-size-editor__cell",class:{"table-grid-size-editor__cell--selected":o<=t.selectedTableGridSize.col&&e<=t.selectedTableGridSize.row},on:{mouseover:function(n){return t.selectTableGridSize(e,o)},mousedown:function(n){return t.onMouseDown(e,o)}}},[n("div",{staticClass:"table-grid-size-editor__cell__inner"})])})),0)})),0),t._v(" "),n("div",{staticClass:"table-grid-size-editor__footer"},[t._v("\n      "+t._s(t.selectedTableGridSize.row)+" X "+t._s(t.selectedTableGridSize.col)+"\n    ")])]),t._v(" "),n("div",{attrs:{slot:"reference"},on:{mouseover:function(e){t.popoverVisible=!0}},slot:"reference"},[n("span",[t._v(t._s(t.t("editor.extensions.Table.buttons.insert_table")))])])])},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popoverVisible=!1,e.tableGridSize={row:5,col:5},e.selectedTableGridSize={row:2,col:2},e}return Kn(e,t),e.prototype.selectTableGridSize=function(t,e){t===this.tableGridSize.row&&(this.tableGridSize.row=Math.min(t+1,10)),e===this.tableGridSize.col&&(this.tableGridSize.col=Math.min(e+1,10)),this.selectedTableGridSize.row=t,this.selectedTableGridSize.col=e},e.prototype.onMouseDown=function(t,e){return this.popoverVisible=!1,{row:t,col:e}},e.prototype.resetTableGridSize=function(){this.tableGridSize={row:5,col:5},this.selectedTableGridSize={row:2,col:2}},Jn([wo("createTable")],e.prototype,"onMouseDown",null),e=Jn([ho({components:(Nu={},Nu[p.name]=p,Nu)})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);var Bu;const Vu=yi({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-popover",{attrs:{placement:"bottom",trigger:"click","popper-class":"el-tiptap-popper"},model:{value:t.popoverVisible,callback:function(e){t.popoverVisible=e},expression:"popoverVisible"}},[n("div",{staticClass:"el-tiptap-popper__menu"},[n("div",{staticClass:"el-tiptap-popper__menu__item"},[n("create-table-popover",{on:{createTable:t.createTable}})],1),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.addColumnBefore}},[n("span",[t._v(t._s(t.t("editor.extensions.Table.buttons.add_column_before")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.addColumnAfter}},[n("span",[t._v(t._s(t.t("editor.extensions.Table.buttons.add_column_after")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.deleteColumn}},[n("span",[t._v(t._s(t.t("editor.extensions.Table.buttons.delete_column")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.addRowBefore}},[n("span",[t._v(t._s(t.t("editor.extensions.Table.buttons.add_row_before")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.addRowAfter}},[n("span",[t._v(t._s(t.t("editor.extensions.Table.buttons.add_row_after")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.deleteRow}},[n("span",[t._v(t._s(t.t("editor.extensions.Table.buttons.delete_row")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.enableMergeCells},on:{mousedown:t.hidePopover,click:t.editorContext.commands.mergeCells}},[n("span",[t._v(t._s(t.t("editor.extensions.Table.buttons.merge_cells")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.enableSplitCell},on:{mousedown:t.hidePopover,click:t.editorContext.commands.splitCell}},[n("span",[t._v(t._s(t.t("editor.extensions.Table.buttons.split_cell")))])]),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),t._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!t.isTableActive},on:{mousedown:t.hidePopover,click:t.editorContext.commands.deleteTable}},[n("span",[t._v(t._s(t.t("editor.extensions.Table.buttons.delete_table")))])])]),t._v(" "),n("command-button",{attrs:{slot:"reference","is-active":t.isTableActive,tooltip:t.t("editor.extensions.Table.tooltip"),icon:"table"},slot:"reference"})],1)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popoverVisible=!1,e}return Kn(e,t),Object.defineProperty(e.prototype,"editor",{get:function(){return this.editorContext.editor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTableActive",{get:function(){return ju(this.editor.state)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enableMergeCells",{get:function(){return ju(t=this.editor.state)&&m.mergeCells(t);var t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enableSplitCell",{get:function(){return ju(t=this.editor.state)&&m.splitCell(t);var t},enumerable:!0,configurable:!0}),e.prototype.hidePopover=function(){this.popoverVisible=!1},e.prototype.createTable=function(t){var e=t.row,n=t.col;this.editorContext.commands.createTable({rowsCount:e,colsCount:n,withHeaderRow:!0}),this.hidePopover()},Jn([go({type:Object,required:!0})],e.prototype,"editorContext",void 0),e=Jn([ho({components:(Bu={},Bu[p.name]=p,Bu.CommandButton=$i,Bu.CreateTablePopover=Ru,Bu)})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);var Fu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.menuBtnView=function(t){return{component:Vu,componentProps:{editorContext:t}}},e}(o.Table);const Lu=yi({render:function(){var t=this.$createElement;return(this._self._c||t)("command-button",{attrs:{command:this.openInsertVideoControl,tooltip:this.t("editor.extensions.Iframe.tooltip"),icon:"video"}})},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.openInsertVideoControl=function(){var t=this;a.prompt("",this.t("editor.extensions.Iframe.control.title"),{confirmButtonText:this.t("editor.extensions.Iframe.control.confirm"),cancelButtonText:this.t("editor.extensions.Iframe.control.cancel"),inputPlaceholder:this.t("editor.extensions.Iframe.control.placeholder"),roundButton:!0}).then((function(e){var n=e.value;t.editorContext.commands.iframe({src:n})})).catch((function(){}))},Jn([go({type:Object,required:!0})],e.prototype,"editorContext",void 0),e=Jn([ho({components:{CommandButton:$i}})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);var $u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"iframe"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{src:{default:null}},group:"block",selectable:!1,parseDOM:[{tag:"iframe",getAttrs:function(t){return{src:t.getAttribute("src")}}}],toDOM:function(t){return["iframe",{src:t.attrs.src,frameborder:0,allowfullscreen:"true"}]}}},enumerable:!0,configurable:!0}),e.prototype.commands=function(t){var e=t.type;return function(t){return function(n,o){var r=n.selection,i=r.$cursor?r.$cursor.pos:r.$to.pos,s=e.create(t);o(n.tr.insert(i,s))}}},Object.defineProperty(e.prototype,"view",{get:function(){return{props:["node","updateAttrs","view"],computed:{src:{get:function(){return this.node.attrs.src},set:function(t){this.updateAttrs({src:t})}}},template:'\n        <div class="iframe">\n          <iframe class="iframe__embed" :src="src"></iframe>\n        </div>\n      '}},enumerable:!0,configurable:!0}),e.prototype.menuBtnView=function(t){return{component:Lu,componentProps:{editorContext:t}}},e}(n.Node);Kt({target:"String",proto:!0,forced:Ti("bold")},{bold:function(){return Mi(this,"b","","")}});var qu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.menuBtnView=function(t){var e=t.isActive,n=t.commands;return{component:$i,componentProps:{command:n.bold,isActive:e.bold(),icon:"bold",tooltip:hn("editor.extensions.Bold.tooltip")}}},e}(o.Bold),Hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.menuBtnView=function(t){var e=t.isActive,n=t.commands;return{component:$i,componentProps:{command:n.underline,isActive:e.underline(),icon:"underline",tooltip:hn("editor.extensions.Underline.tooltip")}}},e}(o.Underline),Uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.menuBtnView=function(t){var e=t.isActive,n=t.commands;return{component:$i,componentProps:{command:n.italic,isActive:e.italic(),icon:"italic",tooltip:hn("editor.extensions.Italic.tooltip")}}},e}(o.Italic);Kt({target:"String",proto:!0,forced:Ti("strike")},{strike:function(){return Mi(this,"strike","","")}});var Wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.menuBtnView=function(t){var e=t.isActive,n=t.commands;return{component:$i,componentProps:{command:n.strike,isActive:e.strike(),icon:"strikethrough",tooltip:hn("editor.extensions.Strike.tooltip")}}},e}(o.Strike);function Ku(t){return function(e,n){var o=e.tr,r=e.selection,i=r.from,s=r.to,a=r.$from;if(r.empty){var c=Ei(a,t);i=c.from,s=c.to}return o.removeMark(i,s,t),n(o)}}const Gu=yi({render:function(){var t=this.$createElement;return(this._self._c||t)("command-button",{attrs:{"is-active":this.editorContext.isActive.link(),command:this.openApplyLinkControl,tooltip:this.t("editor.extensions.Link.add.tooltip"),icon:"link"}})},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.openApplyLinkControl=function(){var t=this;a.prompt("",this.t("editor.extensions.Link.add.control.title"),{confirmButtonText:this.t("editor.extensions.Link.add.control.confirm"),cancelButtonText:this.t("editor.extensions.Link.add.control.cancel"),inputPlaceholder:this.t("editor.extensions.Link.add.control.placeholder"),roundButton:!0}).then((function(e){var n=e.value;t.editorContext.commands.link({href:n})})).catch((function(){}))},Jn([go({type:Object,required:!0})],e.prototype,"editorContext",void 0),e=Jn([ho({components:{CommandButton:$i}})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);var Ju=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.commands=function(t){var e=t.type;return{link:function(t){return t.href?function(t,e){return function(n,o){var r=n.tr,i=n.selection,s=n.doc,a=i.from,c=i.to,l=i.$from;if(i.empty){var u=Ei(l,t);a=u.from,c=u.to}return s.rangeHasMark(a,c,t)&&r.removeMark(a,c,t),r.addMark(a,c,t.create(e)),o(r)}}(e,t):Ku(e)},unlink:function(){return Ku(e)}}},Object.defineProperty(e.prototype,"plugins",{get:function(){return[new r.Plugin({props:{handleClick:function(t,e){var n=t.state,o=n.schema,i=n.doc,s=n.tr,a=Ei(i.resolve(e),o.marks.link);if(!a)return!1;var c=i.resolve(a.from),l=i.resolve(a.to),u=s.setSelection(new r.TextSelection(c,l));return t.dispatch(u),!0}}})]},enumerable:!0,configurable:!0}),e.prototype.menuBtnView=function(t){return{component:Gu,componentProps:{editorContext:t}}},e}(o.Link),Xu=function(t){if(Ae(t))throw TypeError("The method doesn't accept regular expressions");return t},Zu=xe("match");function Yu(t){return(Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qu(t,e,n){if(!t.selection||!t.doc||!e)return t;var o=t.selection,r=o.empty,i=o.$cursor,s=o.ranges;if(r&&!i||!function(t,e,n){for(var o=function(o){var r=e[o],i=r.$from,s=r.$to,a=0===i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,s.pos,(function(t){return!a&&(a=t.inlineContent&&t.type.allowsMarkType(n),!0)})),a)return{value:!0}},r=0;r<e.length;r++){var i=o(r);if("object"===Yu(i))return i.value}return!1}(t.doc,s,e))return t;if(i)return t=t.removeStoredMark(e),n?t.addStoredMark(e.create(n)):t;for(var a=!1,c=0;!a&&c<s.length;c++){var l=s[c],u=l.$from,p=l.$to;a=t.doc.rangeHasMark(u.pos,p.pos,e)}for(c=0;c<s.length;c++){var d=s[c];u=d.$from,p=d.$to;a&&(t=t.removeMark(u.pos,p.pos,e)),n&&(t=t.addMark(u.pos,p.pos,e.create(n)))}return t}Kt({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Zu]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(P(this)).indexOf(Xu(t),arguments.length>1?arguments[1]:void 0)}});var tp=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#000000"];function ep(t){return/#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})\b/gi.test(t)}var np=b((function(t,e){e.__esModule=!0,e.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},e.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e.isHtmlElement=function(t){return t&&t.nodeType===Node.ELEMENT_NODE};e.isFunction=function(t){return t&&"[object Function]"==={}.toString.call(t)},e.isUndefined=function(t){return void 0===t},e.isDefined=function(t){return null!=t}}));y(np);np.isString,np.isObject,np.isHtmlElement,np.isFunction,np.isUndefined,np.isDefined;var op=b((function(t,n){n.__esModule=!0,n.isEmpty=n.isEqual=n.arrayEquals=n.looseEqual=n.capitalize=n.kebabCase=n.autoprefixer=n.isFirefox=n.isEdge=n.isIE=n.coerceTruthyValueToArray=n.arrayFind=n.arrayFindIndex=n.escapeRegexpString=n.valueEquals=n.generateId=n.getValueByPath=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.noop=function(){},n.hasOwn=function(t,e){return s.call(t,e)},n.toObject=function(t){for(var e={},n=0;n<t.length;n++)t[n]&&a(e,t[n]);return e},n.getPropByPath=function(t,e,n){for(var o=t,r=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0,s=r.length;i<s-1&&(o||n);++i){var a=r[i];if(!(a in o)){if(n)throw new Error("please transfer a valid prop path to form item!");break}o=o[a]}return{o:o,k:r[i],v:o?o[r[i]]:null}},n.rafThrottle=function(t){var e=!1;return function(){for(var n=this,o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];e||(e=!0,window.requestAnimationFrame((function(o){t.apply(n,r),e=!1})))}},n.objToArray=function(t){if(Array.isArray(t))return t;return p(t)?[]:[t]};var r,i=(r=e)&&r.__esModule?r:{default:r};var s=Object.prototype.hasOwnProperty;function a(t,e){for(var n in e)t[n]=e[n];return t}n.getValueByPath=function(t,e){for(var n=(e=e||"").split("."),o=t,r=null,i=0,s=n.length;i<s;i++){var a=n[i];if(!o)break;if(i===s-1){r=o[a];break}o=o[a]}return r};n.generateId=function(){return Math.floor(1e4*Math.random())},n.valueEquals=function(t,e){if(t===e)return!0;if(!(t instanceof Array))return!1;if(!(e instanceof Array))return!1;if(t.length!==e.length)return!1;for(var n=0;n!==t.length;++n)if(t[n]!==e[n])return!1;return!0},n.escapeRegexpString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var c=n.arrayFindIndex=function(t,e){for(var n=0;n!==t.length;++n)if(e(t[n]))return n;return-1},l=(n.arrayFind=function(t,e){var n=c(t,e);return-1!==n?t[n]:void 0},n.coerceTruthyValueToArray=function(t){return Array.isArray(t)?t:t?[t]:[]},n.isIE=function(){return!i.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},n.isEdge=function(){return!i.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},n.isFirefox=function(){return!i.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},n.autoprefixer=function(t){if("object"!==(void 0===t?"undefined":o(t)))return t;var e=["ms-","webkit-"];return["transform","transition","animation"].forEach((function(n){var o=t[n];n&&o&&e.forEach((function(e){t[e+n]=o}))})),t},n.kebabCase=function(t){var e=/([^-])([A-Z])/g;return t.replace(e,"$1-$2").replace(e,"$1-$2").toLowerCase()},n.capitalize=function(t){return(0,np.isString)(t)?t.charAt(0).toUpperCase()+t.slice(1):t},n.looseEqual=function(t,e){var n=(0,np.isObject)(t),o=(0,np.isObject)(e);return n&&o?JSON.stringify(t)===JSON.stringify(e):!n&&!o&&String(t)===String(e)}),u=n.arrayEquals=function(t,e){if(e=e||[],(t=t||[]).length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!l(t[n],e[n]))return!1;return!0},p=(n.isEqual=function(t,e){return Array.isArray(t)&&Array.isArray(e)?u(t,e):l(t,e)},n.isEmpty=function(t){if(null==t)return!0;if("boolean"==typeof t)return!1;if("number"==typeof t)return!t;if(t instanceof Error)return""===t.message;switch(Object.prototype.toString.call(t)){case"[object String]":case"[object Array]":return!t.length;case"[object File]":case"[object Map]":case"[object Set]":return!t.size;case"[object Object]":return!Object.keys(t).length}return!1})}));y(op);op.isEmpty,op.isEqual,op.arrayEquals,op.looseEqual,op.capitalize,op.kebabCase,op.autoprefixer,op.isFirefox,op.isEdge,op.isIE,op.coerceTruthyValueToArray,op.arrayFind,op.arrayFindIndex,op.escapeRegexpString,op.valueEquals,op.generateId,op.getValueByPath,op.noop,op.hasOwn,op.toObject,op.getPropByPath,op.rafThrottle,op.objToArray;var rp=b((function(t,e){e.__esModule=!0,e.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}}));y(rp);var ip=b((function(t,e){e.__esModule=!0,e.isDef=function(t){return null!=t},e.isKorean=function(t){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t)}}));y(ip);ip.isDef,ip.isKorean;var sp=b((function(t,e){function n(t,e,o){this.$children.forEach((function(r){r.$options.componentName===t?r.$emit.apply(r,[e].concat(o)):n.apply(r,[t,e].concat([o]))}))}e.__esModule=!0,e.default={methods:{dispatch:function(t,e,n){for(var o=this.$parent||this.$root,r=o.$options.componentName;o&&(!r||r!==t);)(o=o.$parent)&&(r=o.$options.componentName);o&&o.$emit.apply(o,[e].concat(n))},broadcast:function(t,e,o){n.call(this,t,e,o)}}}}));y(sp);var ap=b((function(t,e){e.__esModule=!0,e.default=function(t){for(var e=1,n=arguments.length;e<n;e++){var o=arguments[e]||{};for(var r in o)if(o.hasOwnProperty(r)){var i=o[r];void 0!==i&&(t[r]=i)}}return t}}));y(ap);var cp,lp=y(b((function(t){t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=76)}({0:function(t,e,n){function o(t,e,n,o,r,i,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),o&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):r&&(c=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:l}}n.d(e,"a",(function(){return o}))},11:function(t,e){t.exports=rp},21:function(t,e){t.exports=ip},4:function(t,e){t.exports=sp},76:function(t,e,n){n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?n("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?n("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?n("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?n("span",{staticClass:"el-input__suffix"},[n("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?n("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?n("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(t){t.preventDefault()},click:t.clear}}):t._e(),t.showPwdVisible?n("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?n("span",{staticClass:"el-input__count"},[n("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?n("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?n("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:n("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?n("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)};o._withStripped=!0;var r=n(4),i=n.n(r),s=n(11),a=n.n(s),c=void 0,l="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",u=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function p(t){var e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),o=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),r=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:u.map((function(t){return t+":"+e.getPropertyValue(t)})).join(";"),paddingSize:o,borderSize:r,boxSizing:n}}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c||(c=document.createElement("textarea"),document.body.appendChild(c));var o=p(t),r=o.paddingSize,i=o.borderSize,s=o.boxSizing,a=o.contextStyle;c.setAttribute("style",a+";"+l),c.value=t.value||t.placeholder||"";var u=c.scrollHeight,d={};"border-box"===s?u+=i:"content-box"===s&&(u-=r),c.value="";var f=c.scrollHeight-r;if(null!==e){var h=f*e;"border-box"===s&&(h=h+r+i),u=Math.max(h,u),d.minHeight=h+"px"}if(null!==n){var m=f*n;"border-box"===s&&(m=m+r+i),u=Math.min(m,u)}return d.height=u+"px",c.parentNode&&c.parentNode.removeChild(c),c=null,d}var f=n(9),h=n.n(f),m=n(21),v={name:"ElInput",componentName:"ElInput",mixins:[i.a,a.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return h()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(t){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var t=this;this.$nextTick((function(){t.setNativeInputValue(),t.resizeTextarea(),t.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type)if(t){var e=t.minRows,n=t.maxRows;this.textareaCalcStyle=d(this.$refs.textarea,e,n)}else this.textareaCalcStyle={minHeight:d(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var t=this.getInput();t&&t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(t){var e=t.target.value,n=e[e.length-1]||"";this.isComposing=!Object(m.isKorean)(n)},handleCompositionEnd:function(t){this.isComposing&&(this.isComposing=!1,this.handleInput(t))},handleInput:function(t){this.isComposing||t.target.value!==this.nativeInputValue&&(this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(t){this.$emit("change",t.target.value)},calcIconOffset:function(t){var e=[].slice.call(this.$el.querySelectorAll(".el-input__"+t)||[]);if(e.length){for(var n=null,o=0;o<e.length;o++)if(e[o].parentNode===this.$el){n=e[o];break}if(n){var r={suffix:"append",prefix:"prepend"}[t];this.$slots[r]?n.style.transform="translateX("+("suffix"===t?"-":"")+this.$el.querySelector(".el-input-group__"+r).offsetWidth+"px)":n.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},g=n(0),y=Object(g.a)(v,o,[],!1,null,null,null);y.options.__file="packages/input/src/input.vue";var b=y.exports;b.install=function(t){t.component(b.name,b)};e.default=b},9:function(t,e){t.exports=ap}})})));const up=yi({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-popover",{attrs:{placement:"bottom",trigger:"click","popper-class":"el-tiptap-popper"},model:{value:t.popoverVisible,callback:function(e){t.popoverVisible=e},expression:"popoverVisible"}},[n("div",{staticClass:"color-set"},[t._l(t.colorSet,(function(e){return n("div",{key:e,staticClass:"color__wrapper"},[n("div",{staticClass:"color",class:{"color--selected":t.selectedColor===e},style:{"background-color":e},on:{mousedown:function(t){t.preventDefault()},click:function(n){return n.stopPropagation(),t.confirmColor(e)}}})])})),t._v(" "),n("div",{staticClass:"color__wrapper"},[n("div",{staticClass:"color color--remove",on:{mousedown:function(t){t.preventDefault()},click:function(e){return e.stopPropagation(),t.confirmColor("")}}})])],2),t._v(" "),n("div",{staticClass:"color-hex"},[n("el-input",{staticClass:"color-hex__input",attrs:{placeholder:"HEX",autofocus:"true",maxlength:"7",size:"small"},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),t._v(" "),n("el-button",{staticClass:"color-hex__button",attrs:{type:"text",size:"small"},on:{click:function(e){return t.confirmColor(t.color)}}},[t._v("\n      "+t._s(t.confirmText)+"\n    ")])],1),t._v(" "),n("command-button",{attrs:{slot:"reference",tooltip:t.tooltip,icon:t.icon},slot:"reference"})],1)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.color="",e.popoverVisible=!1,e}return Kn(e,t),e.prototype.onSelectedColorChange=function(t){this.color=t},e.prototype.confirmColor=function(t){return this.popoverVisible=!1,t},Jn([go({type:Array,default:function(){return[]}})],e.prototype,"colorSet",void 0),Jn([go({type:String,default:""})],e.prototype,"selectedColor",void 0),Jn([go({type:String,required:!0})],e.prototype,"tooltip",void 0),Jn([go({type:String,required:!0})],e.prototype,"icon",void 0),Jn([go({type:String,default:"OK"})],e.prototype,"confirmText",void 0),Jn([yo("selectedColor",{immediate:!0})],e.prototype,"onSelectedColorChange",null),Jn([wo("confirm")],e.prototype,"confirmColor",null),e=Jn([ho({components:(cp={},cp[v.name]=v,cp[p.name]=p,cp[lp.name]=lp,cp.CommandButton=$i,cp)})],e)}(e),void 0,!1,void 0,!1,void 0,void 0,void 0);var pp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"text_color"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return{colors:tp}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:{color:""},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:function(e){return{color:t.options.colors.includes(e)?e:""}}}],toDOM:function(t){var e=t.attrs.color,n="";return e&&(n+="color: "+e+";"),["span",{style:n},0]}}},enumerable:!0,configurable:!0}),e.prototype.commands=function(){return function(t){return function(e,n){if(void 0!==t){var o=e.schema,r=e.tr,i=o.marks.text_color,s=t&&ep(t)?{color:t}:null;if((r=Qu(e.tr.setSelection(e.selection),i,s)).docChanged||r.storedMarksSet)return n&&n(r),!0}return!1}}},e.prototype.menuBtnView=function(t){var e=t.commands,n=t.getMarkAttrs;return{component:up,componentProps:{colorSet:this.options.colors,selectedColor:n("text_color").color,tooltip:hn("editor.extensions.TextColor.tooltip"),icon:"font"},componentEvents:{confirm:function(t){return e.text_color(t)}}}},e}(n.Mark),dp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"text_highlight"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return{colors:tp}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:{highlightColor:""},inline:!0,group:"inline",parseDOM:[{style:"span[style*=background-color]",getAttrs:function(e){return{highlightColor:t.options.colors.includes(e)?e:""}}}],toDOM:function(t){var e=t.attrs.highlightColor,n="";return e&&(n+="background-color: "+e+";"),["span",{style:n},0]}}},enumerable:!0,configurable:!0}),e.prototype.commands=function(){return function(t){return function(e,n){if(void 0!==t){var o=e.schema,r=e.tr,i=o.marks.text_highlight,s=t&&ep(t)?{highlightColor:t}:null;if((r=Qu(e.tr.setSelection(e.selection),i,s)).docChanged||r.storedMarksSet)return n&&n(r),!0}return!1}}},e.prototype.menuBtnView=function(t){var e=t.commands,n=t.getMarkAttrs;return{component:up,componentProps:{colorSet:this.options.colors,selectedColor:n("text_highlight").highlightColor,tooltip:hn("editor.extensions.TextHighlight.tooltip"),icon:"highlighter"},componentEvents:{confirm:function(t){return e.text_highlight(t)}}}},e}(n.Mark),fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.menuBtnView=function(t){var e=t.commands;return{component:$i,componentProps:{command:e.horizontal_rule,icon:"minus",tooltip:hn("editor.extensions.HorizontalRule.tooltip")}}},e}(o.HorizontalRule),hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),e.prototype.menuBtnView=function(t){var e=t.commands;return[{component:$i,componentProps:{command:e.undo,icon:"undo",tooltip:hn("editor.extensions.History.tooltip.undo")}},{component:$i,componentProps:{command:e.redo,icon:"redo",tooltip:hn("editor.extensions.History.tooltip.redo")}}]},e}(o.History);var mp=["paragraph","heading","list_item","todo_item"];function vp(t,e){var n=t.selection,o=t.doc;if(!n||!o)return t;var r=n.from,i=n.to,s=[];return e=e||null,o.nodesBetween(r,i,(function(t,n){var o=t.type;if(mp.includes(o.name)&&(t.attrs.textAlign||null)!==e)return s.push({node:t,pos:n,nodeType:o}),"list_item"!==o.name&&"todo_item"!==o.name;return!0})),s.length?(s.forEach((function(n){var o=n.node,r=n.pos,i=n.nodeType,s=o.attrs;s=Gn(Gn({},s),{textAlign:e}),t=t.setNodeMarkup(r,i,s,o.marks)})),t):t}var gp,yp,bp,wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"text_align"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return{alignments:["left","center","right","justify"]}},enumerable:!0,configurable:!0}),e.prototype.commands=function(){return this.options.alignments.reduce((function(t,e){var n;return un.test(e)?Gn(Gn({},t),((n={})["align_"+e]=function(){return function(t,n){var o=t.selection,r=vp(t.tr.setSelection(o),"left"===e?null:e);return!!r.docChanged&&(n&&n(r),!0)}},n)):t}),{})},e.prototype.menuBtnView=function(t){var e=t.commands,n=t.editor;return this.options.alignments.reduce((function(t,o){if(!un.test(o))return t;var r="left"!==o&&function(t,e){var n=t.selection,o=t.doc,r=n.from,i=n.to,s=!0,a=!1;return o.nodesBetween(r,i,(function(t){return s&&t.attrs.textAlign===e&&(s=!1,a=!0),s})),a}(n.state,o);return t.concat({component:$i,componentProps:{isActive:r,command:e["align_"+o],icon:"align-"+o,tooltip:hn("editor.extensions.TextAlign.buttons.align_"+o+".tooltip")}})}),[])},e}(n.Extension),xp={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},_p=!_((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Sp=ct("IE_PROTO"),Cp=Object.prototype,kp=_p?Object.getPrototypeOf:function(t){return t=Jt(t),R(t,Sp)?t[Sp]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Cp:null},Op=xe("iterator"),Mp=!1;[].keys&&("next"in(bp=[].keys())?(yp=kp(kp(bp)))!==Object.prototype&&(gp=yp):Mp=!0),null==gp&&(gp={}),R(gp,Op)||K(gp,Op,(function(){return this}));var Tp={IteratorPrototype:gp,BUGGY_SAFARI_ITERATORS:Mp},Ep=Tp.IteratorPrototype,Ap=function(){return this},zp=Tp.IteratorPrototype,Pp=Tp.BUGGY_SAFARI_ITERATORS,Np=xe("iterator"),Dp=function(){return this},Ip=function(t,e,n,o,r,i,s){!function(t,e,n){var o=e+" Iterator";t.prototype=Fn(Ep,{next:M(1,n)}),Bo(t,o,!1),Fo[o]=Ap}(n,e,o);var a,c,l,u=function(t){if(t===r&&m)return m;if(!Pp&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},p=e+" Iterator",d=!1,f=t.prototype,h=f[Np]||f["@@iterator"]||r&&f[r],m=!Pp&&h||u(r),v="Array"==e&&f.entries||h;if(v&&(a=kp(v.call(new t)),zp!==Object.prototype&&a.next&&(kp(a)!==zp&&(Le?Le(a,zp):"function"!=typeof a[Np]&&K(a,Np,Dp)),Bo(a,p,!0))),"values"==r&&h&&"values"!==h.name&&(d=!0,m=function(){return h.call(this)}),f[Np]!==m&&K(f,Np,m),Fo[e]=m,r)if(c={values:u("values"),keys:i?m:u("keys"),entries:u("entries")},s)for(l in c)(Pp||d||!(l in f))&&gt(f,l,c[l]);else Kt({target:e,proto:!0,forced:Pp||d},c);return c},jp=vt.set,Rp=vt.getterFor("Array Iterator"),Bp=Ip(Array,"Array",(function(t,e){jp(this,{type:"Array Iterator",target:N(t),index:0,kind:e})}),(function(){var t=Rp(this),e=t.target,n=t.kind,o=t.index++;return!e||o>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:o,done:!1}:"values"==n?{value:e[o],done:!1}:{value:[o,e[o]],done:!1}}),"values");Fo.Arguments=Fo.Array,qn("keys"),qn("values"),qn("entries");var Vp=xe("iterator"),Fp=xe("toStringTag"),Lp=Bp.values;for(var $p in xp){var qp=x[$p],Hp=qp&&qp.prototype;if(Hp){if(Hp[Vp]!==Lp)try{K(Hp,Vp,Lp)}catch(t){Hp[Vp]=Lp}if(Hp[Fp]||K(Hp,Fp,$p),xp[$p])for(var Up in Bp)if(Hp[Up]!==Bp[Up])try{K(Hp,Up,Bp[Up])}catch(t){Hp[Up]=Bp[Up]}}}function Wp(t,e){var n=t.doc,o=t.selection;if(!n||!o)return t;if(!(o instanceof r.TextSelection||o instanceof r.AllSelection))return t;var i=o.from,s=o.to;return n.nodesBetween(i,s,(function(n,o){var r=n.type;return"paragraph"===r.name||"heading"===r.name||"blockquote"===r.name?(t=function(t,e,n){if(!t.doc)return t;var o=t.doc.nodeAt(e);if(!o)return t;var r=function(t,e,n){return t<e?e:t>n?n:t}((o.attrs.indent||0)+n,0,7);if(r===o.attrs.indent)return t;var i=Gn(Gn({},o.attrs),{indent:r});return t.setNodeMarkup(e,o.type,i,o.marks)}(t,o,e),!1):!function(t){return function(t){return"bullet_list"===t.type.name}(t)||function(t){return"order_list"===t.type.name}(t)||function(t){return"todo_list"===t.type.name}(t)}(n)})),t}function Kp(t){return function(e,n){var o=e.selection,r=e.tr;return!!(r=Wp(r=r.setSelection(o),t)).docChanged&&(n&&n(r),!0)}}var Gp,Jp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"indent"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return{minIndent:0,maxIndent:7}},enumerable:!0,configurable:!0}),e.prototype.commands=function(){return{indent:function(){return Kp(1)},outdent:function(){return Kp(-1)}}},e.prototype.keys=function(){return{Tab:Kp(1),"Shift-Tab":Kp(-1)}},e.prototype.menuBtnView=function(t){var e=t.commands;return[{component:$i,componentProps:{command:e.indent,icon:"indent",tooltip:hn("editor.extensions.Indent.buttons.indent.tooltip")}},{component:$i,componentProps:{command:e.outdent,icon:"outdent",tooltip:hn("editor.extensions.Indent.buttons.outdent.tooltip")}}]},e}(n.Extension);const Xp=yi({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:function(e){return t.editorContext.commands.line_height({lineHeight:e})}}},[n("command-button",{attrs:{tooltip:t.t("editor.extensions.LineHeight.tooltip"),icon:"text-height"}}),t._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.lineHeights,(function(e){return n("el-dropdown-item",{key:e,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":t.isLineHeightActive(e)},attrs:{command:e}},[n("span",[t._v(t._s(e))])])})),1)],1)},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"editor",{get:function(){return this.editorContext.editor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineHeights",{get:function(){return this.editor.extensions.options.line_height.lineHeights},enumerable:!0,configurable:!0}),e.prototype.isLineHeightActive=function(t){return function(t,e){var n=t.selection,o=t.doc,r=n.from,i=n.to,s=!0,a=!1;return o.nodesBetween(r,i,(function(t){var n=t.type,o=t.attrs.lineHeight||"100%";return hs.includes(n.name)?s&&e===o?(s=!1,a=!0,!1):"list_item"!==n.name&&"todo_item"!==n.name:s})),a}(this.editor.state,t)},Jn([go({type:Object,required:!0})],e.prototype,"editorContext",void 0),e=Jn([ho({components:(Gp={},Gp[u.name]=u,Gp[l.name]=l,Gp[c.name]=c,Gp.CommandButton=$i,Gp)})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);var Zp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"line_height"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return{lineHeights:["100%","115%","150%","200%","250%","300%"]}},enumerable:!0,configurable:!0}),e.prototype.commands=function(){return function(t){return function(t){return function(e,n){var o=e.selection,r=e.tr;return!!(r=gs(r=r.setSelection(o),t)).docChanged&&(n&&n(r),!0)}}(t.lineHeight)}},e.prototype.menuBtnView=function(t){return{component:Xp,componentProps:{editorContext:t}}},e}(n.Extension),Yp=_i.filter,Qp=Mn("filter"),td=ne("filter");Kt({target:"Array",proto:!0,forced:!Qp||!td},{filter:function(t){return Yp(this,t,arguments.length>1?arguments[1]:void 0)}});var ed=!_((function(){return Object.isExtensible(Object.preventExtensions({}))})),nd=b((function(t){var e=W.f,n=st("meta"),o=0,r=Object.isExtensible||function(){return!0},i=function(t){e(t,n,{value:{objectID:"O"+ ++o,weakData:{}}})},s=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!D(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!R(t,n)){if(!r(t))return"F";if(!e)return"E";i(t)}return t[n].objectID},getWeakData:function(t,e){if(!R(t,n)){if(!r(t))return!0;if(!e)return!1;i(t)}return t[n].weakData},onFreeze:function(t){return ed&&s.REQUIRED&&r(t)&&!R(t,n)&&i(t),t}};lt[n]=!0})),od=(nd.REQUIRED,nd.fastKey,nd.getWeakData,nd.onFreeze,W.f),rd=nd.fastKey,id=vt.set,sd=vt.getterFor,ad=(function(t,e,n){var o=-1!==t.indexOf("Map"),r=-1!==t.indexOf("Weak"),i=o?"set":"add",s=x[t],a=s&&s.prototype,c=s,l={},u=function(t){var e=a[t];gt(a,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(r&&!D(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!D(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!D(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(Ut(t,"function"!=typeof s||!(r||a.forEach&&!_((function(){(new s).entries().next()})))))c=n.getConstructor(e,t,o,i),nd.REQUIRED=!0;else if(Ut(t,!0)){var p=new c,d=p[i](r?{}:-0,1)!=p,f=_((function(){p.has(1)})),h=nr((function(t){new s(t)})),m=!r&&_((function(){for(var t=new s,e=5;e--;)t[i](e,e);return!t.has(-0)}));h||((c=e((function(e,n){Vo(e,c,t);var r=$e(new s,e,c);return null!=n&&Go(n,r[i],r,o),r}))).prototype=a,a.constructor=c),(f||m)&&(u("delete"),u("has"),o&&u("get")),(m||d)&&u(i),r&&a.clear&&delete a.clear}l[t]=c,Kt({global:!0,forced:c!=s},l),Bo(c,t),r||n.setStrong(c,t,o)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,n,o){var r=t((function(t,i){Vo(t,r,e),id(t,{type:e,index:Fn(null),first:void 0,last:void 0,size:0}),S||(t.size=0),null!=i&&Go(i,t[o],t,n)})),i=sd(e),s=function(t,e,n){var o,r,s=i(t),c=a(t,e);return c?c.value=n:(s.last=c={index:r=rd(e,!0),key:e,value:n,previous:o=s.last,next:void 0,removed:!1},s.first||(s.first=c),o&&(o.next=c),S?s.size++:t.size++,"F"!==r&&(s.index[r]=c)),t},a=function(t,e){var n,o=i(t),r=rd(e);if("F"!==r)return o.index[r];for(n=o.first;n;n=n.next)if(n.key==e)return n};return Io(r.prototype,{clear:function(){for(var t=i(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,S?t.size=0:this.size=0},delete:function(t){var e=i(this),n=a(this,t);if(n){var o=n.next,r=n.previous;delete e.index[n.index],n.removed=!0,r&&(r.next=o),o&&(o.previous=r),e.first==n&&(e.first=o),e.last==n&&(e.last=r),S?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=i(this),o=Ho(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(o(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),Io(r.prototype,n?{get:function(t){var e=a(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),S&&od(r.prototype,"size",{get:function(){return i(this).size}}),r},setStrong:function(t,e,n){var o=e+" Iterator",r=sd(e),i=sd(o);Ip(t,e,(function(t,e){id(this,{type:o,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),He(e)}}),De.charAt),cd=vt.set,ld=vt.getterFor("String Iterator");Ip(String,"String",(function(t){cd(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=ld(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=ad(n,o),e.index+=t.length,{value:t,done:!1})}));var ud=["bold","italic","underline","strike","link","text_color","text_highlight"];var pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"format_clear"},enumerable:!0,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){var n=function(t,e){var n=t.doc,o=t.selection;if(!o||!n)return t;var r=o.from,i=o.to;if(o.empty)return t;var s=new Set(ud.map((function(t){return e.marks[t]})).filter(Boolean));if(!s.size)return t;var a=[];return n.nodesBetween(r,i,(function(t,e){return!t.marks||!t.marks.length||(t.marks.some((function(n){s.has(n.type)&&a.push({node:t,pos:e,mark:n})})),!0)})),a.forEach((function(e){var n=e.node,o=e.mark,r=e.pos;t=t.removeMark(r,r+n.nodeSize,o.type)})),t=gs(t=vp(t,null),null)}(t.tr.setSelection(t.selection),t.schema);return!(!e||!n.docChanged)&&(e(n),!0)}}},e.prototype.menuBtnView=function(t){var e=t.commands;return{component:$i,componentProps:{command:e.format_clear,icon:"remove-format",tooltip:hn("editor.extensions.FormatClear.tooltip")}}},e}(n.Extension);const dd=yi({render:function(){var t=this.$createElement;return(this._self._c||t)("command-button",{attrs:{command:this.toggleFullScreen,tooltip:this.buttonTooltip,icon:this.isFullscreen?"compress":"expand","is-active":this.isFullscreen}})},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isFullscreen=!1,e}return Kn(e,t),Object.defineProperty(e.prototype,"buttonTooltip",{get:function(){return this.isFullscreen?this.t("editor.extensions.Fullscreen.tooltip.exit_fullscreen"):this.t("editor.extensions.Fullscreen.tooltip.fullscreen")},enumerable:!0,configurable:!0}),e.prototype.mounted=function(){var t;t=this.onFullscreenChange,document.addEventListener("fullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t),document.addEventListener("webkitfullscreenchange",t)},e.prototype.beforeDestroy=function(){var t;t=this.onFullscreenChange,document.removeEventListener("fullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("MSFullscreenChange",t),document.removeEventListener("webkitfullscreenchange",t)},e.prototype.onFullscreenChange=function(){this.isFullscreen=!!(document.fullscreen||document.mozFullScreen||document.fullscreenElement||document.msFullscreenElement||document.webkitIsFullScreen)},e.prototype.toggleFullScreen=function(){if(this.isFullscreen)document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():pn("[[Element-Tiptap Tip]] Fullscreen API is not supported.");else{var t=this.$el.closest(".el-tiptap-editor");t&&((e=t).requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():pn("[[Element-Tiptap Tip]] Fullscreen API is not supported."))}var e},e=Jn([ho({components:{CommandButton:$i}})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);var fd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"fullscreen"},enumerable:!0,configurable:!0}),e.prototype.menuBtnView=function(){return{component:dd}},e}(n.Extension),hd=!nr((function(t){Array.from(t)}));Kt({target:"Array",stat:!0,forced:hd},{from:function(t){var e,n,o,r,i,s,a=Jt(t),c="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,p=void 0!==u,d=Wo(a),f=0;if(p&&(u=Ho(u,l>2?arguments[2]:void 0,2)),null==d||c==Array&&qo(d))for(n=new c(e=kt(a.length));e>f;f++)s=p?u(a[f],f):a[f],yn(n,f,s);else for(i=(r=d.call(a)).next,n=new c;!(o=i.call(r)).done;f++)s=p?Ko(r,u,[o.value,f],!0):o.value,yn(n,f,s);return n.length=f,n}});var md,vd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"print"},enumerable:!0,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e,n){var o=n.dom.closest(".el-tiptap-editor__content");return!!o&&(function(t){var e=Array.from(document.querySelectorAll("style, link")).reduce((function(t,e){return t+e.outerHTML}),"")+t.outerHTML,n=document.createElement("iframe");n.id="el-tiptap-iframe",n.setAttribute("style","position: absolute; width: 0; height: 0; top: -10px; left: -10px;"),document.body.appendChild(n);var o=n.contentWindow,r=n.contentDocument||n.contentWindow&&n.contentWindow.document;r&&(r.open(),r.write(e),r.close()),o&&(n.onload=function(){try{setTimeout((function(){o.focus();try{o.document.execCommand("print",!1)||o.print()}catch(t){o.print()}o.close()}),10)}catch(t){console.log(t)}setTimeout((function(){document.body.removeChild(n)}),100)})}(o),!0)}}},e.prototype.menuBtnView=function(t){var e=t.commands;return{component:$i,componentProps:{command:e.print,icon:"print",tooltip:hn("editor.extensions.Print.tooltip")}}},e}(n.Extension);const gd=yi({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("command-button",{attrs:{command:t.togglePreviewDialogVisible,tooltip:t.t("editor.extensions.Preview.tooltip"),icon:"eye"}}),t._v(" "),n("el-dialog",{attrs:{title:t.t("editor.extensions.Preview.dialog.title"),visible:t.previewDialogVisible,width:t.contentWidth,"append-to-body":!0},on:{"update:visible":function(e){t.previewDialogVisible=e}}},[n("div",{staticClass:"el-tiptap-editor__content"},[n("div",{domProps:{innerHTML:t._s(t.html)}})])])],1)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.html="",e.previewDialogVisible=!1,e}return Kn(e,t),e.prototype.onVisibleChange=function(t){t&&this.getHtml()},e.prototype.togglePreviewDialogVisible=function(){this.previewDialogVisible=!this.previewDialogVisible},e.prototype.getHtml=function(){this.html=this.editorContext.editor.getHTML()},Jn([go({type:Object,required:!0})],e.prototype,"editorContext",void 0),Jn([go({type:String,default:"80vw"})],e.prototype,"contentWidth",void 0),Jn([yo("previewDialogVisible")],e.prototype,"onVisibleChange",null),e=Jn([ho({components:(md={},md[f.name]=f,md.CommandButton=$i,md)})],e)}(ao(gi)),void 0,!1,void 0,!1,void 0,void 0,void 0);var yd,bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"preview"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return{contentWidth:"80vw"}},enumerable:!0,configurable:!0}),e.prototype.menuBtnView=function(t){return{component:gd,componentProps:{editorContext:t,contentWidth:this.options.contentWidth}}},e}(n.Extension),wd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kn(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"select_all"},enumerable:!0,configurable:!0}),e.prototype.commands=function(){return function(){return hu}},e.prototype.menuBtnView=function(t){var e=t.commands;return{component:$i,componentProps:{command:e.select_all,icon:"regular/object-group",tooltip:hn("editor.extensions.SelectAll.tooltip")}}},e}(n.Extension),xd={installed:!1,spellcheck:!0,install:function(t,e){void 0===e&&(e={});var n,o=e.lang;o&&(dn[n=o]?fn=dn[n]:(pn("Can't find the current language \""+n+'", Using language "en" by default. Welcome contribution to https://github.com/Leecason/element-tiptap'),fn=dn.en)),this.spellcheck=null==e.spellcheck||e.spellcheck,t.component("el-tiptap",Ji),t.prototype.$elementTiptapPlugin=this,this.installed=!0}};yd=null,"undefined"!=typeof window?yd=window:"undefined"!=typeof global&&(yd=global),yd&&yd.Vue&&yd.Vue.use(xd),Object.defineProperty(t,"Doc",{enumerable:!0,get:function(){return n.Doc}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return n.Text}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return o.Code}}),Object.defineProperty(t,"HardBreak",{enumerable:!0,get:function(){return o.HardBreak}}),Object.defineProperty(t,"TableCell",{enumerable:!0,get:function(){return o.TableCell}}),Object.defineProperty(t,"TableHeader",{enumerable:!0,get:function(){return o.TableHeader}}),Object.defineProperty(t,"TableRow",{enumerable:!0,get:function(){return o.TableRow}}),Object.defineProperty(t,"TrailingNode",{enumerable:!0,get:function(){return o.TrailingNode}}),t.Blockquote=Ws,t.Bold=qu,t.BulletList=Zs,t.CodeBlock=Ks,t.ElementTiptap=Ji,t.ElementTiptapPlugin=xd,t.FormatClear=pd,t.Fullscreen=fd,t.Heading=Hs,t.History=hp,t.HorizontalRule=fp,t.Iframe=$u,t.Image=Ou,t.Indent=Jp,t.Italic=Uu,t.LineHeight=Zp,t.Link=Ju,t.ListItem=Xs,t.OrderedList=Ys,t.Paragraph=xs,t.Preview=bd,t.Print=vd,t.SelectAll=wd,t.Strike=Wu,t.Table=Fu,t.TextAlign=wp,t.TextColor=pp,t.TextHighlight=dp,t.TodoItem=Du,t.TodoList=Iu,t.Underline=Hu,Object.defineProperty(t,"__esModule",{value:!0})}));
