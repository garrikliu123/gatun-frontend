{"remainingRequest":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/store/actions.js","dependencies":[{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/store/actions.js","mtime":1587439345176},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy94aWFuZ2xpdS9EZXZlbG9wbWVudC9Qcm9qZWN0cy94eHgvYXBlcmEtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAiLi9tdXRhdGlvbi10eXBlIjsKaW1wb3J0IGNhdGVnb3J5QXBpIGZyb20gImFwaS9jYXRlZ29yeSI7CmltcG9ydCBwcm9kdWN0QXBpIGZyb20gImFwaS9wcm9kdWN0IjsKaW1wb3J0IHByb2R1Y3RDYXRlZ29yeUFwaSBmcm9tICJhcGkvcHJvZHVjdENhdGVnb3J5IjsKaW1wb3J0IHRvcGljQ2F0ZWdvcnlBcGkgZnJvbSAiYXBpL3RvcGljQ2F0ZWdvcnkiOwppbXBvcnQgYXJ0aWNsZUFwaSBmcm9tICJhcGkvYXJ0aWNsZSI7CmltcG9ydCB0b3BpY0FwaSBmcm9tICJhcGkvdG9waWMiOwppbXBvcnQgaG9tZVNlY3Rpb25BcGkgZnJvbSAiYXBpL2hvbWVTZWN0aW9uIjsKaW1wb3J0IHVzZXJBcGkgZnJvbSAiYXBpL3VzZXIiOwppbXBvcnQgb3JkZXJBcGkgZnJvbSAiYXBpL29yZGVyIjsKaW1wb3J0IF8gZnJvbSAibG9kYXNoIjsKZXhwb3J0IHZhciBzZXRGdWxsU2NyZWVuTG9hZGluZyA9IGZ1bmN0aW9uIHNldEZ1bGxTY3JlZW5Mb2FkaW5nKF9yZWYsIHZhbHVlKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogIGNvbW1pdCh0eXBlcy5TRVRfRlVMTFNDUkVFTl9MT0FESU5HLCB2YWx1ZSk7Cn07CmV4cG9ydCB2YXIgc2V0VXNlciA9IGZ1bmN0aW9uIHNldFVzZXIoX3JlZjIsIHZhbHVlKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICBjb21taXQodHlwZXMuU0VUX1VTRVIsIHZhbHVlKTsKICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oImdhdHVuVXNlcklkIiwgdmFsdWUudXNlcklkKTsKfTsKZXhwb3J0IHZhciBzZXRDYXJ0ID0gZnVuY3Rpb24gc2V0Q2FydChfcmVmMywgbGlzdCkgewogIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgY29tbWl0KHR5cGVzLlNFVF9TSE9QUElOR19DQVJULCBsaXN0KTsKICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oImdhdHVuQ2FydCIsIEpTT04uc3RyaW5naWZ5KGxpc3QpKTsKfTsKZXhwb3J0IHZhciBhZGRQcm91ZGN0VG9DYXJ0ID0gZnVuY3Rpb24gYWRkUHJvdWRjdFRvQ2FydChfcmVmNCwgcHJvZHVjdCkgewogIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQsCiAgICAgIHN0YXRlID0gX3JlZjQuc3RhdGU7CgogIHZhciBsaXN0ID0gXy5jbG9uZURlZXAoc3RhdGUuc2hvcHBpbmdDYXJ0KTsKCiAgdmFyIG1hdGNoZWRQcm9kdWN0ID0gbGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gaXRlbS5wcm9kdWN0SWQgPT0gcHJvZHVjdC5wcm9kdWN0SWQgJiYgaXRlbS5vcHRpb24gPT0gcHJvZHVjdC5vcHRpb247CiAgfSk7CgogIGlmIChtYXRjaGVkUHJvZHVjdCkgewogICAgbWF0Y2hlZFByb2R1Y3QuYW1vdW50ICs9IHByb2R1Y3QuYW1vdW50OwogIH0gZWxzZSB7CiAgICBsaXN0LnB1c2gocHJvZHVjdCk7CiAgfQoKICBjb21taXQodHlwZXMuU0VUX1NIT1BQSU5HX0NBUlQsIGxpc3QpOwp9OwpleHBvcnQgdmFyIGRlbGV0ZVByb3VkY3RGcm9tQ2FydCA9IGZ1bmN0aW9uIGRlbGV0ZVByb3VkY3RGcm9tQ2FydChfcmVmNSwgcHJvZHVjdElkKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdCwKICAgICAgc3RhdGUgPSBfcmVmNS5zdGF0ZTsKCiAgdmFyIGxpc3QgPSBfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUuc2hvcHBpbmdDYXJ0KTsKCiAgdmFyIGluZGV4ID0gbGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGl0ZW0uaWQgPT09IHByb2R1Y3RJZDsKICB9KTsKICBsaXN0LnNwbGljZShpbmRleCwgMSk7CiAgY29tbWl0KHR5cGVzLlNFVF9TSE9QUElOR19DQVJULCBsaXN0KTsKfTsKZXhwb3J0IHZhciBjbGVhckNhcnQgPSBmdW5jdGlvbiBjbGVhckNhcnQoX3JlZjYpIHsKICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogIGNvbW1pdCh0eXBlcy5TRVRfU0hPUFBJTkdfQ0FSVCwgW10pOwp9OwpleHBvcnQgdmFyIGxvZ291dCA9IGZ1bmN0aW9uIGxvZ291dChfcmVmNykgewogIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQ7CiAgY29tbWl0KHR5cGVzLlNFVF9VU0VSLCBudWxsKTsKICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImdhdHVuVXNlcklkIik7Cn07CmV4cG9ydCB2YXIgZ2V0UHJvZHVjdExpc3QgPSBmdW5jdGlvbiBnZXRQcm9kdWN0TGlzdChfcmVmOCkgewogIHZhciBjb21taXQgPSBfcmVmOC5jb21taXQ7CiAgcmV0dXJuIHByb2R1Y3RBcGkuZ2V0UHJvZHVjdExpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMxKSB7CiAgICBwcm9kdWN0Q2F0ZWdvcnlBcGkuZ2V0UHJvZHVjdENhdGVnb3J5TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlczIpIHsKICAgICAgY29tbWl0KHR5cGVzLlNFVF9QUk9EVUNUX0xJU1QsIHJlczEuZGF0YSk7CiAgICAgIGNvbW1pdCh0eXBlcy5TRVRfUFJPRFVDVF9DQVRFR09SWV9MSVNULCByZXMyLmRhdGEpOwogICAgfSk7CiAgfSk7Cn07CmV4cG9ydCB2YXIgZ2V0T3JkZXJIaXN0b3J5ID0gZnVuY3Rpb24gZ2V0T3JkZXJIaXN0b3J5KF9yZWY5LCB1c2VySWQpIHsKICB2YXIgY29tbWl0ID0gX3JlZjkuY29tbWl0OwogIHJldHVybiBvcmRlckFwaS5nZXRPcmRlckxpc3RCeVVzZXJJZCh1c2VySWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgIHZhciBvcmRlckhpc3RvcnkgPSByZXMub3JkZXJsaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0ub3JkZXJEZXRhaWwgPSBKU09OLnBhcnNlKGl0ZW0ub3JkZXJEZXRhaWwpOwogICAgICAgIGl0ZW0ub3JkZXJTaGlwcGluZyA9IEpTT04ucGFyc2UoaXRlbS5vcmRlclNoaXBwaW5nKTsKICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgfSk7CiAgICAgIGNvbW1pdCh0eXBlcy5TRVRfT1JERVJfSElTVE9SWSwgb3JkZXJIaXN0b3J5KTsKICAgIH0KICB9KTsKfTsKZXhwb3J0IHZhciBnZXRBcnRpY2xlTGlzdCA9IGZ1bmN0aW9uIGdldEFydGljbGVMaXN0KF9yZWYxMCkgewogIHZhciBjb21taXQgPSBfcmVmMTAuY29tbWl0OwogIHJldHVybiBhcnRpY2xlQXBpLmdldEFydGljbGVMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICBjb21taXQodHlwZXMuU0VUX0FSVElDTEVfTElTVCwgcmVzLmRhdGEpOwogIH0pOwp9OwpleHBvcnQgdmFyIGdldFRvcGljTGlzdCA9IGZ1bmN0aW9uIGdldFRvcGljTGlzdChfcmVmMTEpIHsKICB2YXIgY29tbWl0ID0gX3JlZjExLmNvbW1pdDsKICByZXR1cm4gdG9waWNBcGkuZ2V0VG9waWNMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzMSkgewogICAgdG9waWNDYXRlZ29yeUFwaS5nZXRUb3BpY0NhdGVnb3J5TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlczIpIHsKICAgICAgY29tbWl0KHR5cGVzLlNFVF9UT1BJQ19MSVNULCByZXMxLmRhdGEpOwogICAgICBjb21taXQodHlwZXMuU0VUX1RPUElDX0NBVEVHT1JZX0xJU1QsIHJlczIuZGF0YSk7CiAgICB9KTsKICB9KTsKfTsKZXhwb3J0IHZhciBnZXRDYXRlZ29yeUxpc3QgPSBmdW5jdGlvbiBnZXRDYXRlZ29yeUxpc3QoX3JlZjEyKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYxMi5jb21taXQ7CiAgcmV0dXJuIGNhdGVnb3J5QXBpLmdldENhdGVnb3J5TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgY29tbWl0KHR5cGVzLlNFVF9DQVRFR09SWV9MSVNULCByZXMuZGF0YSk7CiAgfSk7Cn07CmV4cG9ydCB2YXIgZ2V0SG9tZVNlY3Rpb25MaXN0ID0gZnVuY3Rpb24gZ2V0SG9tZVNlY3Rpb25MaXN0KF9yZWYxMykgewogIHZhciBjb21taXQgPSBfcmVmMTMuY29tbWl0OwogIHJldHVybiBob21lU2VjdGlvbkFwaS5nZXRTZWN0aW9uTGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgY29tbWl0KHR5cGVzLlNFVF9IT01FX1NFQ1RJT05fTElTVCwgcmVzLmRhdGEpOwogIH0pOwp9OyAvLyDlkK/liqjmkq3mlL7lmagKCmV4cG9ydCB2YXIgaW5pdFNpdGUgPSBmdW5jdGlvbiBpbml0U2l0ZShfcmVmMTQpIHsKICB2YXIgZGlzcGF0Y2ggPSBfcmVmMTQuZGlzcGF0Y2g7CiAgZGlzcGF0Y2goImdldFByb2R1Y3RMaXN0IikudGhlbihmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZGlzcGF0Y2goImdldENhdGVnb3J5TGlzdCIpOwogIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGRpc3BhdGNoKCJnZXRBcnRpY2xlTGlzdCIpOwogIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGRpc3BhdGNoKCJnZXRUb3BpY0xpc3QiKTsKICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkaXNwYXRjaCgiZ2V0SG9tZVNlY3Rpb25MaXN0Iik7CiAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICB2YXIgdXNlcklkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJnYXR1blVzZXJJZCIpOwogICAgdmFyIGNhcnRKc29uID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJnYXR1bkNhcnQiKTsKICAgIHZhciBjYXJ0ID0gSlNPTi5wYXJzZShjYXJ0SnNvbik7CgogICAgaWYgKGNhcnQgJiYgQXJyYXkuaXNBcnJheShjYXJ0KSkgewogICAgICBkaXNwYXRjaCgic2V0Q2FydCIsIGNhcnQpOwogICAgfSBlbHNlIHsKICAgICAgZGlzcGF0Y2goInNldENhcnQiLCBbXSk7CiAgICB9CgogICAgaWYgKHVzZXJJZCkgewogICAgICB1c2VyQXBpLmdldFVzZXJCeUlkKHVzZXJJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBkaXNwYXRjaCgic2V0VXNlciIsIHJlcy51c2VyKTsKICAgICAgICAgIGRpc3BhdGNoKCJnZXRPcmRlckhpc3RvcnkiLCB1c2VySWQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSk7Cn07"},{"version":3,"sources":["/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/store/actions.js"],"names":["types","categoryApi","productApi","productCategoryApi","topicCategoryApi","articleApi","topicApi","homeSectionApi","userApi","orderApi","_","setFullScreenLoading","value","commit","SET_FULLSCREEN_LOADING","setUser","SET_USER","window","localStorage","setItem","userId","setCart","list","SET_SHOPPING_CART","JSON","stringify","addProudctToCart","product","state","cloneDeep","shoppingCart","matchedProduct","find","item","productId","option","amount","push","deleteProudctFromCart","index","findIndex","id","splice","clearCart","logout","removeItem","getProductList","then","res1","getProductCategoryList","res2","SET_PRODUCT_LIST","data","SET_PRODUCT_CATEGORY_LIST","getOrderHistory","getOrderListByUserId","res","success","orderHistory","orderlist","map","orderDetail","parse","orderShipping","SET_ORDER_HISTORY","getArticleList","SET_ARTICLE_LIST","getTopicList","getTopicCategoryList","SET_TOPIC_LIST","SET_TOPIC_CATEGORY_LIST","getCategoryList","SET_CATEGORY_LIST","getHomeSectionList","getSectionList","SET_HOME_SECTION_LIST","initSite","dispatch","getItem","cartJson","cart","Array","isArray","getUserById","user"],"mappings":"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","sourcesContent":["import * as types from \"./mutation-type\";\n\nimport categoryApi from \"api/category\";\nimport productApi from \"api/product\";\nimport productCategoryApi from \"api/productCategory\";\nimport topicCategoryApi from \"api/topicCategory\";\nimport articleApi from \"api/article\";\nimport topicApi from \"api/topic\";\nimport homeSectionApi from \"api/homeSection\";\nimport userApi from \"api/user\";\nimport orderApi from \"api/order\";\nimport _ from \"lodash\";\n\nexport const setFullScreenLoading = function({\n    commit\n}, value) {\n    commit(types.SET_FULLSCREEN_LOADING, value);\n};\n\nexport const setUser = function({\n    commit\n}, value) {\n    commit(types.SET_USER, value);\n    window.localStorage.setItem(\"gatunUserId\", value.userId);\n};\n\nexport const setCart = function({\n    commit\n}, list) {\n    commit(types.SET_SHOPPING_CART, list);\n    window.localStorage.setItem(\"gatunCart\", JSON.stringify(list));\n\n};\n\nexport const addProudctToCart = function({\n    commit,\n    state\n}, product) {\n    const list = _.cloneDeep(state.shoppingCart);\n    const matchedProduct = list.find(item => {\n        return item.productId == product.productId && item.option == product.option;\n    });\n\n    if (matchedProduct) {\n        matchedProduct.amount += product.amount;\n    } else {\n        list.push(product);\n    }\n\n    commit(types.SET_SHOPPING_CART, list);\n};\n\nexport const deleteProudctFromCart = function({\n    commit,\n    state\n}, productId) {\n    const list = [...state.shoppingCart];\n    const index = list.findIndex(item => {\n        item.id === productId;\n    });\n\n    list.splice(index, 1);\n    commit(types.SET_SHOPPING_CART, list);\n};\n\nexport const clearCart = function({\n    commit\n}) {\n    commit(types.SET_SHOPPING_CART, []);\n};\n\nexport const logout = function({\n    commit\n}) {\n    commit(types.SET_USER, null);\n    window.localStorage.removeItem(\"gatunUserId\");\n};\n\nexport const getProductList = function({\n    commit\n}) {\n    return productApi.getProductList().then(res1 => {\n        productCategoryApi.getProductCategoryList().then(res2 => {\n            commit(types.SET_PRODUCT_LIST, res1.data);\n            commit(types.SET_PRODUCT_CATEGORY_LIST, res2.data);\n        });\n    });\n};\n\nexport const getOrderHistory = function({\n    commit\n}, userId) {\n    return orderApi.getOrderListByUserId(userId).then(res => {\n        if (res.success) {\n            const orderHistory = res.orderlist.map(item => {\n                item.orderDetail = JSON.parse(item.orderDetail);\n                item.orderShipping = JSON.parse(item.orderShipping);\n                return item;\n            })\n            commit(types.SET_ORDER_HISTORY, orderHistory);\n        }\n    });\n};\n\nexport const getArticleList = function({\n    commit\n}) {\n    return articleApi.getArticleList().then(res => {\n        commit(types.SET_ARTICLE_LIST, res.data);\n    });\n};\n\nexport const getTopicList = function({\n    commit\n}) {\n    return topicApi.getTopicList().then(res1 => {\n        topicCategoryApi.getTopicCategoryList().then(res2 => {\n            commit(types.SET_TOPIC_LIST, res1.data);\n            commit(types.SET_TOPIC_CATEGORY_LIST, res2.data);\n        });\n    });\n};\n\nexport const getCategoryList = function({\n    commit\n}) {\n    return categoryApi.getCategoryList().then(res => {\n        commit(types.SET_CATEGORY_LIST, res.data);\n    });\n};\n\nexport const getHomeSectionList = function({\n    commit\n}) {\n    return homeSectionApi.getSectionList().then(res => {\n        commit(types.SET_HOME_SECTION_LIST, res.data);\n    });\n};\n\n// 启动播放器\nexport const initSite = function({\n    dispatch\n}) {\n    dispatch(\"getProductList\")\n        .then(() => {\n            return dispatch(\"getCategoryList\");\n        })\n        .then(() => {\n            return dispatch(\"getArticleList\");\n        })\n        .then(() => {\n            return dispatch(\"getTopicList\");\n        })\n        .then(() => {\n            return dispatch(\"getHomeSectionList\");\n        })\n        .then(() => {\n            const userId = window.localStorage.getItem(\"gatunUserId\");\n            const cartJson = window.localStorage.getItem(\"gatunCart\");\n            const cart = JSON.parse(cartJson);\n            if (cart && Array.isArray(cart)) {\n                dispatch(\"setCart\", cart);\n            } else {\n                dispatch(\"setCart\", []);\n            }\n            if (userId) {\n                userApi.getUserById(userId).then(res => {\n                    if (res.success) {\n                        dispatch(\"setUser\", res.user);\n                        dispatch(\"getOrderHistory\", userId);\n                    }\n                });\n            }\n        });\n};"]}]}