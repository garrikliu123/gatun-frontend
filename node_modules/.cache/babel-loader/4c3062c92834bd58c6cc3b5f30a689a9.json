{"remainingRequest":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/Manage/AddProductDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/Manage/AddProductDialog.vue","mtime":1585674759403},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy94aWFuZ2xpdS9EZXZlbG9wbWVudC9Qcm9qZWN0cy94eHgvYXBlcmEtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gInV1aWQiOwppbXBvcnQgeyB1cGxvYWRJbWFnZSB9IGZyb20gImFwaS9jb21tb24iOwppbXBvcnQgVGV4dEVkaXRvciBmcm9tICJjb21wb25lbnRzL1RleHRFZGl0b3IiOwppbXBvcnQgeyBjaGVja0RvdWJsZSB9IGZyb20gImNvbW1vbi91dGlscy92YWxpZGF0ZVJ1bGVzIjsKaW1wb3J0IHsgZWRpdFByb2R1Y3RGb3JtIGFzIHRlc3RGb3JtRGF0YSB9IGZyb20gImNvbW1vbi9jb25maWcvdGVzdERhdGEiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRlc3RGb3JtRGF0YTogdGVzdEZvcm1EYXRhLAogICAgICBhY3RpdmVUYWJOYW1lOiAiMSIsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBmb3JtRGF0YTogewogICAgICAgIHByb2R1Y3ROYW1lOiAiIiwKICAgICAgICBwcm9kdWN0RGVzYzogIiIsCiAgICAgICAgcHJvZHVjdFNwZWNzOiAiIiwKICAgICAgICBwcm9kdWN0V2FycmFudDogIiIsCiAgICAgICAgcHJvZHVjdFZpZGVvOiAiIiwKICAgICAgICBwcm9kdWN0RmVhdHVyZTogIiIsCiAgICAgICAgcHJvZHVjdFByaWNlOiAiIiwKICAgICAgICBwcm9kdWN0Q2F0ZWdvcnk6IFtdLAogICAgICAgIHByb2R1Y3RBcHBsaWNhdGlvbjogW10sCiAgICAgICAgcHJvZHVjdFBhcmFtZXRlcjogW10sCiAgICAgICAgcHJvZHVjdEltYWdlTGlzdDogW10KICAgICAgfSwKICAgICAgZm9ybVJ1bGVzOiB7CiAgICAgICAgcHJvZHVjdE5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2UgZW50ZXIgYSB2YWxpZCBuYW1lIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHByb2R1Y3RQcmljZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIlBsZWFzZSBlbnRlciBhIHZhbGlkIHByaWNlIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tEb3VibGUoIlBsZWFzZSBlbnRlciBhIHZhbGlkIG51bWJlciB3aXRoIHR3byBkZWNpbWFsIHBsYWNlcyIpLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcHJvZHVjdFBhcmFtZXRlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIlBsZWFzZSBzZWxlY3QgYXQgbGVhc2Ugb25lIHBhcmFtZXRlciIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwcm9kdWN0Q2F0ZWdvcnk6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2Ugc2VsZWN0IGF0IGxlYXNlIG9uZSBjYXRlZ29yeSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwcm9kdWN0QXBwbGljYXRpb246IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2Ugc2VsZWN0IGF0IGxlYXNlIG9uZSBhcHBsaWNhdGlvbiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICBmb3JtTGFiZWxXaWR0aDogIjEwMHB4IiwKICAgICAgdXBsb2FkSW1hZ2VFcnJvcjogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHsKICAgIGNhdGVnb3J5TGlzdEJ5UHJvZHVjdDogZnVuY3Rpb24gY2F0ZWdvcnlMaXN0QnlQcm9kdWN0KCkgewogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHRoaXMuY2F0ZWdvcnlMaXN0LmZvckVhY2goZnVuY3Rpb24gKGNhdGVnb3J5KSB7CiAgICAgICAgaWYgKGNhdGVnb3J5LmNhdGVnb3J5VHlwZSA9PSAiUHJvZHVjdCIpIHsKICAgICAgICAgIHJlc3VsdC5wdXNoKHsKICAgICAgICAgICAgbGFiZWw6IGNhdGVnb3J5LmNhdGVnb3J5TmFtZSwKICAgICAgICAgICAgdmFsdWU6IGNhdGVnb3J5LmNhdGVnb3J5TmFtZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBjYXRlZ29yeUxpc3RCeUFwcGxpY2F0aW9uOiBmdW5jdGlvbiBjYXRlZ29yeUxpc3RCeUFwcGxpY2F0aW9uKCkgewogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHRoaXMuY2F0ZWdvcnlMaXN0LmZvckVhY2goZnVuY3Rpb24gKGNhdGVnb3J5KSB7CiAgICAgICAgaWYgKGNhdGVnb3J5LmNhdGVnb3J5VHlwZSA9PSAiQXBwbGljYXRpb25zIikgewogICAgICAgICAgcmVzdWx0LnB1c2goewogICAgICAgICAgICBsYWJlbDogY2F0ZWdvcnkuY2F0ZWdvcnlOYW1lLAogICAgICAgICAgICB2YWx1ZTogY2F0ZWdvcnkuY2F0ZWdvcnlOYW1lCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIGNhdGVnb3J5TGlzdEJ5UGFyYW10ZXI6IGZ1bmN0aW9uIGNhdGVnb3J5TGlzdEJ5UGFyYW10ZXIoKSB7CiAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgdGhpcy5jYXRlZ29yeUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoY2F0ZWdvcnkpIHsKICAgICAgICBpZiAoY2F0ZWdvcnkuY2F0ZWdvcnlUeXBlID09ICJQYXJhbWV0ZXJzIikgewogICAgICAgICAgcmVzdWx0LnB1c2goewogICAgICAgICAgICBsYWJlbDogY2F0ZWdvcnkuY2F0ZWdvcnlOYW1lLAogICAgICAgICAgICB2YWx1ZTogY2F0ZWdvcnkuY2F0ZWdvcnlOYW1lCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogIH0sIG1hcEdldHRlcnMoWyJjYXRlZ29yeUxpc3QiXSkpLAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0Q2xpY2s6IGZ1bmN0aW9uIG9uU3VibWl0Q2xpY2soKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmVkaXRQcm9kdWN0Rm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBjb25zb2xlLmxvZyh2YWxpZCk7CgogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuZm9ybURhdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvblVwbG9hZEltYWdlOiBmdW5jdGlvbiBvblVwbG9hZEltYWdlKHJlcSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBmaWxldHlwZSA9ICIiOwoKICAgICAgaWYgKHJlcS5maWxlLnR5cGUgPT09ICJpbWFnZS9wbmciKSB7CiAgICAgICAgZmlsZXR5cGUgPSAicG5nIjsKICAgICAgfSBlbHNlIHsKICAgICAgICBmaWxldHlwZSA9ICJqcGciOwogICAgICB9IC8vIOmHjeWRveWQjeimgeS4iuS8oOeahOaWh+S7tgoKCiAgICAgIHZhciBmaWxlbmFtZSA9IHV1aWR2NCgpICsgIi4iICsgZmlsZXR5cGU7CiAgICAgIHZhciBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtZGF0YS5hcHBlbmQoImZpbGUiLCByZXEuZmlsZSk7CiAgICAgIHVwbG9hZEltYWdlKGZpbGVuYW1lLCBmb3JtZGF0YSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIKICAgICAgICB9CiAgICAgIH0sIGZ1bmN0aW9uIChpbWFnZSkgewogICAgICAgIF90aGlzMi5mb3JtRGF0YS5wcm9kdWN0SW1hZ2VMaXN0LnB1c2goaW1hZ2UpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDpqozor4Hmlofku7blkIjms5XmgKcKICAgIGJlZm9yZVVwbG9hZDogZnVuY3Rpb24gYmVmb3JlVXBsb2FkKGZpbGUpIHsKICAgICAgdmFyIGlzSlBHID0gZmlsZS50eXBlID09PSAiaW1hZ2UvanBlZyIgfHwgZmlsZS50eXBlID09PSAiaW1hZ2UvcG5nIjsKICAgICAgdmFyIGlzTHQyTSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgNTsKCiAgICAgIGlmICghaXNKUEcpIHsKICAgICAgICB0aGlzLnVwbG9hZEltYWdlRXJyb3IgPSAiSW1hZ2UgdHlwZSBzaG91bGQgYmUgSlBFRCBvciBQTkciOwogICAgICB9CgogICAgICBpZiAoIWlzTHQyTSkgewogICAgICAgIHRoaXMudXBsb2FkSW1hZ2VFcnJvciA9ICJJbWFnZSBzaXplIHNob3VsZCBsZXNzIHRoYW4gNU1CIjsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2codGhpcy51cGxvYWRJbWFnZUVycm9yKTsKICAgICAgcmV0dXJuIGlzSlBHICYmIGlzTHQyTTsKICAgIH0sCiAgICBvblVwbG9hZFN1Y2Nlc3M6IGZ1bmN0aW9uIG9uVXBsb2FkU3VjY2VzcygpIHt9LAogICAgb25JbWFnZVJlbW92ZTogZnVuY3Rpb24gb25JbWFnZVJlbW92ZSh0YXJnZXQpIHsKICAgICAgdmFyIHRhcmdldEluZGV4ID0gbnVsbDsKICAgICAgdGhpcy5mb3JtRGF0YS5wcm9kdWN0SW1hZ2VMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PT0gdGFyZ2V0Lm5hbWUpIHsKICAgICAgICAgIHRhcmdldEluZGV4ID0gaW5kZXg7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmICh0YXJnZXRJbmRleCAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuZm9ybURhdGEucHJvZHVjdEltYWdlTGlzdC5zcGxpY2UodGFyZ2V0SW5kZXgsIDEpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICAiYXAtdGV4dGVkaXRvciI6IFRleHRFZGl0b3IKICB9Cn07"},{"version":3,"sources":["AddProductDialog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-dialog\n    class=\"ap-dialog\"\n    title=\"Edit Product\"\n    :visible.sync=\"dialogVisible\"\n    width=\"1100px\"\n  >\n    <div class=\"dialog-inner\">\n      <el-form\n        :model=\"formData\"\n        :rules=\"formRules\"\n        ref=\"editProductForm\"\n      >\n        <!-- Name -->\n        <el-form-item\n          label=\"Name\"\n          :label-width=\"formLabelWidth\"\n          prop=\"productName\"\n        >\n          <el-input v-model=\"formData.productName\"></el-input>\n        </el-form-item>\n\n        <!-- Price -->\n        <el-form-item\n          label=\"Price\"\n          :label-width=\"formLabelWidth\"\n          prop=\"productPrice\"\n        >\n          <el-input v-model=\"formData.productPrice\"></el-input>\n        </el-form-item>\n\n        <!-- Parameter -->\n        <el-form-item\n          label=\"Parameter\"\n          :label-width=\"formLabelWidth\"\n          prop=\"productParameter\"\n        >\n          <el-select\n            class=\"form-item\"\n            v-model=\"formData.productParameter\"\n            filterable\n            multiple\n          >\n            <el-option\n              v-for=\"item in categoryListByParamter\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n\n        <!-- Category -->\n        <el-form-item\n          label=\"Category\"\n          :label-width=\"formLabelWidth\"\n          prop=\"productCategory\"\n        >\n          <el-select\n            class=\"form-item\"\n            v-model=\"formData.productCategory\"\n            filterable\n            multiple\n          >\n            <el-option\n              v-for=\"item in categoryListByProduct\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n\n        <!-- Application -->\n        <el-form-item\n          label=\"Application\"\n          :label-width=\"formLabelWidth\"\n          prop=\"productApplication\"\n        >\n          <el-select\n            class=\"form-item\"\n            v-model=\"formData.productApplication\"\n            filterable\n            multiple\n          >\n            <el-option\n              v-for=\"item in categoryListByApplication\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n\n      <!-- Pictures -->\n      <el-upload\n        class=\"dialog-picture-upload\"\n        action=\"\"\n        :http-request=\"onUploadImage\"\n        :before-upload=\"beforeUpload\"\n        :on-success=\"onUploadSuccess\"\n        :on-remove=\"onImageRemove\"\n        :file-list=\"formData.productImageList\"\n        list-type=\"picture-card\"\n      >\n        <i class=\"el-icon-plus\"></i>\n      </el-upload>\n\n      <!-- Rich Text Enter -->\n      <el-tabs\n        class=\"dialog-tabs\"\n        v-model=\"activeTabName\"\n      >\n        <!-- Description -->\n        <el-tab-pane\n          label=\"Description\"\n          name=\"1\"\n        >\n          <ap-texteditor v-model=\"formData.productDesc\" />\n        </el-tab-pane>\n\n        <!-- Feature -->\n        <el-tab-pane\n          label=\"Feature\"\n          name=\"2\"\n        >\n          <ap-texteditor v-model=\"formData.productFeature\" />\n        </el-tab-pane>\n\n        <!-- Speces -->\n        <el-tab-pane\n          label=\"Specs\"\n          name=\"3\"\n        >\n          <ap-texteditor v-model=\"formData.productSpecs\" />\n        </el-tab-pane>\n\n        <!-- Video -->\n        <el-tab-pane\n          label=\"Video\"\n          name=\"4\"\n        >\n          <ap-texteditor v-model=\"formData.productVideo\" />\n        </el-tab-pane>\n\n        <!-- Warrant -->\n        <el-tab-pane\n          label=\"Warrant\"\n          name=\"5\"\n        >\n          <ap-texteditor v-model=\"formData.productWarrant\" />\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n    <div\n      slot=\"footer\"\n      class=\"dialog-footer\"\n    >\n      <el-button @click=\"dialogVisible = false\">Cancel</el-button>\n      <el-button\n        type=\"primary\"\n        @click=\"onSubmitClick\"\n      >Submit</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { uploadImage } from \"api/common\";\nimport TextEditor from \"components/TextEditor\";\nimport { checkDouble } from \"common/utils/validateRules\";\nimport { editProductForm as testFormData } from \"common/config/testData\";\n\nexport default {\n  data() {\n    return {\n      testFormData,\n      activeTabName: \"1\",\n      dialogVisible: false,\n      formData: {\n        productName: \"\",\n        productDesc: \"\",\n        productSpecs: \"\",\n        productWarrant: \"\",\n        productVideo: \"\",\n        productFeature: \"\",\n        productPrice: \"\",\n        productCategory: [],\n        productApplication: [],\n        productParameter: [],\n        productImageList: []\n      },\n      formRules: {\n        productName: [\n          {\n            required: true,\n            message: \"Please enter a valid name\",\n            trigger: \"blur\"\n          }\n        ],\n        productPrice: [\n          {\n            required: true,\n            message: \"Please enter a valid price\",\n            trigger: \"blur\"\n          },\n          {\n            validator: checkDouble(\n              \"Please enter a valid number with two decimal places\"\n            ),\n            trigger: \"blur\"\n          }\n        ],\n        productParameter: [\n          {\n            required: true,\n            message: \"Please select at lease one parameter\",\n            trigger: \"blur\"\n          }\n        ],\n        productCategory: [\n          {\n            required: true,\n            message: \"Please select at lease one category\",\n            trigger: \"blur\"\n          }\n        ],\n        productApplication: [\n          {\n            required: true,\n            message: \"Please select at lease one application\",\n            trigger: \"blur\"\n          }\n        ]\n      },\n      formLabelWidth: \"100px\",\n      uploadImageError: null\n    };\n  },\n\n  computed: {\n    categoryListByProduct() {\n      const result = [];\n      this.categoryList.forEach(category => {\n        if (category.categoryType == \"Product\") {\n          result.push({\n            label: category.categoryName,\n            value: category.categoryName\n          });\n        }\n      });\n      return result;\n    },\n    categoryListByApplication() {\n      const result = [];\n      this.categoryList.forEach(category => {\n        if (category.categoryType == \"Applications\") {\n          result.push({\n            label: category.categoryName,\n            value: category.categoryName\n          });\n        }\n      });\n      return result;\n    },\n    categoryListByParamter() {\n      const result = [];\n      this.categoryList.forEach(category => {\n        if (category.categoryType == \"Parameters\") {\n          result.push({\n            label: category.categoryName,\n            value: category.categoryName\n          });\n        }\n      });\n      return result;\n    },\n    ...mapGetters([\"categoryList\"])\n  },\n\n  methods: {\n    onSubmitClick() {\n      this.$refs.editProductForm.validate(valid => {\n        console.log(valid);\n\n        if (valid) {\n          console.log(this.formData);\n        } else {\n          return false;\n        }\n      });\n    },\n\n    onUploadImage(req) {\n      let filetype = \"\";\n      if (req.file.type === \"image/png\") {\n        filetype = \"png\";\n      } else {\n        filetype = \"jpg\";\n      }\n\n      // 重命名要上传的文件\n      const filename = uuidv4() + \".\" + filetype;\n\n      const formdata = new FormData();\n\n      formdata.append(\"file\", req.file);\n\n      uploadImage(\n        filename,\n        formdata,\n        {\n          headers: { \"Content-Type\": \"multipart/form-data\" }\n        },\n        image => {\n          this.formData.productImageList.push(image);\n        }\n      );\n    },\n\n    // 验证文件合法性\n    beforeUpload(file) {\n      const isJPG = file.type === \"image/jpeg\" || file.type === \"image/png\";\n      const isLt2M = file.size / 1024 / 1024 < 5;\n\n      if (!isJPG) {\n        this.uploadImageError = \"Image type should be JPED or PNG\";\n      }\n\n      if (!isLt2M) {\n        this.uploadImageError = \"Image size should less than 5MB\";\n      }\n\n      console.log(this.uploadImageError);\n\n      return isJPG && isLt2M;\n    },\n\n    onUploadSuccess() {},\n\n    onImageRemove(target) {\n      let targetIndex = null;\n      this.formData.productImageList.forEach((item, index) => {\n        if (item.name === target.name) {\n          targetIndex = index;\n        }\n      });\n\n      if (targetIndex !== null) {\n        this.formData.productImageList.splice(targetIndex, 1);\n      }\n    }\n  },\n\n  components: {\n    \"ap-texteditor\": TextEditor\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.ap-dialog {\n  overflow-x: visible;\n  .dialog-inner {\n    max-height: 60vh;\n    overflow-x: visible;\n    overflow-y: auto;\n    padding: 0 20px;\n  }\n\n  .dialog-picture-upload {\n    width: 100%;\n    display: flex;\n    justify-content: flex-start;\n    margin: 10px 0;\n  }\n\n  .form-item {\n    width: 100%;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/Manage"}]}