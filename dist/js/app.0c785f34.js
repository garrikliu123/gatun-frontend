(function(t){function e(e){for(var o,s,n=e[0],c=e[1],l=e[2],d=0,p=[];d<n.length;d++)s=n[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,n=1;n<a.length;n++){var c=a[n];0!==r[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var o={},r={app:0},i=[];function s(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=o,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(a,o,function(e){return t[e]}.bind(null,o));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"08db":function(t,e,a){},"144f":function(t,e,a){},1462:function(t,e,a){},"153d":function(t,e,a){"use strict";var o=a("197d"),r=a.n(o);r.a},"155c":function(t,e,a){"use strict";var o=a("3ecc"),r=a.n(o);r.a},"16b6":function(t,e,a){},"197d":function(t,e,a){},"1a2f":function(t,e,a){},"1c00":function(t,e,a){"use strict";var o=a("5736"),r=a.n(o);r.a},"21ce":function(t,e,a){"use strict";var o=a("f208"),r=a.n(o);r.a},"255d":function(t,e,a){},2657:function(t,e,a){},2815:function(t,e,a){"use strict";var o=a("6129"),r=a.n(o);r.a},"28b8":function(t,e,a){},"2a78":function(t,e,a){"use strict";var o=a("970e"),r=a.n(o);r.a},"2c2a":function(t,e,a){"use strict";var o=a("8046"),r=a.n(o);r.a},"2f10":function(t,e,a){},3341:function(t,e,a){"use strict";var o=a("28b8"),r=a.n(o);r.a},"33a8":function(t,e,a){},"345b":function(t,e,a){"use strict";var o=a("c7c4"),r=a.n(o);r.a},"366d":function(t,e,a){},"3b1a":function(t,e,a){"use strict";var o=a("33a8"),r=a.n(o);r.a},"3bca":function(t,e,a){},"3dab":function(t,e,a){},"3ecc":function(t,e,a){},"43cd":function(t,e,a){"use strict";var o=a("3bca"),r=a.n(o);r.a},"486e":function(t,e,a){"use strict";var o=a("4b08"),r=a.n(o);r.a},"4b08":function(t,e,a){},"4f8b":function(t,e,a){},5343:function(t,e,a){t.exports=a.p+"img/header_logo.742bf4f8.png"},"535e":function(t,e,a){},"541b":function(t,e,a){"use strict";var o=a("afdc"),r=a.n(o);r.a},"56d7":function(t,e,a){"use strict";a.r(e);var o={};a.r(o),a.d(o,"setFullScreenLoading",(function(){return Kr})),a.d(o,"setUser",(function(){return Xr})),a.d(o,"setScreenWidth",(function(){return ti})),a.d(o,"setIsPhoneSize",(function(){return ei})),a.d(o,"setCart",(function(){return ai})),a.d(o,"addProudctToCart",(function(){return oi})),a.d(o,"deleteProudctFromCart",(function(){return ri})),a.d(o,"clearCart",(function(){return ii})),a.d(o,"logout",(function(){return si})),a.d(o,"getProductList",(function(){return ni})),a.d(o,"getOrderHistory",(function(){return ci})),a.d(o,"getArticleList",(function(){return li})),a.d(o,"getTopicList",(function(){return ui})),a.d(o,"getCategoryList",(function(){return di})),a.d(o,"getHomeSectionList",(function(){return pi})),a.d(o,"initSite",(function(){return mi}));var r={};a.r(r),a.d(r,"user",(function(){return fi})),a.d(r,"fullScreenLoading",(function(){return hi})),a.d(r,"productList",(function(){return gi})),a.d(r,"productListObj",(function(){return bi})),a.d(r,"categoryList",(function(){return vi})),a.d(r,"productCategoryList",(function(){return yi})),a.d(r,"articleList",(function(){return Ci})),a.d(r,"topicList",(function(){return Li})),a.d(r,"topicCategoryList",(function(){return wi})),a.d(r,"shoppingCart",(function(){return Oi})),a.d(r,"orderHistory",(function(){return Ti})),a.d(r,"screenWidth",(function(){return Di})),a.d(r,"isPhoneSize",(function(){return Si})),a.d(r,"homeSectionList",(function(){return _i}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("a026"),s=a("5c96"),n=a.n(s),c=a("4ccc"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("ap-page-container",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullScreenLoading,expression:"fullScreenLoading",modifiers:{fullscreen:!0,lock:!0}}],class:{is_phone:t.isPhoneSize}},[t.$route.meta.keepAlive?[a("keep-alive",[a("router-view")],1)]:[a("router-view")]],2)],1)},u=[],d=a("5530"),p=a("2f62"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.isPhoneSize?"ap-page-upper_phone":"ap-page-container"},[a("div",{staticClass:"ap-page-upper"},[a("ap-header",{staticClass:"ap-page-header"}),a("div",{staticClass:"ap-page-content"},[t._t("default")],2)],1)])},f=[],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-header"},[t.isPhoneSize?[a("div",{staticClass:"ap-title_phone"},[a("i",{staticClass:"ap-icon el-icon-menu",on:{click:t.toggleMenu}}),a("div",{staticClass:"ap-nav-logo__container"},[a("router-link",{attrs:{to:"/"}},[a("div",{staticClass:"logo-container"},[a("img",{staticClass:"logo-image",attrs:{src:t.logoImage,alt:"GATUN"}})])])],1),a("div",{staticClass:"ap-nav-icon__group"},[a("el-dropdown",{staticClass:"user"},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"ap-nav-icon el-icon-user-solid"})]),t.user?a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(e){return t.$router.push("account")}}},[t._v("My Account")]),a("el-dropdown-item",{nativeOn:{click:function(e){return t.onLogoutClick()}}},[t._v("Log Out")])],1):a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(e){return t.onUserClick("login")}}},[t._v("Log In")]),a("el-dropdown-item",{nativeOn:{click:function(e){return t.onUserClick("register")}}},[t._v("Register")])],1)],1),a("el-popover",{attrs:{placement:"bottom-end",width:t.isPhoneSize?t.screenWidth-20:500,trigger:"click"}},[a("ap-cart"),a("i",{staticClass:"ap-nav-icon el-icon-shopping-cart-2",attrs:{slot:"reference"},slot:"reference"})],1)],1)]),a("el-collapse-transition",[a("el-menu",{directives:[{name:"show",rawName:"v-show",value:t.showMenu,expression:"showMenu"}],staticClass:"ap-nav_phone",attrs:{"default-active":t.activeIndex},on:{select:t.handleNavSelect}},[a("el-autocomplete",{staticClass:"ap-nav-search",attrs:{placeholder:"Please enter keyword","fetch-suggestions":t.querySearch,"trigger-on-focus":!1},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.onSearchClick},slot:"append"})],1),t._l(t.navList,(function(e,o){return[!e.onlyManager||t.user&&"manager"==t.user.userType?a("el-menu-item",{key:o,attrs:{index:o.toString()}},[t._v(" "+t._s(e.title)+" ")]):t._e()]}))],2)],1)]:[a("el-menu",{staticClass:"ap-nav",attrs:{mode:"horizontal","default-active":t.activeIndex},on:{select:t.handleNavSelect}},[a("div",{staticClass:"ap-nav-logo__container"},[a("router-link",{attrs:{to:"/"}},[a("div",{staticClass:"logo-container"},[a("img",{staticClass:"logo-image",attrs:{src:t.logoImage,alt:"GATUN"}})])])],1),t._l(t.navList,(function(e,o){return[!e.onlyManager||t.user&&"manager"==t.user.userType?a("el-menu-item",{key:o,attrs:{index:o.toString()}},[t._v(" "+t._s(e.title)+" ")]):t._e()]})),a("el-autocomplete",{staticClass:"ap-nav-search",attrs:{placeholder:"Please enter keyword","fetch-suggestions":t.querySearch,"trigger-on-focus":!1},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.onSearchClick},slot:"append"})],1),a("div",{staticClass:"ap-nav-icon__group"},[a("el-dropdown",{staticClass:"user"},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"ap-nav-icon el-icon-user-solid"})]),t.user?a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(e){return t.$router.push("account")}}},[t._v("My Account")]),a("el-dropdown-item",{nativeOn:{click:function(e){return t.onLogoutClick()}}},[t._v("Log Out")])],1):a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(e){return t.onUserClick("login")}}},[t._v("Log In")]),a("el-dropdown-item",{nativeOn:{click:function(e){return t.onUserClick("register")}}},[t._v("Register")])],1)],1),a("el-popover",{attrs:{placement:"bottom-end",width:"500",trigger:"click"}},[a("ap-cart"),a("i",{staticClass:"ap-nav-icon el-icon-shopping-cart-2",attrs:{slot:"reference"},slot:"reference"})],1)],1)],2)],a("ap-login",{ref:"loginDialog",attrs:{mode:t.loginMode}})],2)},g=[],b=(a("4160"),a("c975"),a("ac1f"),a("841c"),a("9911"),a("159b"),a("5343")),v=a.n(b),y=[{title:"PRODUCTS",link:"/category/products"},{title:"PARAMETERS",link:"/category/parameters"},{title:"APPLICATIONS",link:"/category/applications"},{title:"MANAGE",link:"/manage",onlyManager:!0},{title:"CONTACT US",link:"/contact"},{title:"ABOUT US",link:"/about"}],C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"ap-dialog",attrs:{title:"login"==t.mode?"Log In":"Register",visible:t.dialogVisible,width:t.isPhoneSize?"100%":"1100px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"dialog-inner"},[a("el-form",{ref:"editLoginForm",attrs:{model:t.formData,rules:t.formRules}},["login"==t.mode?[a("el-form-item",{attrs:{label:"Email","label-width":t.formLabelWidth,prop:"userEmail"}},[a("el-input",{attrs:{placeholder:"Please enter email"},model:{value:t.formData.userEmail,callback:function(e){t.$set(t.formData,"userEmail",e)},expression:"formData.userEmail"}})],1),a("el-form-item",{attrs:{label:"Password","label-width":t.formLabelWidth,prop:"userPassword"}},[a("el-input",{attrs:{"show-password":"",placeholder:"Please enter password"},model:{value:t.formData.userPassword,callback:function(e){t.$set(t.formData,"userPassword",e)},expression:"formData.userPassword"}})],1)]:[a("el-form-item",{attrs:{label:"First Name","label-width":t.formLabelWidth,prop:"userFirstName"}},[a("el-input",{attrs:{placeholder:"Please enter first name"},model:{value:t.formData.userFirstName,callback:function(e){t.$set(t.formData,"userFirstName",e)},expression:"formData.userFirstName"}})],1),a("el-form-item",{attrs:{label:"Last Name","label-width":t.formLabelWidth,prop:"userLastName"}},[a("el-input",{attrs:{placeholder:"Please enter last name"},model:{value:t.formData.userLastName,callback:function(e){t.$set(t.formData,"userLastName",e)},expression:"formData.userLastName"}})],1),a("el-form-item",{attrs:{label:"Email","label-width":t.formLabelWidth,prop:"userEmail"}},[a("el-input",{attrs:{placeholder:"Please enter email"},model:{value:t.formData.userEmail,callback:function(e){t.$set(t.formData,"userEmail",e)},expression:"formData.userEmail"}})],1),a("el-form-item",{attrs:{label:"Password","label-width":t.formLabelWidth,prop:"userPassword"}},[a("el-input",{attrs:{"show-password":"",placeholder:"Please enter password"},model:{value:t.formData.userPassword,callback:function(e){t.$set(t.formData,"userPassword",e)},expression:"formData.userPassword"}})],1)]],2)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),"login"==t.mode?a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitClick}},[t._v("Log In")]):a("el-button",{attrs:{type:"primary"},on:{click:t.onRegisterClick}},[t._v("Register")])],1)])},L=[],w=a("ec26"),O=(a("d3b7"),a("bc3a")),T=a.n(O),D=null;T.a.interceptors.request.use((function(t){return D=s["Loading"].service({fullscreen:!0,lock:!0}),t}),(function(t){return Object(s["Message"])({message:"Request Error !!!",type:"error",duration:0}),Promise.reject(t)})),T.a.interceptors.response.use((function(t){return D&&D.close(),t.data&&!0!==t.data.success&&(console.log(t.data),Object(s["Message"])({showClose:!0,message:t.data.errMsg,type:"error"})),t.data}),(function(t){return Object(s["Message"])({message:"Response Error !!!",type:"error",duration:0}),Promise.reject(t)}));var S=T.a,_="/api/user/";function P(t){return S.post(_+"login",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function k(t){return S.post(_+"addUser",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function E(t){return S.post(_+"updateUser",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function I(t){return S.post(_+"deleteUser",JSON.stringify({userEmail:t}),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function N(){return S.get(_+"getUserList")}function j(t){return S.get(_+"getUserByEmail",{params:{userEmail:t}})}function x(t){return S.get(_+"getUserById",{params:{userId:t}})}var $={addUser:k,getUserList:N,updateUser:E,deleteUser:I,login:P,getUserByEmail:j,getUserById:x};a("466d");function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"valid double";return function(e,a,o){var r=/^([1-9][\d]{0,}|0)(\.\d{1,2})?$/;a=""+a,isNaN(a)||!r.test(a)?o(new Error(t)):o()}}function U(t,e,a){e.match(/^[a-zA-Z0-9^%&'!@#*()_+[{}:'"<>/,;=?$\x22]{5,16}$/)?a():a("Only contain number and letter, no less than 6 character")}function F(t,e,a){var o=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!e)return a(new Error("Email cannot be empty"));setTimeout((function(){o.test(e)?a():a(new Error("Please enter a valid email"))}),100)}function W(t,e,a){var o=/^[a-zA-Z]{0,50}$/;setTimeout((function(){if(!o.test(e))return a(new Error("Please enter a valid name"));a()}),100)}var M={props:{mode:{default:"login"}},data:function(){return{remember:!1,formData:{userFirstName:"",userLastName:"",userEmail:"",userPassword:""},dialogVisible:!1,formRules:{userFirstName:[{validator:W,trigger:"blur"}],userLastName:[{validator:W,trigger:"blur"}],userEmail:[{required:!0,message:"Please enter a valid email",trigger:"blur"},{validator:F,trigger:"blur"}],userPassword:[{required:!0,message:"Please enter a valid password",trigger:"blur"},{validator:U,trigger:"blur"}]},formLabelWidth:"100px"}},computed:Object(d["a"])({},Object(p["c"])(["isPhoneSize"])),methods:Object(d["a"])({onSubmitClick:function(){var t=this;this.$refs.editLoginForm.validate((function(e){e&&$.login(t.formData).then((function(e){t.dialogVisible=!1,e.success?(t.$message({type:"success",message:"Login Success",showClose:!0}),t.setUser(e.user),t.getOrderHistory(e.user.userId)):t.formData={userEmail:"",userPassword:""}}))}))},onRegisterClick:function(){var t=this;this.$refs.editLoginForm.validate((function(e){e&&(t.formData.userId=Object(w["a"])(),$.addUser(t.formData).then((function(e){t.dialogVisible=!1,e.success&&t.$message({type:"success",message:"Register Success",showClose:!0})})))}))}},Object(p["b"])(["setUser","getOrderHistory"]))},R=M,z=(a("ca74"),a("2877")),J=Object(z["a"])(R,C,L,!1,null,"269685d1",null),V=J.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-cart",class:{"ap-cart_phone":t.isPhoneSize}},[a("div",{staticClass:"item-count-text"},[a("span",[t._v(t._s(t.shoppingCart.length)+" Item(s) in Your Shopping Cart")]),a("div",{staticStyle:{color:"red"}},[t._v("FREE Shipping on orders over $99")])]),a("el-divider",{staticClass:"divider"}),a("div",[t._l(t.productList,(function(e,o){return a("div",{key:o,staticClass:"product-list"},[a("div",{staticClass:"product-item"},[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.image.url,fit:"contain"}}),a("div",{staticClass:"text-group"},[a("div",{staticClass:"text-link-wrap"},[a("el-link",{staticClass:"text-link",on:{click:function(a){return t.onProductTitleClick(e)}}},[t._v(t._s(e.productName))])],1),a("div",{staticClass:"select-group"},[a("el-input-number",{attrs:{size:"mini",min:1},model:{value:e.amount,callback:function(a){t.$set(e,"amount",a)},expression:"item.amount"}}),e.options.length>0?a("el-select",{staticClass:"option-select",attrs:{size:"mini"},model:{value:e.option,callback:function(a){t.$set(e,"option",a)},expression:"item.option"}},t._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e()],1)]),a("div",{staticClass:"right-group"},[e.productPrice*e.amount>=1e3?a("div",{directives:[{name:"format",rawName:"v-format",value:"$#,##0.00",expression:"'$#,##0.00'"}],staticClass:"price"},[t._v(" "+t._s(e.productPrice*e.amount)+" ")]):a("div",{directives:[{name:"format",rawName:"v-format",value:"$##0.00",expression:"'$##0.00'"}],staticClass:"price"},[t._v(" "+t._s(e.productPrice*e.amount)+" ")])]),a("i",{staticClass:"delete-icon el-icon-error",on:{click:function(a){return t.onDeleteClick(e.productId)}}})],1),a("el-divider",{staticClass:"divider"})],1)})),t.productList.length>0?a("div",{staticClass:"footer-btn-group"},[a("span",{staticClass:"total-price"},[t._v(" Total: "),t.totalPrice>=1e3?a("span",{directives:[{name:"format",rawName:"v-format",value:"$#,##0.00",expression:"'$#,##0.00'"}]},[t._v(" "+t._s(t.totalPrice)+" ")]):a("span",{directives:[{name:"format",rawName:"v-format",value:"$##0.00",expression:"'$##0.00'"}]},[t._v(" "+t._s(t.totalPrice)+" ")])]),a("div",{staticClass:"button-group"},[a("el-button",{attrs:{size:"small"},on:{click:t.onSaveCartClick}},[t._v("SAVE EDIT")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onCheckout}},[t._v("CHECKOUT")])],1)]):t._e()],2)],1)},q=[],H=(a("c740"),a("d81d"),a("a434"),a("96cf"),a("1da1")),G=a("bf8a"),Y="/checkout/";function Z(t){return S.post(Y+"createSession",t,{header:{"Content-type":"application/x-www-form-urlencoded;charset=utf-8"}})}function Q(t){return S.get(Y+"checkSession",{params:{sessionId:t}})}var K={createSession:Z,checkSession:Q},X=a("2ef0"),tt=a.n(X),et={data:function(){return{productList:[]}},computed:Object(d["a"])({matchedProduct:function(){var t=this,e=[];return this.shoppingCart.forEach((function(a){var o=t.productListObj[a.productId],r=JSON.parse(o.productImages),i=JSON.parse(o.productOptions),s=[];i&&i.forEach((function(t){s.push({label:t,value:t})})),e.push({productId:a.productId,productName:o.productName,productPrice:o.productPrice,image:r[0],amount:a.amount,option:a.option,options:s})})),e},totalPrice:function(){var t=0;return this.productList.forEach((function(e){t+=e.productPrice*e.amount})),t}},Object(p["c"])(["productListObj","shoppingCart","user","isPhoneSize"])),watch:{matchedProduct:{immediate:!0,handler:function(t){this.productList=tt.a.cloneDeep(t)}}},methods:Object(d["a"])({onProductTitleClick:function(t){this.$router.push("/product/"+t.productId)},onDeleteClick:function(t){var e=this.productList.findIndex((function(e){return e.productId===t}));this.productList.splice(e,1)},onCheckout:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){var a,o,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.user){e.next=3;break}return t.$message({type:"error",message:"Please log in first!",showClose:!0}),e.abrupt("return");case 3:return t.onSaveCartClick(),a=t.productList.map((function(t){return{name:t.productName,description:"Option: "+t.option,images:[t.image.url],amount:100*t.productPrice,currency:"cad",quantity:t.amount}})),e.prev=5,e.next=8,K.createSession({items:a,customerEmail:t.user.userEmail,userId:t.user.userId});case 8:return o=e.sent,r=o.session,e.next=12,Object(G["a"])("pk_test_Q3mpLZeQr5ENsPzD3GWfFsDA00PblH3asT");case 12:return i=e.sent,e.next=15,i.redirectToCheckout({sessionId:r.id});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](5),t.$message({type:"error",message:e.t0,showClose:!0});case 20:case"end":return e.stop()}}),e,null,[[5,17]])})))()},onSaveCartClick:function(){this.setCart(this.productList),this.$message({type:"success",message:"Save Edit Success",showClose:!0})}},Object(p["b"])(["setCart"]))},at=et,ot=(a("21ce"),Object(z["a"])(at,B,q,!1,null,null,null)),rt=ot.exports,it={data:function(){return{loginMode:"login",search:"",navList:y,activeIndex:"",showMenu:!1,logoImage:v.a}},computed:Object(d["a"])({},Object(p["c"])(["productList","user","isPhoneSize","screenWidth"])),watch:{"$route.fullPath":{immediate:!0,handler:function(t){"/manage"==t?this.user&&"manager"===this.user.userType||this.$router.push("/"):"/account"==t&&(this.user||this.$router.push("/"))}}},methods:Object(d["a"])({handleNavSelect:function(t){var e=this.navList[t];this.$router.push(e.link),this.isPhoneSize&&(this.showMenu=!1)},querySearch:function(t,e){var a=[];this.productList.forEach((function(e){var o=e.productName.toLowerCase().indexOf(t.toLowerCase());o>=0&&a.push({value:e.productName,id:e.productId,priority:o})})),a.sort((function(t,e){return t.priority<e.priority?-1:t.priority==e.priority?0:1})),e(a)},onSearchClick:function(){this.search?this.$router.push("/search/"+this.search):this.$message({message:"Please enter some keyword!",type:"warning",showClose:!0})},onUserClick:function(t){this.loginMode=t,this.$refs.loginDialog.dialogVisible=!0},onLogoutClick:function(){this.logout(),this.$router.push("home")},toggleMenu:function(){this.showMenu=!this.showMenu}},Object(p["b"])(["logout"])),components:{"ap-login":V,"ap-cart":rt}},st=it,nt=(a("2c2a"),Object(z["a"])(st,h,g,!1,null,null,null)),ct=nt.exports,lt={computed:Object(d["a"])({},Object(p["c"])(["isPhoneSize"])),components:{"ap-header":ct}},ut=lt,dt=(a("2815"),Object(z["a"])(ut,m,f,!1,null,"6af37ee7",null)),pt=dt.exports,mt={name:"app",data:function(){return{}},computed:Object(d["a"])({},Object(p["c"])(["fullScreenLoading","isPhoneSize"])),mounted:function(){this.initSite()},methods:Object(d["a"])({},Object(p["b"])(["initSite"])),components:{"ap-page-container":pt}},ft=mt,ht=(a("7c55"),Object(z["a"])(ft,l,u,!1,null,null,null)),gt=ht.exports,bt=(a("caad"),a("2532"),a("8c4f")),vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-home-page"},[a("el-carousel",{staticClass:"ap-carousel",class:{"ap-carousel_phone":t.isPhoneSize},attrs:{trigger:"click",height:t.isPhoneSize?"160px":"500px"}},t._l(t.carouselList,(function(e,o){return a("el-carousel-item",{key:o,nativeOn:{click:function(a){return t.onCarouselClick(e)}}},[a("div",{staticClass:"carousel_img_container"},[a("img",{staticClass:"carousel_img",attrs:{src:e.sectionImage,alt:""}})])])})),1),a("ap-recommend-topic-list",{staticClass:"ap-recommend-topic-list",attrs:{recommendTopicList:t.billboardList},on:{onBillboardClick:t.onBillboardClick}}),a("el-divider",{staticClass:"divider"},[a("i",{staticClass:"el-icon-shopping-bag-1"})]),a("ap-recommend-product-group",{staticClass:"ap-recommend-product-group",attrs:{productGroup:t.productSection}})],1)},yt=[],Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-preference-list"},t._l(t.recommendTopicList,(function(e,o){return a("ap-billboard",{key:o,staticClass:"ap-billboard",attrs:{imgUrl:e.sectionImage},nativeOn:{click:function(a){return t.$emit("onBillboardClick",e)}}})})),1)},Lt=[],wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"ap-billboard",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:t.imgUrl,alt:"img"}})])},Ot=[],Tt={props:{imgUrl:{type:String,required:!0}}},Dt=Tt,St=(a("153d"),Object(z["a"])(Dt,wt,Ot,!1,null,"5b97d90b",null)),_t=St.exports,Pt={props:{recommendTopicList:{type:Array,default:function(){return[]}}},components:{"ap-billboard":_t}},kt=Pt,Et=(a("dc7b"),Object(z["a"])(kt,Ct,Lt,!1,null,"ee13b2c0",null)),It=Et.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.productGroup,(function(t,e){return a("ap-product-list",{key:e,staticClass:"ap-product-list",attrs:{title:t.sectionName,productList:t.list}})})),1)},jt=[],xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-list-container"},[t.title?a("h1",{staticClass:"product-list-title"},[t._v(t._s(t.title))]):t._e(),a("div",{staticClass:"product-list"},t._l(t.productList,(function(e,o){return a("div",{key:o,staticClass:"product-show-container"},[a("ap-product-show",{staticClass:"product-show",attrs:{title:e.productName,imgUrl:e.productImageList&&e.productImageList[0]?e.productImageList[0].url:"",price:e.productPrice,shadow:"hover"},on:{productClick:function(a){return t.onProductClick(e.productId)},addCartClick:function(a){return t.onAddCartClick(e)}}})],1)})),0)])},$t=[],At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"ap-product-card",attrs:{"body-style":{padding:"0px"},shadow:t.shadow},nativeOn:{click:function(e){return t.$emit("productClick")}}},[a("div",{staticClass:"product-img-container"},[a("div",{staticClass:"image-cover"}),a("ap-image",{staticClass:"product-img",attrs:{imgUrl:t.imgUrl}})],1),a("div",{staticClass:"divider-container"},[a("el-divider",{attrs:{"content-position":"right"}},[a("i",{staticClass:"el-icon-shopping-bag-2"})])],1),a("p",{staticClass:"product-title"},[t._v(t._s(t.title))]),t.price>=1e3?a("div",{directives:[{name:"format",rawName:"v-format",value:"CAD $#,##0.00",expression:"'CAD $#,##0.00'"}],staticClass:"product-price"},[t._v(" "+t._s(t.price)+" ")]):a("div",{directives:[{name:"format",rawName:"v-format",value:"CAD $##0.00",expression:"'CAD $##0.00'"}],staticClass:"product-price"},[t._v(" "+t._s(t.price)+" ")]),a("el-button",{staticClass:"product-add-button",attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.$emit("addCartClick")}}},[t._v("ADD TO CART")])],1)},Ut=[],Ft=(a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-image",{staticClass:"ap-image",attrs:{src:t.imgUrl}},[a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[a("i",{staticClass:"ap-icon el-icon-loading"})]),a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"ap-icon el-icon-picture-outline"})])])}),Wt=[],Mt={props:{imgUrl:{type:String,default:""}}},Rt=Mt,zt=(a("d9df"),Object(z["a"])(Rt,Ft,Wt,!1,null,"23ddfe8c",null)),Jt=zt.exports,Vt={props:{shadow:{type:String,default:"always"},title:{type:String,default:""},imgUrl:{tyle:String,default:""},price:{type:[String,Number],default:""}},components:{"ap-image":Jt}},Bt=Vt,qt=(a("6971"),Object(z["a"])(Bt,At,Ut,!1,null,"5f6df232",null)),Ht=qt.exports,Gt={props:{title:{type:String,default:""},productList:{type:Array,default:function(){return[]}}},methods:Object(d["a"])({onProductClick:function(t){this.$router.push("/product/"+t)},onAddCartClick:function(t){var e=JSON.parse(t.productOptions),a=t.productId;this.addProudctToCart({productId:a,amount:1,option:e&&e.length>0?e[0]:""}),this.$message({type:"success",message:"Add Success!",showClose:!0})}},Object(p["b"])(["addProudctToCart"])),components:{"ap-product-show":Ht}},Yt=Gt,Zt=(a("de89"),Object(z["a"])(Yt,xt,$t,!1,null,null,null)),Qt=Zt.exports,Kt={props:{productGroup:{type:Array,default:function(){return[]}}},components:{"ap-product-list":Qt}},Xt=Kt,te=(a("94c3"),Object(z["a"])(Xt,Nt,jt,!1,null,"9faadc0c",null)),ee=te.exports,ae={data:function(){return{}},computed:Object(d["a"])({carouselList:function(){var t=[];return this.homeSectionList.forEach((function(e){"Carousel"==e.sectionType&&t.push(e)})),t},billboardList:function(){var t=[];return this.homeSectionList.forEach((function(e){"Billboard"==e.sectionType&&t.push(e)})),t},productSection:function(){var t=this,e=[];return this.homeSectionList.forEach((function(t){"ProductSection"==t.sectionType&&e.push(t)})),e.forEach((function(e){var a=[],o=e.productList;o.forEach((function(e){if(t.productListObj[e]){var o=t.productListObj[e];o.productImageList=JSON.parse(o.productImages),a.push(o)}})),e.list=a})),e}},Object(p["c"])(["homeSectionList","productList","productListObj","isPhoneSize"])),methods:{onCarouselClick:function(t){1==t.sectionContentType?this.$router.push("/product/"+t.product):(2==t.sectionContentType||3==t.sectionContentType)&&this.$router.push("/section/"+t.sectionId)},onBillboardClick:function(t){1==t.sectionContentType?this.$router.push("/product/"+t.product):(2==t.sectionContentType||3==t.sectionContentType)&&this.$router.push("/section/"+t.sectionId)}},components:{"ap-recommend-topic-list":It,"ap-recommend-product-group":ee}},oe=ae,re=(a("6911"),Object(z["a"])(oe,vt,yt,!1,null,"d7b2f7dc",null)),ie=re.exports,se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-manage-page"},[a("el-tabs",{staticClass:"header-tabs",model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{staticClass:"manage-panel",attrs:{label:"Manage Product",name:"1"}},[a("ap-manage-product")],1),a("el-tab-pane",{staticClass:"manage-panel",attrs:{label:"Manage Category",name:"2"}},[a("ap-manage-category")],1),a("el-tab-pane",{staticClass:"manage-panel",attrs:{label:"Manage Site Page",name:"3"}},[a("ap-manage-site")],1)],1)],1)},ne=[],ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-manage-product"},[a("div",{staticClass:"add-btn-container"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleProductAdd}},[t._v("ADD PRODUCT")])],1),a("el-table",{staticClass:"product-table",staticStyle:{width:"100%"},attrs:{"max-height":"650",data:t.productList.filter((function(e){return!t.search||e.productName.toLowerCase().includes(t.search.toLowerCase())}))}},[t._l(t.productTableConfig.rows,(function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.key,label:t.label,width:t.width}})})),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{placeholder:"Please enter keyword"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("span",{staticStyle:{display:"none"}},[t._v(t._s(e.$index))])]}},{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.handleProductEdit(e.row)}}},[t._v(" Edit ")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.handleProductDelete(e.row)}}},[t._v(" Delete ")])]}}])})],2),a("ap-addproduct-dialog",{ref:"addProductDialog",attrs:{mode:t.mode,targetProduct:t.targetProduct}})],1)},le=[],ue={rows:[{key:"productName",label:"NAME"},{key:"productPrice",label:"PRICE (CAD)",width:"200"}]},de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"ap-dialog",attrs:{title:"Edit Product",visible:t.dialogVisible,width:"1100px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"editProductForm",attrs:{model:t.formData,rules:t.formRules}},[a("el-form-item",{attrs:{label:"Name","label-width":t.formLabelWidth,prop:"productName"}},[a("el-input",{model:{value:t.formData.productName,callback:function(e){t.$set(t.formData,"productName",e)},expression:"formData.productName"}})],1),a("el-form-item",{attrs:{label:"Price","label-width":t.formLabelWidth,prop:"productPrice"}},[a("el-input",{model:{value:t.formData.productPrice,callback:function(e){t.$set(t.formData,"productPrice",e)},expression:"formData.productPrice"}})],1),a("el-form-item",{attrs:{label:"Parameter","label-width":t.formLabelWidth,prop:"productParameter"}},[a("el-select",{staticClass:"form-item",attrs:{filterable:"",multiple:""},model:{value:t.formData.productParameter,callback:function(e){t.$set(t.formData,"productParameter",e)},expression:"formData.productParameter"}},t._l(t.categoryListByParamter,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"Product","label-width":t.formLabelWidth,prop:"productCategory"}},[a("el-select",{staticClass:"form-item",attrs:{filterable:"",multiple:""},model:{value:t.formData.productCategory,callback:function(e){t.$set(t.formData,"productCategory",e)},expression:"formData.productCategory"}},t._l(t.categoryListByProduct,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"Application","label-width":t.formLabelWidth,prop:"productApplication"}},[a("el-select",{staticClass:"form-item",attrs:{filterable:"",multiple:""},model:{value:t.formData.productApplication,callback:function(e){t.$set(t.formData,"productApplication",e)},expression:"formData.productApplication"}},t._l(t.categoryListByApplication,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-upload",{staticClass:"dialog-picture-upload",attrs:{action:"","http-request":t.onUploadImage,"before-upload":t.beforeUploadImage,"on-success":t.onUploadSuccess,"on-remove":t.onImageRemove,"file-list":t.formData.productImageList,"list-type":"picture-card"}},[a("i",{staticClass:"el-icon-plus"})]),a("el-tabs",{staticClass:"dialog-tabs",model:{value:t.activeTabName,callback:function(e){t.activeTabName=e},expression:"activeTabName"}},[a("el-tab-pane",{attrs:{label:"Description",name:"1"}},[a("ap-texteditor",{model:{value:t.formData.productDesc,callback:function(e){t.$set(t.formData,"productDesc",e)},expression:"formData.productDesc"}})],1),a("el-tab-pane",{attrs:{label:"Feature",name:"2"}},[a("ap-texteditor",{model:{value:t.formData.productFeatures,callback:function(e){t.$set(t.formData,"productFeatures",e)},expression:"formData.productFeatures"}})],1),a("el-tab-pane",{attrs:{label:"Specs",name:"3"}},[a("ap-texteditor",{model:{value:t.formData.productSpecs,callback:function(e){t.$set(t.formData,"productSpecs",e)},expression:"formData.productSpecs"}})],1),a("el-tab-pane",{attrs:{label:"Video",name:"4"}},[a("ap-texteditor",{model:{value:t.formData.productVideo,callback:function(e){t.$set(t.formData,"productVideo",e)},expression:"formData.productVideo"}})],1),a("el-tab-pane",{attrs:{label:"Files",name:"5"}},[a("el-upload",{attrs:{multiple:"",action:"","http-request":t.onUploadFile,"before-upload":t.beforeUploadFile,"before-remove":t.beforeFileRemove,"on-remove":t.onFileRemove,"file-list":t.formData.productFileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("Upload File")])],1)],1),a("el-tab-pane",{attrs:{label:"Warrant",name:"7"}},[a("ap-texteditor",{model:{value:t.formData.productWarranty,callback:function(e){t.$set(t.formData,"productWarranty",e)},expression:"formData.productWarranty"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitClick}},[t._v("Submit")])],1)],1)},pe=[];a("b0c0"),a("1276");function me(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,r="https://storage.googleapis.com/apera-frontend.appspot.com/images/",i=t.split(".").pop().toLowerCase(),s=r+Object(w["a"])()+"."+i;return S.post(s,e,a).then((function(){o({name:t,url:s})})).catch((function(t){console.log(t)}))}var fe={MODE:{NEW:"NEW",EDIT:"EDIT"}},he="/api/product/";function ge(t){return S.post(he+"addProduct",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function be(t){return S.post(he+"updateProduct",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function ve(t){return S.post(he+"deleteProduct",JSON.stringify({productId:t}),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function ye(){return S.get(he+"getProductList")}var Ce={addProduct:ge,getProductList:ye,deleteProduct:ve,updateProduct:be},Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tiptap",{attrs:{readonly:t.readonly,content:t.value,extensions:t.extensions},on:{onUpdate:t.onEditorUpdate}})},we=[],Oe={props:{value:{type:String,default:""},readonly:{type:Boolean,default:!1},extensions:{type:Array,default:function(){return[new c["d"],new c["x"],new c["q"],new c["h"]({level:4}),new c["b"]({bubble:!0}),new c["B"]({bubble:!0}),new c["m"]({bubble:!0}),new c["s"]({bubble:!0}),new c["f"]({bubble:!0}),new c["z"]({bubble:!0}),new c["A"]({bubble:!0}),new c["j"],new c["n"],new c["a"],new c["o"],new c["c"]({bubble:!0}),new c["p"]({bubble:!0}),new c["y"]({bubble:!0}),new c["l"],new c["k"],new c["t"]({resizable:!0}),new c["v"],new c["u"],new c["w"],new c["r"],new c["g"],new c["i"]]}}},data:function(){return{}},methods:{onEditorUpdate:function(t){this.$emit("input",t)}}},Te=Oe,De=(a("776a"),Object(z["a"])(Te,Le,we,!1,null,null,null)),Se=De.exports,_e={parameterList:[{label:"pH",value:"pH"},{label:"TDS",value:"TDS"},{label:"ORP",value:"ORP"},{label:"SALINITY",value:"SALINITY"},{label:"TURBIDITY",value:"TURBIDITY"},{label:"FLUORIDE",value:"FLUORIDE"}]},Pe={props:{mode:{required:!0},targetProduct:{type:Object,default:function(){return null}}},data:function(){return{testFormData:_e,activeTabName:"1",dialogVisible:!1,formData:{productName:"",productDesc:"",productSpecs:"",productWarranty:"",productVideo:"",productFeatures:"",productPrice:"",productCategory:[],productFileList:[],productParts:[],productApplication:[],productParameter:[],productOptionList:[],productImageList:[]},formRules:{productName:[{required:!0,message:"Please enter a valid name",trigger:"blur"}],productPrice:[{required:!0,message:"Please enter a valid price",trigger:"blur"},{validator:A("Please enter a valid number with two decimal places"),trigger:"blur"}]},formLabelWidth:"100px"}},computed:Object(d["a"])({categoryListByProduct:function(){var t=[];return this.categoryList.forEach((function(e){"Product"==e.categoryType&&t.push({label:e.categoryName,value:e.categoryId})})),t},categoryListByApplication:function(){var t=[];return this.categoryList.forEach((function(e){"Applications"==e.categoryType&&t.push({label:e.categoryName,value:e.categoryId})})),t},categoryListByParamter:function(){var t=[];return this.categoryList.forEach((function(e){"Parameters"==e.categoryType&&t.push({label:e.categoryName,value:e.categoryId})})),t}},Object(p["c"])(["categoryList"])),watch:{targetProduct:function(t){t&&Object.assign(this.formData,t)}},methods:Object(d["a"])({onSubmitClick:function(){var t=this;this.$refs.editProductForm.validate((function(e){if(e)if(t.formData.productImages=JSON.stringify(t.formData.productImageList),t.formData.productOptions=JSON.stringify(t.formData.productOptionList),t.formData.productFiles=JSON.stringify(t.formData.productFileList),t.mode===fe.MODE.NEW){var a=Object(w["a"])();t.formData.productId=a,Ce.addProduct(t.formData).then((function(e){t.dialogVisible=!1,e.success&&t.$message({type:"success",message:"Add Product Success",showClose:!0})}))}else t.mode===fe.MODE.EDIT&&Ce.updateProduct(t.formData).then((function(e){t.dialogVisible=!1,e.success&&t.$message({type:"success",message:"Update Product Success",showClose:!0})}))}))},onUploadFile:function(t){var e=this,a=t.file.name,o=new FormData;o.append("file",t.file),me(a,o,{headers:{"Content-Type":"multipart/form-data"}},(function(t){e.formData.productFileList.push(t)}))},onUploadImage:function(t){var e=this,a=t.file.name,o=new FormData;o.append("file",t.file),me(a,o,{headers:{"Content-Type":"multipart/form-data"}},(function(t){e.formData.productImageList.push(t)}))},beforeUploadImage:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,a=t.size/1024/1024<5;return e||this.$message.error("Image type should be JPED or PNG"),a||this.$message.error("Image size should less than 5MB"),e&&a},beforeUploadFile:function(t){var e=t.size/1024/1024<10;return e||this.$message.error("File size should less than 10MB"),e},onUploadSuccess:function(){},onImageRemove:function(t){var e=null;this.formData.productImageList.forEach((function(a,o){a.name===t.name&&(e=o)})),null!==e&&this.formData.productImageList.splice(e,1)},onFileRemove:function(t){var e=null;this.formData.productFileList.forEach((function(a,o){a.name===t.name&&(e=o)})),null!==e&&this.formData.productFileList.splice(e,1)},beforeFileRemove:function(t){return this.$confirm("Do you want to delete ".concat(t.name,"ï¼Ÿ"))}},Object(p["b"])(["getProductList"])),components:{"ap-texteditor":Se}},ke=Pe,Ee=(a("541b"),Object(z["a"])(ke,de,pe,!1,null,null,null)),Ie=Ee.exports,Ne={data:function(){return{mode:fe.MODE.NEW,search:"",productTableConfig:ue,targetProduct:null}},computed:Object(d["a"])({},Object(p["c"])(["productList","productCategoryList"])),methods:Object(d["a"])({handleProductAdd:function(){this.mode=fe.MODE.NEW,this.$refs.addProductDialog.dialogVisible=!0,this.targetProduct={productName:"",productDesc:"",productSpecs:"",productWarranty:"",productVideo:"",productFeatures:"",productPrice:"",productCategory:[],productApplication:[],productParameter:[],productImageList:[],productFileList:[],productOptionList:[]}},handleProductEdit:function(t){this.mode=fe.MODE.EDIT,this.$refs.addProductDialog.dialogVisible=!0,t.productImageList=JSON.parse(t.productImages),t.productFileList=JSON.parse(t.productFiles),t.productOptionList=JSON.parse(t.productOptions),t.productCategory=[],t.productApplication=[],t.productParameter=[],this.productCategoryList.forEach((function(e){t.productId==e.productId&&"Product"==e.categoryType?t.productCategory.push(e.categoryId):t.productId==e.productId&&"Applications"==e.categoryType?t.productApplication.push(e.categoryId):t.productId==e.productId&&"Parameters"==e.categoryType&&t.productParameter.push(e.categoryId)})),this.targetProduct=t},handleProductDelete:function(t){var e=this,a=t.productId,o=t.productName;this.$confirm('Do you want to delete "'.concat(o,'"? '),"Delete Action",{distinguishCancelAndClose:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((function(){Ce.deleteProduct(a).then((function(){e.getProductList(),e.$message({type:"success",message:"Delete Success",showClose:!0})}))}))}},Object(p["b"])(["getProductList"])),components:{"ap-addproduct-dialog":Ie}},je=Ne,xe=(a("3b1a"),Object(z["a"])(je,ce,le,!1,null,"1594caf4",null)),$e=xe.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-manage-product"},[a("div",{staticClass:"add-btn-container"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleCategoryAdd}},[t._v("ADD CATEGORY")])],1),a("el-table",{staticClass:"product-table",staticStyle:{width:"100%"},attrs:{"max-height":"650",data:t.categoryList.filter((function(e){return(!t.search||e.categoryName.toLowerCase().includes(t.search.toLowerCase()))&&e.categoryType===t.categoryType}))}},[t._l(t.categoryTableConfig.rows,(function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.key,label:t.label,width:t.width}})})),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("div",{staticClass:"header-control"},[a("el-select",{staticClass:"ap-select",attrs:{placeholder:"Select the type"},model:{value:t.categoryType,callback:function(e){t.categoryType=e},expression:"categoryType"}},t._l(t.categoryTableConfig.typeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-input",{attrs:{placeholder:"Please enter keyword"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("span",{staticStyle:{display:"none"}},[t._v(t._s(e.$index))])],1)]}},{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.handleCategoryEdit(e.row)}}},[t._v(" Edit ")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.handleCateroyDelete(e.row)}}},[t._v(" Delete ")])]}}])})],2),a("ap-addcategory-dialog",{ref:"addCategoryDialog",attrs:{mode:t.mode,targetCategory:t.targetCategory}})],1)},Ue=[],Fe="/api/category/";function We(t){return S.post(Fe+"addCategory",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function Me(t){return S.post(Fe+"updateCategory",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function Re(t){return S.post(Fe+"deleteCategory",JSON.stringify({categoryId:t}),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function ze(){return S.get(Fe+"getCategoryList")}var Je={addCategory:We,getCategoryList:ze,updateCategory:Me,deleteCategory:Re},Ve={MODE:{NEW:"NEW",EDIT:"EDIT"}},Be={rows:[{key:"categoryName",label:"NAME"}],typeOptions:[{label:"Product",value:"Product"},{label:"Parameters",value:"Parameters"},{label:"Applications",value:"Applications"}]},qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"ap-dialog",attrs:{title:"Edit Category",visible:t.dialogVisible,width:"1100px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"dialog-inner"},[a("el-form",{ref:"editCategoryForm",attrs:{model:t.formData,rules:t.formRules}},[a("el-form-item",{attrs:{label:"Name","label-width":t.formLabelWidth,prop:"categoryName"}},[a("el-input",{model:{value:t.formData.categoryName,callback:function(e){t.$set(t.formData,"categoryName",e)},expression:"formData.categoryName"}})],1),a("el-form-item",{attrs:{label:"Type","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"form-item",attrs:{placeholder:"Select the type"},model:{value:t.formData.categoryType,callback:function(e){t.$set(t.formData,"categoryType",e)},expression:"formData.categoryType"}},t._l(t.categoryTableConfig.typeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitClick}},[t._v("Submit")])],1)])},He=[],Ge={props:{mode:{required:!0},targetCategory:{type:Object,default:function(){return null}}},data:function(){return{categoryTableConfig:Be,dialogVisible:!1,formData:{categoryName:"",categoryType:Be.typeOptions[0].value},formRules:{categoryName:[{required:!0,message:"Please enter a valid name",trigger:"blur"}]},formLabelWidth:"100px"}},watch:{targetCategory:function(t){t&&Object.assign(this.formData,t)}},methods:Object(d["a"])({onSubmitClick:function(){var t=this;this.$refs.editCategoryForm.validate((function(e){if(e)if(t.mode===Ve.MODE.NEW){var a=Object(w["a"])();t.formData.categoryId=a,Je.addCategory(t.formData).then((function(e){t.dialogVisible=!1,t.getCategoryList(),e.success&&t.$message({type:"success",message:"Add Category Success"})}))}else t.mode===Ve.MODE.EDIT&&Je.updateCategory(t.formData).then((function(e){t.dialogVisible=!1,t.getCategoryList(),e.success&&t.$message({type:"success",message:"Update Category Success"})}))}))}},Object(p["b"])(["getCategoryList"]))},Ye=Ge,Ze=(a("1c00"),Object(z["a"])(Ye,qe,He,!1,null,"9cc40dd2",null)),Qe=Ze.exports,Ke={data:function(){return{mode:Ve.MODE.NEW,search:"",categoryTableConfig:Be,categoryType:Be.typeOptions[0].value,targetCategory:null}},computed:Object(d["a"])({},Object(p["c"])(["categoryList"])),methods:Object(d["a"])({handleCategoryAdd:function(){this.mode=Ve.MODE.NEW,this.$refs.addCategoryDialog.dialogVisible=!0,this.targetCategory={categoryName:"",categoryType:Be.typeOptions[0].value}},handleCategoryEdit:function(t){this.mode=Ve.MODE.EDIT,this.$refs.addCategoryDialog.dialogVisible=!0,this.targetCategory=t},handleCateroyDelete:function(t){var e=this,a=t.categoryId,o=t.categoryName;this.$confirm('Do you want to delete "'.concat(o,'"? '),"Delete Action",{distinguishCancelAndClose:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((function(){Je.deleteCategory(a).then((function(){e.getCategoryList(),e.$message({type:"success",message:"Delete Success",showClose:!0})}))}))}},Object(p["b"])(["getCategoryList"])),components:{"ap-addcategory-dialog":Qe}},Xe=Ke,ta=(a("f60a"),Object(z["a"])(Xe,Ae,Ue,!1,null,"05ca44bc",null)),ea=ta.exports,aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-manage-site"},[a("el-tabs",{attrs:{"tab-position":"left"}},[a("el-tab-pane",{attrs:{label:"HOME"}},[a("ap-home-edit-tab")],1),a("el-tab-pane",{attrs:{label:"CATEGORY"}},[a("ap-topic-edit-tab")],1),a("el-tab-pane",{attrs:{label:"CONTACT US"}},[a("ap-article-edit-tab",{attrs:{title:"Contact Us"}})],1),a("el-tab-pane",{attrs:{label:"ABOUT US"}},[a("ap-article-edit-tab",{attrs:{title:"About Us"}})],1)],1)],1)},oa=[],ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-article-edit-tab"},[a("div",{staticClass:"save-btn-container"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleArticleSave}},[t._v("SAVE")])],1),a("ap-texteditor",{model:{value:t.article.articleContent,callback:function(e){t.$set(t.article,"articleContent",e)},expression:"article.articleContent"}})],1)},ia=[],sa=(a("7db0"),"/api/article/");function na(t){return S.post(sa+"addArticle",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function ca(t){return S.post(sa+"updateArticle",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function la(t){return S.post(sa+"deleteArticle",JSON.stringify({articleId:t}),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function ua(){return S.get(sa+"getArticleList")}var da={addArticle:na,getArticleList:ua,updateArticle:ca,deleteArticle:la},pa={props:{title:{required:!0,default:""}},data:function(){return{article:{articleId:"",articleContent:"",articleName:""}}},watch:{articleList:{immediate:!0,handler:function(t){var e=this,a=null;Array.isArray(t)&&(a=t.find((function(t){return t.articleName.toLowerCase()===e.title.toLowerCase()}))),a&&Object.assign(this.article,a)}}},computed:Object(d["a"])({},Object(p["c"])(["articleList"])),methods:Object(d["a"])({handleArticleSave:function(){var t=this,e=this.article;if(""===e.articleId){var a=Object(w["a"])();e.articleId=a,e.articleName=this.title,da.addArticle(e).then((function(e){e.success&&t.$message({showClose:!0,message:"Create Article Success!",type:"success"}),t.getArticleList()}))}else""!==this.article.articleId&&da.updateArticle(e).then((function(e){e.success&&t.$message({showClose:!0,message:"Save Article Success!",type:"success"}),t.getArticleList()}))}},Object(p["b"])(["getArticleList"])),components:{"ap-texteditor":Se}},ma=pa,fa=(a("63dd"),Object(z["a"])(ma,ra,ia,!1,null,"4def5d5c",null)),ha=fa.exports,ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-topic-edit-tab"},[a("div",{staticClass:"add-btn-container"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleTopicAdd}},[t._v("ADD TOPIC")])],1),a("el-table",{staticClass:"topic-table",staticStyle:{width:"100%"},attrs:{"max-height":"650",data:t.topicList.filter((function(e){return(!t.search||e.topicName.toLowerCase().includes(t.search.toLowerCase()))&&e.topicType===t.topicType}))}},[t._l(t.topicTableConfig.rows,(function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.key,label:t.label,width:t.width}})})),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("div",{staticClass:"header-control"},[a("el-select",{staticClass:"ap-select",attrs:{placeholder:"Select the type"},model:{value:t.topicType,callback:function(e){t.topicType=e},expression:"topicType"}},t._l(t.topicTableConfig.typeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-input",{attrs:{placeholder:"Please enter keyword"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("span",{staticStyle:{display:"none"}},[t._v(t._s(e.$index))])],1)]}},{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.handleTopicEdit(e.row)}}},[t._v(" Edit ")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.handleTopicDelete(e.row)}}},[t._v(" Delete ")])]}}])})],2),a("ap-addtopic-dialog",{ref:"addTopicDialog",attrs:{mode:t.mode,targetTopic:t.targetTopic}})],1)},ba=[],va={MODE:{NEW:"NEW",EDIT:"EDIT"}},ya="/api/topic/";function Ca(t){return S.post(ya+"addTopic",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function La(t){return S.post(ya+"updateTopic",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function wa(t){return S.post(ya+"deleteTopic",JSON.stringify({topicId:t}),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function Oa(){return S.get(ya+"getTopicList")}var Ta={addTopic:Ca,getTopicList:Oa,updateTopic:La,deleteTopic:wa},Da={rows:[{key:"topicName",label:"NAME"}],typeOptions:[{label:"Product",value:"Product"},{label:"Parameters",value:"Parameters"},{label:"Applications",value:"Applications"}]},Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"ap-dialog",attrs:{title:"Edit Topic",visible:t.dialogVisible,width:"1100px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"dialog-inner"},[a("el-form",{ref:"editTopicForm",attrs:{model:t.formData,rules:t.formRules}},[a("el-form-item",{attrs:{label:"Name","label-width":t.formLabelWidth,prop:"topicName"}},[a("el-input",{model:{value:t.formData.topicName,callback:function(e){t.$set(t.formData,"topicName",e)},expression:"formData.topicName"}})],1),a("el-form-item",{attrs:{label:"Type","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"form-item",attrs:{placeholder:"Select the type",disabled:t.mode==t.topicConfig.MODE.EDIT},model:{value:t.formData.topicType,callback:function(e){t.$set(t.formData,"topicType",e)},expression:"formData.topicType"}},t._l(t.topicTableConfig.typeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"Category","label-width":t.formLabelWidth,prop:"categoryList"}},[a("el-select",{staticClass:"form-item",attrs:{filterable:"",multiple:""},model:{value:t.formData.categoryList,callback:function(e){t.$set(t.formData,"categoryList",e)},expression:"formData.categoryList"}},t._l(t.matchedCategoryList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"http-request":t.onUploadImage,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess}},[t.formData.topicImage?a("img",{staticClass:"avatar",attrs:{src:t.formData.topicImage}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitClick}},[t._v("Submit")])],1)])},_a=[],Pa={props:{mode:{required:!0},targetTopic:{type:Object,default:function(){return null}}},data:function(){return{topicConfig:va,topicTableConfig:Da,dialogVisible:!1,formData:{topicName:"",topicType:Da.typeOptions[0].value,topicImage:"",categoryList:[]},formRules:{topicName:[{required:!0,message:"Please enter a valid name",trigger:"blur"}],categoryList:[{required:!0,message:"Please select a category",trigger:"blur"}]},formLabelWidth:"100px"}},computed:Object(d["a"])({matchedCategoryList:function(){var t=this,e=[];return this.categoryList.forEach((function(a){a.categoryType===t.formData.topicType&&e.push({label:a.categoryName,value:a.categoryId})})),e}},Object(p["c"])(["categoryList"])),watch:{targetTopic:function(t){t&&Object.assign(this.formData,t)},"formData.topicType":function(){this.mode==va.MODE.NEW&&(this.formData.categoryList=[])}},methods:Object(d["a"])({onSubmitClick:function(){var t=this;this.$refs.editTopicForm.validate((function(e){if(e)if(t.mode===va.MODE.NEW){var a=Object(w["a"])();t.formData.topicId=a,Ta.addTopic(t.formData).then((function(e){t.dialogVisible=!1,t.getTopicList(),e.success&&t.$message({type:"success",message:"Add Topic Success",showClose:!0})}))}else t.mode===va.MODE.EDIT&&Ta.updateTopic(t.formData).then((function(e){t.dialogVisible=!1,t.getTopicList(),e.success&&t.$message({type:"success",message:"Update Topic Success",showClose:!0})}))}))},onUploadImage:function(t){var e=this,a="";a="image/png"===t.file.type?"png":"jpg";var o=Object(w["a"])()+"."+a,r=new FormData;r.append("file",t.file),me(o,r,{headers:{"Content-Type":"multipart/form-data"}},(function(t){t.url&&(e.formData.topicImage=t.url)}))},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,a=t.size/1024/1024<5;return e||this.$message.error("Image type should be JPED or PNG"),a||this.$message.error("Image size should less than 5MB"),e&&a},onUploadSuccess:function(){}},Object(p["b"])(["getTopicList"]))},ka=Pa,Ea=(a("bd55"),Object(z["a"])(ka,Sa,_a,!1,null,null,null)),Ia=Ea.exports,Na={data:function(){return{mode:va.MODE.NEW,search:"",topicTableConfig:Da,topicType:Da.typeOptions[0].value,targetTopic:null}},computed:Object(d["a"])({},Object(p["c"])(["topicList","topicCategoryList"])),methods:Object(d["a"])({handleTopicAdd:function(){this.mode=va.MODE.NEW,this.$refs.addTopicDialog.dialogVisible=!0,this.targetTopic={topicName:"",topicType:Da.typeOptions[0].value,categoryList:null,topicImage:""}},handleTopicEdit:function(t){var e=this;this.mode=va.MODE.EDIT,this.$refs.addTopicDialog.dialogVisible=!0,this.targetTopic=t;var a=[];this.topicCategoryList.forEach((function(t){t.topicId==e.targetTopic.topicId&&a.push(t.categoryId)})),this.targetTopic.categoryList=a},handleTopicDelete:function(t){var e=this,a=t.topicId,o=t.topicName;this.$confirm('Do you want to delete "'.concat(o,'"? '),"Delete Action",{distinguishCancelAndClose:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((function(){Ta.deleteTopic(a).then((function(){e.getTopicList(),e.$message({type:"success",message:"Delete Success",showClose:!0})}))}))}},Object(p["b"])(["getTopicList"])),components:{"ap-addtopic-dialog":Ia}},ja=Na,xa=(a("9889"),Object(z["a"])(ja,ga,ba,!1,null,"b1278e28",null)),$a=xa.exports,Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-section-edit-tab"},[a("div",{staticClass:"add-btn-container"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleSectionAdd}},[t._v("ADD SECTION")])],1),a("el-table",{staticClass:"section-table",staticStyle:{width:"100%"},attrs:{"max-height":"650",data:t.homeSectionList.filter((function(e){return(!t.search||e.sectionName.toLowerCase().includes(t.search.toLowerCase()))&&e.sectionType===t.sectionType}))}},[t._l(t.sectionTableConfig.rows,(function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.key,label:t.label,width:t.width}})})),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("div",{staticClass:"header-control"},[a("el-select",{staticClass:"ap-select",attrs:{placeholder:"Select the type"},model:{value:t.sectionType,callback:function(e){t.sectionType=e},expression:"sectionType"}},t._l(t.sectionTableConfig.sectionTypeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-input",{attrs:{placeholder:"Please enter keyword"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("span",{staticStyle:{display:"none"}},[t._v(t._s(e.$index))])],1)]}},{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.handleSectionEdit(e.row)}}},[t._v(" Edit ")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.handleSectionDelete(e.row)}}},[t._v(" Delete ")])]}}])})],2),a("ap-addsection-dialog",{ref:"addSectionDialog",attrs:{mode:t.mode,targetSection:t.targetSection}})],1)},Ua=[],Fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"ap-dialog",attrs:{title:"Edit Section",visible:t.dialogVisible,width:"1100px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"dialog-inner"},[a("el-form",{ref:"editSectionForm",attrs:{model:t.formData,rules:t.formRules}},[a("el-form-item",{attrs:{label:"Name","label-width":t.formLabelWidth,prop:"sectionName"}},[a("el-input",{model:{value:t.formData.sectionName,callback:function(e){t.$set(t.formData,"sectionName",e)},expression:"formData.sectionName"}})],1),a("el-form-item",{attrs:{label:"Section Type","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"form-item",attrs:{placeholder:"Select the type"},model:{value:t.formData.sectionType,callback:function(e){t.$set(t.formData,"sectionType",e)},expression:"formData.sectionType"}},t._l(t.sectionTableConfig.sectionTypeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{staticClass:"form-radio-group",attrs:{"label-width":t.formLabelWidth}},[a("el-radio-group",{model:{value:t.formData.sectionContentType,callback:function(e){t.$set(t.formData,"sectionContentType",e)},expression:"formData.sectionContentType"}},[a("el-radio-button",{attrs:{label:1,disabled:"ProductSection"==t.formData.sectionType}},[t._v("Single Product")]),a("el-radio-button",{attrs:{label:2}},[t._v("Product Group")]),a("el-radio-button",{attrs:{label:3,disabled:"ProductSection"==t.formData.sectionType}},[t._v("Topic")])],1)],1),3!=t.formData.sectionContentType&&1==t.formData.sectionContentType?a("el-form-item",{attrs:{label:"Product","label-width":t.formLabelWidth,prop:"product"}},[a("el-select",{key:"product",staticClass:"form-item",attrs:{filterable:"",placeholder:"Please select a product"},model:{value:t.formData.product,callback:function(e){t.$set(t.formData,"product",e)},expression:"formData.product"}},t._l(t.matchedProductList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),3!=t.formData.sectionContentType&&2==t.formData.sectionContentType?a("el-form-item",{attrs:{label:"Product","label-width":t.formLabelWidth,prop:"productList"}},[a("el-select",{key:"productList",staticClass:"form-item",attrs:{filterable:"",placeholder:"Please select a product",multiple:""},model:{value:t.formData.productList,callback:function(e){t.$set(t.formData,"productList",e)},expression:"formData.productList"}},t._l(t.matchedProductList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),3==t.formData.sectionContentType?a("el-form-item",{attrs:{label:"Topic Type","label-width":t.formLabelWidth}},[a("el-select",{key:"topicType",staticClass:"form-item",attrs:{placeholder:"Select the type"},model:{value:t.formData.topicType,callback:function(e){t.$set(t.formData,"topicType",e)},expression:"formData.topicType"}},t._l(t.sectionTableConfig.typeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),3==t.formData.sectionContentType?a("el-form-item",{attrs:{label:"Category","label-width":t.formLabelWidth,prop:"categoryList"}},[a("el-select",{key:"categoryList",staticClass:"form-item",attrs:{filterable:"",multiple:""},model:{value:t.formData.categoryList,callback:function(e){t.$set(t.formData,"categoryList",e)},expression:"formData.categoryList"}},t._l(t.matchedCategoryList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),"ProductSection"!=t.formData.sectionType?a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"http-request":t.onUploadImage,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess}},[t.formData.sectionImage?a("img",{staticClass:"avatar",attrs:{src:t.formData.sectionImage}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]):t._e()],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitClick}},[t._v("Submit")])],1)])],1)},Wa=[],Ma={MODE:{NEW:"NEW",EDIT:"EDIT"}},Ra={rows:[{key:"sectionName",label:"NAME"}],typeOptions:[{label:"Product",value:"Product"},{label:"Parameters",value:"Parameters"},{label:"Applications",value:"Applications"}],sectionTypeOptions:[{label:"Carousel",value:"Carousel"},{label:"Billboard",value:"Billboard"},{label:"Product Section",value:"ProductSection"}]},za="/api/homeSection/";function Ja(t){return S.post(za+"addSection",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function Va(t){return S.post(za+"updateSection",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function Ba(t){return S.post(za+"deleteSection",JSON.stringify({sectionId:t}),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function qa(){return S.get(za+"getSectionList")}var Ha={addSection:Ja,getSectionList:qa,updateSection:Va,deleteSection:Ba},Ga={props:{mode:{required:!0},targetSection:{type:Object,default:function(){return null}}},data:function(){return{dialogVisible:!1,sectionTableConfig:Ra,formData:{sectionName:"",sectionType:Ra.sectionTypeOptions[0].value,topicType:Ra.typeOptions[0].value,sectionImage:"",sectionContentType:1,categoryList:[],product:null,productList:[]},formRules:{sectionName:[{required:!0,message:"Please enter a valid name",trigger:"blur"}],product:[{required:!0,message:"Please select a product",trigger:"blur"}],productList:[{required:!0,message:"Please select a product",trigger:"blur"}],categoryList:[{required:!0,message:"Please select a category",trigger:"blur"}]},formLabelWidth:"100px"}},computed:Object(d["a"])({matchedCategoryList:function(){var t=this,e=[];return this.categoryList.forEach((function(a){a.categoryType===t.formData.topicType&&e.push({label:a.categoryName,value:a.categoryId})})),e},matchedProductList:function(){var t=[];return this.productList.forEach((function(e){t.push({label:e.productName,value:e.productId})})),t}},Object(p["c"])(["categoryList","productList"])),watch:{targetSection:function(t){t&&Object.assign(this.formData,t)},"formData.sectionType":{immediate:!0,handler:function(t){"ProductSection"==t&&(this.formData.sectionContentType=2)}},"formData.topicType":function(){this.formData.categoryList=[]}},methods:Object(d["a"])({onSubmitClick:function(){var t=this;this.$refs.editSectionForm.validate((function(e){if(e)if(t.mode===Ma.MODE.NEW){var a=Object(w["a"])(),o={sectionId:a,sectionData:JSON.stringify(t.formData)};Ha.addSection(o).then((function(e){t.dialogVisible=!1,t.getHomeSectionList(),e.success&&t.$message({type:"success",message:"Add Section Success",showClose:!0})}))}else if(t.mode===Ma.MODE.EDIT){var r={sectionId:t.formData.sectionId,sectionData:JSON.stringify(t.formData)};Ha.updateSection(r).then((function(e){t.dialogVisible=!1,t.getHomeSectionList(),e.success&&t.$message({type:"success",message:"Update Section Success",showClose:!0})}))}}))},onUploadImage:function(t){var e=this,a="";a="image/png"===t.file.type?"png":"jpg";var o=Object(w["a"])()+"."+a,r=new FormData;r.append("file",t.file),me(o,r,{headers:{"Content-Type":"multipart/form-data"}},(function(t){t.url&&(e.formData.sectionImage=t.url)}))},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,a=t.size/1024/1024<5;return e||this.$message.error("Image type should be JPED or PNG"),a||this.$message.error("Image size should less than 5MB"),e&&a},onUploadSuccess:function(){}},Object(p["b"])(["getHomeSectionList"]))},Ya=Ga,Za=(a("78ca"),Object(z["a"])(Ya,Fa,Wa,!1,null,null,null)),Qa=Za.exports,Ka={data:function(){return{search:"",mode:Ma.MODE.NEW,sectionType:Ra.sectionTypeOptions[0].value,sectionTableConfig:Ra,targetSection:null}},computed:Object(d["a"])({},Object(p["c"])(["homeSectionList"])),methods:Object(d["a"])({handleSectionAdd:function(){this.mode=Ma.MODE.NEW,this.$refs.addSectionDialog.dialogVisible=!0,this.targetSection={sectionName:"",sectionType:Ra.sectionTypeOptions[0].value,topicType:Ra.typeOptions[0].value,sectionImage:"",sectionContentType:1,categoryList:[],product:null,productList:[]}},handleSectionEdit:function(t){this.mode=Ma.MODE.EDIT,this.$refs.addSectionDialog.dialogVisible=!0,this.targetSection=t},handleSectionDelete:function(t){var e=this,a=t.sectionId,o=t.sectionName;this.$confirm('Do you want to delete "'.concat(o,'"? '),"Delete Action",{distinguishCancelAndClose:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then((function(){Ha.deleteSection(a).then((function(){e.getHomeSectionList(),e.$message({type:"success",message:"Delete Success",showClose:!0})}))}))}},Object(p["b"])(["getHomeSectionList"])),components:{"ap-addsection-dialog":Qa}},Xa=Ka,to=(a("7365"),Object(z["a"])(Xa,Aa,Ua,!1,null,"bdc25f50",null)),eo=to.exports,ao={data:function(){return{}},components:{"ap-article-edit-tab":ha,"ap-topic-edit-tab":$a,"ap-home-edit-tab":eo}},oo=ao,ro=(a("345b"),Object(z["a"])(oo,aa,oa,!1,null,null,null)),io=ro.exports,so={data:function(){return{activeTab:"1"}},components:{"ap-manage-product":$e,"ap-manage-category":ea,"ap-manage-site":io}},no=so,co=(a("9e62"),Object(z["a"])(no,se,ne,!1,null,null,null)),lo=co.exports,uo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-category"},[a("h1",{staticClass:"title"},[t._v(t._s(t.title))]),a("el-divider",{attrs:{"content-position":"right"}},[a("i",{staticClass:"el-icon-shopping-bag-2",staticStyle:{"font-size":"1.2em"}})]),a("div",{staticClass:"topic-list"},t._l(t.matchedTopicList,(function(e){return a("div",{key:e.topicId,staticClass:"topic-card-container",on:{click:function(a){return t.onCardClicked(e.topicName)}}},[a("el-card",{staticClass:"topic-card"},[a("img",{staticClass:"image",attrs:{src:e.topicImage}}),a("div",{staticClass:"card-title"},[a("div",{staticClass:"title-text"},[t._v(t._s(e.topicName))])])])],1)})),0)],1)},po=[],mo={props:{categoryType:{type:String,default:""}},date:function(){return{}},computed:Object(d["a"])({title:function(){var t="";return"products"===this.categoryType.toLowerCase()?t="PRODUCTS":"applications"===this.categoryType.toLowerCase()?t="APPLICATIONS":"parameters"===this.categoryType.toLowerCase()&&(t="PARAMETERS"),t},type:function(){var t="";return"products"===this.categoryType.toLowerCase()?t="Product":"applications"===this.categoryType.toLowerCase()?t="Applications":"parameters"===this.categoryType.toLowerCase()&&(t="Parameters"),t},matchedTopicList:function(){var t=this,e=[];return this.topicList.forEach((function(a){a.topicType===t.type&&e.push(a)})),e.sort((function(t,e){var a=parseInt(t.topicName.split("-")[0],10),o=parseInt(e.topicName.split("-")[0],10);return a=isNaN(a)?0:a,o=isNaN(o)?0:o,a-o})),e}},Object(p["c"])(["topicList"])),methods:{onCardClicked:function(t){this.$router.push("/topic/"+t)}}},fo=mo,ho=(a("486e"),Object(z["a"])(fo,uo,po,!1,null,null,null)),go=ho.exports,bo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ap-product-list",{staticClass:"product-list",attrs:{title:t.topicName,productList:t.matchedProductList}})],1)},vo=[],yo=(a("6062"),a("3ca3"),a("ddb0"),{props:{topicName:{default:""}},date:function(){return{}},computed:Object(d["a"])({matchedTopic:function(){var t=this,e=this.topicList.find((function(e){if(e.topicName===t.topicName)return!0}))||{success:!1};return e},matchedCategoryList:function(){var t=[];if(this.matchedTopic&&this.matchedTopic.topicId){var e=this.matchedTopic.topicId;this.topicCategoryList.forEach((function(a){a.topicId===e&&t.push(a.categoryId)}))}return t},matchedProductList:function(){var t=this,e=new Set;this.productCategoryList&&this.productCategoryList.forEach((function(a){t.matchedCategoryList.includes(a.categoryId)&&e.add(a.productId)}));var a=[];return this.productList&&this.productList.forEach((function(t){e.has(t.productId)&&(t.productImageList=JSON.parse(t.productImages),a.push(t))})),a}},Object(p["c"])(["topicList","productList","productCategoryList","topicCategoryList"])),watch:{matchedTopic:function(t){t&&!1===t.success&&this.$router.push("/")}},components:{"ap-product-list":Qt}}),Co=yo,Lo=(a("c0983"),Object(z["a"])(Co,bo,vo,!1,null,"50951ea4",null)),wo=Lo.exports,Oo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-article"},[a("ap-texteditor",{attrs:{readonly:!0,value:t.article.articleContent}})],1)},To=[],Do={props:{title:{required:!0,default:""}},data:function(){return{article:{articleId:"",articleContent:"",articleName:""}}},computed:Object(d["a"])({},Object(p["c"])(["articleList"])),watch:{articleList:{immediate:!0,handler:function(){this.getArticle()}},$route:{immediate:!0,handler:function(){this.getArticle()}}},methods:{getArticle:function(){var t=this,e=this.articleList,a=null;Array.isArray(e)&&(a=e.find((function(e){return e.articleName.toLowerCase()===t.title.toLowerCase()}))),a&&Object.assign(this.article,a)}},components:{"ap-texteditor":Se}},So=Do,_o=(a("2a78"),Object(z["a"])(So,Oo,To,!1,null,null,null)),Po=_o.exports,ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-product"},[a("div",{staticClass:"product-show"},[t.isPhoneSize?a("div",{staticClass:"title"},[t._v(" "+t._s(t.matchedProduct.productName)+" ")]):t._e(),a("el-carousel",{staticClass:"ap-carousel",attrs:{height:"500px"}},t._l(t.matchedProduct.productImageList||[],(function(t){return a("el-carousel-item",{key:t.name},[a("el-image",{staticClass:"carousel_img",attrs:{fit:"contain",src:t.url}})],1)})),1),a("div",{staticClass:"right-group"},[t.isPhoneSize?t._e():a("div",{staticClass:"title"},[t._v(" "+t._s(t.matchedProduct.productName)+" ")]),a("el-divider",{attrs:{"content-position":"right"}},[a("i",{staticClass:"ap-nav-icon el-icon-shopping-cart-2",staticStyle:{"font-size":"1.2em"}})]),t.matchedProduct.productPrice>=1e3?a("div",{directives:[{name:"format",rawName:"v-format",value:"CAD $#,##0.00",expression:"'CAD $#,##0.00'"}],staticClass:"price"},[t._v(" "+t._s(t.matchedProduct.productPrice)+" ")]):a("div",{directives:[{name:"format",rawName:"v-format",value:"CAD $##0.00",expression:"'CAD $##0.00'"}],staticClass:"price"},[t._v(" "+t._s(t.matchedProduct.productPrice)+" ")]),t.productOptions.length>0?a("el-select",{staticClass:"option-select",attrs:{placeholder:"Please select an option",size:"small"},model:{value:t.optionChoose,callback:function(e){t.optionChoose=e},expression:"optionChoose"}},t._l(t.productOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e(),a("el-input-number",{staticClass:"count",attrs:{min:1,max:100},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}}),a("el-button",{staticClass:"button",attrs:{type:"success"},on:{click:t.onAddClick}},[t._v("ADD TO CART")])],1)],1),a("ap-tab-display",{staticClass:"ap-tab-display",attrs:{product:t.matchedProduct}})],1)},Eo=[],Io=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-tab-display"},[a("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.contentList,(function(e,o){return a("el-tab-pane",{key:o,attrs:{label:e.label,name:o.toString()}},["FILES"==e.label?t._l(e.content,(function(e,o){return a("div",{key:o,staticClass:"file-link"},[a("i",{staticClass:"el-icon-document"}),a("el-link",{attrs:{type:"primary",href:e.url,target:"_blank"}},[t._v(t._s(e.name))])],1)})):[a("ap-texteditor",{attrs:{readonly:!0,value:e.content}})]],2)})),1)],1)},No=[],jo={props:{product:{type:Object,default:null}},data:function(){return{activeTab:"0"}},computed:{contentList:function(){var t=[],e=this.product;return e&&(e.productDesc&&t.push({label:"DESCRIPTION",content:e.productDesc}),e.productFeatures&&t.push({label:"FEATURES",content:e.productFeatures}),e.productVideo&&t.push({label:"VIDEO",content:e.productVideo}),e.productSpecs&&t.push({label:"SPECS",content:e.productSpecs}),e.productFileList&&e.productFileList.length>0&&t.push({label:"FILES",content:e.productFileList}),e.productWarranty&&t.push({label:"WARRANTY",content:e.productWarranty})),console.log(t),t}},components:{"ap-texteditor":Se}},xo=jo,$o=(a("a294"),Object(z["a"])(xo,Io,No,!1,null,null,null)),Ao=$o.exports,Uo={props:{productId:{default:""}},data:function(){return{count:1,optionChoose:""}},computed:Object(d["a"])({matchedProduct:function(){var t=this,e=this.productList.find((function(e){if(e.productId===t.productId)return e.productImageList=JSON.parse(e.productImages),e.productFileList=JSON.parse(e.productFiles),e.productOptionList=JSON.parse(e.productOptions),!0}))||{success:!1};return e},imageList:function(){var t=[];return this.matchedProduct.productImageList&&(t=this.matchedProduct.productImageList.map((function(t){return t.url}))),t},productOptions:function(){var t=[],e=this.matchedProduct.productOptionList;return e&&e.length>0&&e.forEach((function(e){t.push({label:e,value:e})})),t}},Object(p["c"])(["productList","shoppingCart","isPhoneSize"])),watch:{matchedProduct:function(t){t&&!1===t.success&&this.$router.push("/")},productOptions:{immediate:!0,deep:!0,handler:function(t){t.length>0&&(this.optionChoose=t[0].value)}}},methods:Object(d["a"])({onAddClick:function(){this.addProudctToCart({productId:this.matchedProduct.productId,amount:this.count,option:this.optionChoose}),this.$message({type:"success",message:"Add Success!",showClose:!0})}},Object(p["b"])(["addProudctToCart"])),components:{"ap-tab-display":Ao}},Fo=Uo,Wo=(a("e7fa"),Object(z["a"])(Fo,ko,Eo,!1,null,null,null)),Mo=Wo.exports,Ro=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-search-result"},[a("h1",{staticClass:"title"},[t._v(t._s(t.matchedProduct.length)+" Result(s) found for '"+t._s(t.search)+"'")]),a("el-divider",{attrs:{"content-position":"right"}},[a("i",{staticClass:"el-icon-search",staticStyle:{"font-size":"1.2em"}})]),a("ap-product-list",{staticClass:"product-list",attrs:{productList:t.matchedProduct}})],1)},zo=[],Jo={props:{search:{default:""}},computed:Object(d["a"])({matchedProduct:function(){var t=this,e=[];return this.productList.forEach((function(a){var o=a.productName.toLowerCase().indexOf(t.search.toLowerCase());if(o>=0){var r=Object.assign({},a,o);r.productImageList=JSON.parse(r.productImages),e.push(r)}})),e.sort((function(t,e){return t.priority<e.priority?-1:t.priority==e.priority?0:1})),e}},Object(p["c"])(["productList"])),components:{"ap-product-list":Qt}},Vo=Jo,Bo=(a("9e93"),Object(z["a"])(Vo,Ro,zo,!1,null,"bff47ede",null)),qo=Bo.exports,Ho=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ap-product-list",{staticClass:"product-list",attrs:{title:t.matchedSection.sectionName,productList:t.matchedProductList}})],1)},Go=[],Yo={props:{sectionId:{default:""}},date:function(){return{}},computed:Object(d["a"])({matchedSection:function(){var t=this,e=this.homeSectionList.find((function(e){if(e.sectionId==t.sectionId)return!0}));return e||(e={success:!1}),e},matchedProductList:function(){var t=this,e=[];if(2==this.matchedSection.sectionContentType){var a=this.matchedSection.productList;a.forEach((function(a){if(t.productListObj[a]){var o=t.productListObj[a];o.productImageList=JSON.parse(o.productImages),e.push(o)}}))}else if(3==this.matchedSection.sectionContentType){var o=new Set;this.productCategoryList&&this.productCategoryList.forEach((function(e){t.matchedSection.categoryList.includes(e.categoryId)&&o.add(e.productId)})),this.productList&&this.productList.forEach((function(t){o.has(t.productId)&&(t.productImageList=JSON.parse(t.productImages),e.push(t))}))}return e}},Object(p["c"])(["homeSectionList","productListObj","productList","productCategoryList"])),watch:{matchedSection:function(t){t&&!1===t.success&&this.$router.push("/")}},components:{"ap-product-list":Qt}},Zo=Yo,Qo=(a("155c"),Object(z["a"])(Zo,Ho,Go,!1,null,"1c7778bc",null)),Ko=Qo.exports,Xo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-account"},[a("el-tabs",{staticClass:"header-tabs",model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{staticClass:"manage-panel",attrs:{label:"My Info",name:"1"}},[a("ap-my-info")],1),a("el-tab-pane",{staticClass:"manage-panel",attrs:{label:"My Order",name:"2"}},[a("ap-my-order")],1)],1)],1)},tr=[],er=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-info"},[a("div",{staticClass:"edit-info-form"},[a("h2",[t._v("Edit Account Information")]),a("el-form",{ref:"editInfoForm",staticClass:"account-form",attrs:{model:t.formData,rules:t.formRules}},[a("el-form-item",{attrs:{label:"First Name","label-width":t.formLabelWidth,prop:"userFirstName"}},[a("el-input",{attrs:{placeholder:"Please enter first name"},model:{value:t.formData.userFirstName,callback:function(e){t.$set(t.formData,"userFirstName",e)},expression:"formData.userFirstName"}})],1),a("el-form-item",{attrs:{label:"Last Name","label-width":t.formLabelWidth,prop:"userLastName"}},[a("el-input",{attrs:{placeholder:"Please enter last name"},model:{value:t.formData.userLastName,callback:function(e){t.$set(t.formData,"userLastName",e)},expression:"formData.userLastName"}})],1),a("el-form-item",{attrs:{label:"Email","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:t.user?t.user.userEmail:"",placeholder:"Please enter email"}})],1),a("el-form-item",{attrs:{label:"User ID","label-width":t.formLabelWidth}},[a("el-input",{attrs:{value:t.user?t.user.userId:""}})],1),a("el-form-item",{staticClass:"change-password-item",attrs:{label:"","label-width":t.formLabelWidth}},[a("el-checkbox",{attrs:{label:"Change Password",border:"",size:"medium"},model:{value:t.changePassword,callback:function(e){t.changePassword=e},expression:"changePassword"}})],1),t.changePassword?[a("el-form-item",{attrs:{label:"Current Password","label-width":t.formLabelWidth,prop:"currentPassword"}},[a("el-input",{attrs:{"show-password":"",placeholder:"Please enter password"},model:{value:t.formData.currentPassword,callback:function(e){t.$set(t.formData,"currentPassword",e)},expression:"formData.currentPassword"}})],1),a("el-form-item",{attrs:{label:"New Password","label-width":t.formLabelWidth,prop:"newPassword"}},[a("el-input",{attrs:{"show-password":"",placeholder:"Please enter password"},model:{value:t.formData.newPassword,callback:function(e){t.$set(t.formData,"newPassword",e)},expression:"formData.newPassword"}})],1),a("el-form-item",{attrs:{label:"Confirm New Password","label-width":t.formLabelWidth,prop:"confirmPassword"}},[a("el-input",{attrs:{"show-password":"",placeholder:"Please enter password"},model:{value:t.formData.confirmPassword,callback:function(e){t.$set(t.formData,"confirmPassword",e)},expression:"formData.confirmPassword"}})],1)]:t._e(),a("el-form-item",{staticClass:"form-item-button"},[a("el-popconfirm",{attrs:{title:"Do you want to save the edit?",confirmButtonText:"Yes",cancelButtonText:"Cancel"},on:{onConfirm:t.onSaveEdit}},[a("el-button",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[t._v("Save Edit")])],1)],1)],2)],1)])},ar=[],or={data:function(){return{changePassword:!1,formData:{userFirstName:"",userLastName:"",userEmail:"",currentPassword:"",newPassword:"",confirmPassword:""},formRules:{userFirstName:[{validator:W,trigger:"blur"}],userLastName:[{validator:W,trigger:"blur"}],currentPassword:[{required:!0,message:"Please enter a valid password",trigger:"blur"},{validator:U,trigger:"blur"}],newPassword:[{required:!0,message:"Please enter a valid password",trigger:"blur"},{validator:U,trigger:"blur"}],confirmPassword:[{required:!0,message:"Please enter a valid password",trigger:"blur"},{validator:U,trigger:"blur"},{validator:this.validateConfirmPassword,trigger:"blur"}],formLabelWidthL:"200px"}}},computed:Object(d["a"])({},Object(p["c"])(["user","isPhoneSize"])),watch:{user:{immediate:!0,handler:function(t){t&&t.userEmail&&(this.formData.userId=t.userId,this.formData.userFirstName=t.userFirstname,this.formData.userLastName=t.userLastname,this.formData.userEmail=t.userEmail)}}},methods:Object(d["a"])({onSaveEdit:function(){var t=this;this.$refs.editInfoForm.validate((function(e){e&&(t.changePassword?$.login({userEmail:t.formData.userEmail,userPassword:t.formData.currentPassword}).then((function(e){e.success&&$.updateUser({userId:t.formData.userId,userEmail:t.formData.userEmail,userPassword:t.formData.newPassword}).then((function(e){e.success&&(t.logout(),t.$router.push("home"),t.$message({type:"success",message:"Edit Account Info Success",showClose:!0}))}))})):$.updateUser({userId:t.formData.userId,userEmail:t.formData.userEmail,userFirstname:t.formData.userFirstName,userLastname:t.formData.userLastName}).then((function(e){e.success&&t.$message({type:"success",message:"Edit Account Info Success",showClose:!0})})))}))},validateConfirmPassword:function(t,e,a){e===this.formData.newPassword?a():a("Confirmed Password does not match new password.")}},Object(p["b"])(["logout"]))},rr=or,ir=(a("748c"),Object(z["a"])(rr,er,ar,!1,null,null,null)),sr=ir.exports,nr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-account-order"},[a("el-collapse",{attrs:{accordion:""}},t._l(t.orderList,(function(e,o){return a("el-collapse-item",{key:o,attrs:{name:e.orderId}},[a("template",{slot:"title"},[a("div",{staticClass:"collapse-title"},[a("div",{staticClass:"title-row id-row"},[a("div",{staticClass:"order-id-group"},[a("i",{staticClass:"icon el-icon-postcard"}),a("span",{staticClass:"field"},[t._v("Order ID:")])]),a("span",{staticClass:"content"},[t._v(t._s(e.orderId))]),t.isPhoneSize?t._e():a("el-divider",{attrs:{direction:"vertical"}})],1),a("div",{staticClass:"title-row"},[a("i",{staticClass:"icon el-icon-date"}),a("span",{staticClass:"field"},[t._v("Order Time:")]),a("span",{staticClass:"content"},[t._v(t._s(t.formatDate(new Date(e.createTime))))]),t.isPhoneSize?t._e():a("el-divider",{attrs:{direction:"vertical"}})],1),a("div",{staticClass:"title-row"},[a("i",{staticClass:"icon el-icon-money"}),a("span",{staticClass:"field"},[t._v("Total:")]),e.total>=1e3?a("span",{directives:[{name:"format",rawName:"v-format",value:"CAD $#,##0.00",expression:"'CAD $#,##0.00'"}],staticClass:"content"},[t._v(" "+t._s(e.total)+" ")]):a("span",{directives:[{name:"format",rawName:"v-format",value:"CAD $##0.00",expression:"'CAD $##0.00'"}],staticClass:"content"},[t._v(" "+t._s(e.total)+" ")])])])]),a("div",{staticClass:"shipping"},[a("div",{staticClass:"shipping-row"},[a("span",{staticClass:"shipping-field"},[t._v("Name:")]),t._v(" "+t._s(e.orderShipping.name)+" ")]),a("div",{staticClass:"shipping-row"},[a("span",{staticClass:"shipping-field"},[t._v("Address 1:")]),t._v(" "+t._s(e.orderShipping.line1)+" ")]),a("div",{staticClass:"shipping-row"},[a("span",{staticClass:"shipping-field"},[t._v("Address 2:")]),t._v(" "+t._s(e.orderShipping.line2)+" ")]),a("div",{staticClass:"shipping-row"},[a("span",{staticClass:"shipping-field"},[t._v("City:")]),t._v(" "+t._s(e.orderShipping.city)+" ")]),a("div",{staticClass:"shipping-row"},[a("span",{staticClass:"shipping-field"},[t._v("State:")]),t._v(" "+t._s(e.orderShipping.state)+" ")]),a("div",{staticClass:"shipping-row"},[a("span",{staticClass:"shipping-field"},[t._v("Country:")]),t._v(" "+t._s(e.orderShipping.country)+" ")]),a("div",{staticClass:"shipping-row"},[a("span",{staticClass:"shipping-field"},[t._v("Postal Code:")]),t._v(" "+t._s(e.orderShipping.postal_code)+" ")])]),a("el-divider"),t._l(e.orderDetail,(function(e,o){return a("div",{key:o,staticClass:"product-item"},[a("div",{staticClass:"product-wrap"},[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.imageUrl,fit:"contain"}}),a("div",{staticClass:"text-group"},[a("span",{staticClass:"detail-field"},[a("span",{staticClass:"detail-field-title"},[t._v("Name:")]),t._v(" "+t._s(e.name)+" ")]),a("span",{staticClass:"detail-field"},[a("span",{staticClass:"detail-field-title"},[t._v("Quantity:")]),t._v(" "+t._s(e.quantity)+" ")])]),a("div",{staticClass:"right-group"},[e.amount/100*e.quantity>=1e3?a("div",{directives:[{name:"format",rawName:"v-format",value:"$#,##0.00",expression:"'$#,##0.00'"}],staticClass:"price"},[t._v(" "+t._s(e.amount/100*e.quantity)+" ")]):a("div",{directives:[{name:"format",rawName:"v-format",value:"$##0.00",expression:"'$##0.00'"}],staticClass:"price"},[t._v(" "+t._s(e.amount/100*e.quantity)+" ")])])],1),a("el-divider")],1)}))],2)})),1)],1)},cr=[],lr={data:function(){return{orderList:[]}},computed:Object(d["a"])({},Object(p["c"])(["orderHistory","isPhoneSize"])),watch:{orderHistory:{immediate:!0,handler:function(t){this.orderList=tt.a.cloneDeep(t),this.orderList.forEach((function(t){var e=0;t.orderDetail.forEach((function(t){e+=t.amount*t.quantity})),t.total=e/100}))}}},methods:{formatDate:function(t){return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()}}},ur=lr,dr=(a("c694"),Object(z["a"])(ur,nr,cr,!1,null,null,null)),pr=dr.exports,mr={data:function(){return{activeTab:"1"}},components:{"ap-my-info":sr,"ap-my-order":pr}},fr=mr,hr=(a("3341"),Object(z["a"])(fr,Xo,tr,!1,null,"33b5d08c",null)),gr=hr.exports,br=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},vr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ap-checkout"},[a("h1",[t._v("Checkout")])])}],yr={data:function(){return{checkout_session_id:""}},computed:Object(d["a"])({},Object(p["c"])(["user"])),watch:{$route:{immediate:!0,handler:function(t){t.query&&t.query.checkout_session_id?(this.checkout_session_id=t.query.checkout_session_id,this.$notify({title:"Success!",message:"Thank you, your payment is successful!",type:"success"}),this.setCart([])):this.$notify({title:"Sorry!",message:"Sorry, your payment is failed!",type:"error"}),this.$router.push("/")}}},methods:Object(d["a"])({},Object(p["b"])(["setCart","getOrderHistory"]))},Cr=yr,Lr=(a("43cd"),Object(z["a"])(Cr,br,vr,!1,null,null,null)),wr=Lr.exports;i["default"].use(bt["a"]);var Or=[{path:"/",redirect:"/home"},{path:"/home",component:ie},{path:"/category/:categoryType",component:go,props:!0},{path:"/topic/:topicName",component:wo,props:!0},{path:"/product/:productId",component:Mo,props:!0,meta:{keepAlive:!1}},{path:"/section/:sectionId",component:Ko,props:!0},{path:"/manage",component:lo},{path:"/contact",component:Po,props:{title:"Contact Us"}},{path:"/about",component:Po,props:{title:"About Us"}},{path:"/search/:search",component:qo,props:!0},{path:"/account",component:gr},{path:"/checkout",component:wr,meta:{keepAlive:!1}},{path:"*",redirect:"/"}],Tr=new bt["a"]({mode:"history",base:"/",routes:Or});Tr.beforeEach((function(t,e,a){!1!==t.meta.keepAlive&&(t.meta.keepAlive=!0);var o=t.params,r=t.fullPath;r.includes("/category")&&-1==["products","parameters","applications"].indexOf(o.categoryType.toLowerCase())&&a("/"),a()}));var Dr=Tr,Sr=a("2909"),_r="SET_FULLSCREEN_LOADING",Pr="SET_PRODUCT_LIST",kr="SET_CATEGORY_LIST",Er="SET_PRODUCT_CATEGORY_LIST",Ir="SET_ARTICLE_LIST",Nr="SET_TOPIC_LIST",jr="SET_TOPIC_CATEGORY_LIST",xr="SET_HOME_SECTION_LIST",$r="SET_SHOPPING_CART",Ar="SET_ORDER_HISTORY",Ur="SET_USER",Fr="SET_SCREEN_WIDTH",Wr="SET_IS_PHONE_SIZE",Mr="/api/productCategory/";function Rr(){return S.get(Mr+"getProductCategoryList")}var zr={getProductCategoryList:Rr},Jr="/api/topicCategory/";function Vr(){return S.get(Jr+"getTopicCategoryList")}var Br={getTopicCategoryList:Vr},qr="/api/order/";function Hr(t){return S.post(qr+"addOrder",JSON.stringify(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function Gr(t){return S.post(qr+"deleteOrder",JSON.stringify({orderId:t}),{headers:{"Content-Type":"application/json;charset=UTF-8"}})}function Yr(t){return S.get(qr+"getOrderListByUserId",{params:{userId:t}})}var Zr,Qr={addOrder:Hr,getOrderListByUserId:Yr,deleteOrder:Gr},Kr=function(t,e){var a=t.commit;a(_r,e)},Xr=function(t,e){var a=t.commit;a(Ur,e),window.localStorage.setItem("gatunUserId",e.userId)},ti=function(t,e){var a=t.commit;a(Fr,e)},ei=function(t,e){var a=t.commit;a(Wr,e)},ai=function(t,e){var a=t.commit;a($r,e),window.localStorage.setItem("gatunCart",JSON.stringify(e))},oi=function(t,e){var a=t.commit,o=t.state,r=tt.a.cloneDeep(o.shoppingCart),i=r.find((function(t){return t.productId==e.productId&&t.option==e.option}));i?i.amount+=e.amount:r.push(e),a($r,r)},ri=function(t,e){var a=t.commit,o=t.state,r=Object(Sr["a"])(o.shoppingCart),i=r.findIndex((function(t){t.id}));r.splice(i,1),a($r,r)},ii=function(t){var e=t.commit;e($r,[])},si=function(t){var e=t.commit;e(Ur,null),window.localStorage.removeItem("gatunUserId")},ni=function(t){var e=t.commit;return Ce.getProductList().then((function(t){zr.getProductCategoryList().then((function(a){e(Pr,t.data),e(Er,a.data)}))}))},ci=function(t,e){var a=t.commit;return Qr.getOrderListByUserId(e).then((function(t){if(t.success){var e=t.orderlist.map((function(t){return t.orderDetail=JSON.parse(t.orderDetail),t.orderShipping=JSON.parse(t.orderShipping),t}));a(Ar,e)}}))},li=function(t){var e=t.commit;return da.getArticleList().then((function(t){e(Ir,t.data)}))},ui=function(t){var e=t.commit;return Ta.getTopicList().then((function(t){Br.getTopicCategoryList().then((function(a){e(Nr,t.data),e(jr,a.data)}))}))},di=function(t){var e=t.commit;return Je.getCategoryList().then((function(t){e(kr,t.data)}))},pi=function(t){var e=t.commit;return Ha.getSectionList().then((function(t){e(xr,t.data)}))},mi=function(t){var e=t.dispatch,a=document.body.clientWidth;e("setScreenWidth",a),e("setIsPhoneSize",!!(a&&a<=600)),e("getProductList").then((function(){return e("getCategoryList")})).then((function(){return e("getArticleList")})).then((function(){return e("getTopicList")})).then((function(){return e("getHomeSectionList")})).then((function(){var t=window.localStorage.getItem("gatunUserId"),a=window.localStorage.getItem("gatunCart"),o=JSON.parse(a);o&&Array.isArray(o)?e("setCart",o):e("setCart",[]),t&&$.getUserById(t).then((function(a){a.success&&(e("setUser",a.user),e("getOrderHistory",t))}))}))},fi=function(t){return t.user},hi=function(t){return t.fullScreenLoading},gi=function(t){return t.productList},bi=function(t){var e={};return t.productList.forEach((function(t){e[t.productId]=t})),e},vi=function(t){return t.categoryList},yi=function(t){return t.productCategoryList},Ci=function(t){return t.articleList},Li=function(t){return t.topicList},wi=function(t){return t.topicCategoryList},Oi=function(t){return t.shoppingCart},Ti=function(t){return t.orderHistory},Di=function(t){return t.screenWidth},Si=function(t){return t.isPhoneSize},_i=function(t){var e=[];return t.homeSectionList.forEach((function(t){var a=JSON.parse(t.sectionData);a.sectionId=t.sectionId,e.push(a)})),e},Pi=a("ade3"),ki=(Zr={},Object(Pi["a"])(Zr,_r,(function(t,e){t.fullScreenLoading=e})),Object(Pi["a"])(Zr,Pr,(function(t,e){t.productList=e})),Object(Pi["a"])(Zr,kr,(function(t,e){t.categoryList=e})),Object(Pi["a"])(Zr,Er,(function(t,e){t.productCategoryList=e})),Object(Pi["a"])(Zr,Ir,(function(t,e){t.articleList=e})),Object(Pi["a"])(Zr,Nr,(function(t,e){t.topicList=e})),Object(Pi["a"])(Zr,jr,(function(t,e){t.topicCategoryList=e})),Object(Pi["a"])(Zr,xr,(function(t,e){t.homeSectionList=e})),Object(Pi["a"])(Zr,$r,(function(t,e){t.shoppingCart=e})),Object(Pi["a"])(Zr,Ar,(function(t,e){t.orderHistory=e})),Object(Pi["a"])(Zr,Ur,(function(t,e){t.user=e})),Object(Pi["a"])(Zr,Fr,(function(t,e){t.screenWidth=e})),Object(Pi["a"])(Zr,Wr,(function(t,e){t.isPhoneSize=e})),Zr),Ei=ki,Ii={fullScreenLoading:!1,productList:[],categoryList:[],productCategoryList:[],articleList:[],topicList:[],topicCategoryList:[],homeSectionList:[],shoppingCart:[],orderHistory:[],user:null,screenWidth:void 0,isPhoneSize:!1},Ni=Ii,ji=a("b054"),xi=a.n(ji);i["default"].use(p["a"]);var $i=!1,Ai=new p["a"].Store({state:Ni,actions:o,mutations:Ei,getters:r,strict:$i,plugins:$i?[xi()()]:[]}),Ui=a("eb29"),Fi=a("b2d6"),Wi=a.n(Fi),Mi=a("fe3c"),Ri=a.n(Mi);a("0fae"),a("7eef"),a("8f4c"),a("5c961"),a("144f");i["default"].use(n.a,{locale:Wi.a}),i["default"].use(c["e"],{}),i["default"].use(Ui["a"]),Ri.a.attach(document.body),i["default"].config.productionTip=!1,new i["default"]({router:Dr,store:Ai,render:function(t){return t(gt)}}).$mount("#app")},5736:function(t,e,a){},"5c961":function(t,e,a){},6129:function(t,e,a){},"63dd":function(t,e,a){"use strict";var o=a("08db"),r=a.n(o);r.a},6612:function(t,e,a){},6911:function(t,e,a){"use strict";var o=a("f368"),r=a.n(o);r.a},6971:function(t,e,a){"use strict";var o=a("d879"),r=a.n(o);r.a},"6a3c":function(t,e,a){},7365:function(t,e,a){"use strict";var o=a("1a2f"),r=a.n(o);r.a},"748c":function(t,e,a){"use strict";var o=a("2657"),r=a.n(o);r.a},"776a":function(t,e,a){"use strict";var o=a("e967"),r=a.n(o);r.a},"78ca":function(t,e,a){"use strict";var o=a("e5b5"),r=a.n(o);r.a},"7c55":function(t,e,a){"use strict";var o=a("3dab"),r=a.n(o);r.a},"7ccf":function(t,e,a){},8046:function(t,e,a){},"8f4c":function(t,e,a){},"941c":function(t,e,a){},"94c3":function(t,e,a){"use strict";var o=a("1462"),r=a.n(o);r.a},"970e":function(t,e,a){},9889:function(t,e,a){"use strict";var o=a("535e"),r=a.n(o);r.a},"9e62":function(t,e,a){"use strict";var o=a("6a3c"),r=a.n(o);r.a},"9e93":function(t,e,a){"use strict";var o=a("b6a4"),r=a.n(o);r.a},a294:function(t,e,a){"use strict";var o=a("7ccf"),r=a.n(o);r.a},afdc:function(t,e,a){},b6a4:function(t,e,a){},bd55:function(t,e,a){"use strict";var o=a("941c"),r=a.n(o);r.a},c0983:function(t,e,a){"use strict";var o=a("4f8b"),r=a.n(o);r.a},c694:function(t,e,a){"use strict";var o=a("366d"),r=a.n(o);r.a},c7c4:function(t,e,a){},ca74:function(t,e,a){"use strict";var o=a("f48d"),r=a.n(o);r.a},d879:function(t,e,a){},d9df:function(t,e,a){"use strict";var o=a("255d"),r=a.n(o);r.a},dc7b:function(t,e,a){"use strict";var o=a("6612"),r=a.n(o);r.a},de89:function(t,e,a){"use strict";var o=a("16b6"),r=a.n(o);r.a},df9b:function(t,e,a){},e5b5:function(t,e,a){},e7fa:function(t,e,a){"use strict";var o=a("2f10"),r=a.n(o);r.a},e967:function(t,e,a){},f208:function(t,e,a){},f368:function(t,e,a){},f48d:function(t,e,a){},f60a:function(t,e,a){"use strict";var o=a("df9b"),r=a.n(o);r.a}});
//# sourceMappingURL=app.0c785f34.js.map