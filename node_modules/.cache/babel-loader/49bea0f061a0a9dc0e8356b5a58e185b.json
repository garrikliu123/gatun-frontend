{"remainingRequest":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/ProductList/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/ProductList/index.vue","mtime":1586212463649},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMveGlhbmdsaXUvRGV2ZWxvcG1lbnQvUHJvamVjdHMveHh4L2FwZXJhLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgUHJvZHVjdExpc3QgZnJvbSAiY29tcG9uZW50cy9Qcm9kdWN0TGlzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgc2VjdGlvbklkOiB7CiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9CiAgfSwKICBkYXRlOiBmdW5jdGlvbiBkYXRlKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoewogICAgbWF0Y2hlZFNlY3Rpb246IGZ1bmN0aW9uIG1hdGNoZWRTZWN0aW9uKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHNlY3Rpb24gPSB0aGlzLmhvbWVTZWN0aW9uTGlzdC5maW5kKGZ1bmN0aW9uIChzZWN0aW9uKSB7CiAgICAgICAgaWYgKHNlY3Rpb24uc2VjdGlvbklkID09IF90aGlzLnNlY3Rpb25JZCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmICghc2VjdGlvbikgewogICAgICAgIHNlY3Rpb24gPSB7CiAgICAgICAgICBzdWNjZXNzOiBmYWxzZQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiBzZWN0aW9uOwogICAgfSwKICAgIG1hdGNoZWRQcm9kdWN0TGlzdDogZnVuY3Rpb24gbWF0Y2hlZFByb2R1Y3RMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBsaXN0ID0gW107CgogICAgICBpZiAodGhpcy5tYXRjaGVkU2VjdGlvbi5zZWN0aW9uQ29udGVudFR5cGUgPT0gMikgewogICAgICAgIHZhciBwcm9kdWN0TGlzdCA9IHRoaXMubWF0Y2hlZFNlY3Rpb24ucHJvZHVjdExpc3Q7CiAgICAgICAgcHJvZHVjdExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgIGlmIChfdGhpczIucHJvZHVjdExpc3RPYmpbaWRdKSB7CiAgICAgICAgICAgIHZhciBwID0gX3RoaXMyLnByb2R1Y3RMaXN0T2JqW2lkXTsKICAgICAgICAgICAgcC5wcm9kdWN0SW1hZ2VMaXN0ID0gSlNPTi5wYXJzZShwLnByb2R1Y3RJbWFnZXMpOwogICAgICAgICAgICBsaXN0LnB1c2gocCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5tYXRjaGVkU2VjdGlvbi5zZWN0aW9uQ29udGVudFR5cGUgPT0gMykgewogICAgICAgIHZhciBwcm9kdWN0SWRTZXQgPSBuZXcgU2V0KCk7CgogICAgICAgIGlmICh0aGlzLnByb2R1Y3RDYXRlZ29yeUxpc3QpIHsKICAgICAgICAgIHRoaXMucHJvZHVjdENhdGVnb3J5TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChfdGhpczIubWF0Y2hlZFNlY3Rpb24uY2F0ZWdvcnlMaXN0LmluY2x1ZGVzKGl0ZW0uY2F0ZWdvcnlJZCkpIHsKICAgICAgICAgICAgICBwcm9kdWN0SWRTZXQuYWRkKGl0ZW0ucHJvZHVjdElkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5wcm9kdWN0TGlzdCkgewogICAgICAgICAgdGhpcy5wcm9kdWN0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgICAgIGlmIChwcm9kdWN0SWRTZXQuaGFzKHByb2R1Y3QucHJvZHVjdElkKSkgewogICAgICAgICAgICAgIHByb2R1Y3QucHJvZHVjdEltYWdlTGlzdCA9IEpTT04ucGFyc2UocHJvZHVjdC5wcm9kdWN0SW1hZ2VzKTsKICAgICAgICAgICAgICBsaXN0LnB1c2gocHJvZHVjdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGxpc3Q7CiAgICB9CiAgfSwgbWFwR2V0dGVycyhbImhvbWVTZWN0aW9uTGlzdCIsICJwcm9kdWN0TGlzdE9iaiIsICJwcm9kdWN0TGlzdCIsICJwcm9kdWN0Q2F0ZWdvcnlMaXN0Il0pKSwKICB3YXRjaDogewogICAgbWF0Y2hlZFNlY3Rpb246IGZ1bmN0aW9uIG1hdGNoZWRTZWN0aW9uKHNlY3Rpb24pIHsKICAgICAgaWYgKHNlY3Rpb24gJiYgc2VjdGlvbi5zdWNjZXNzID09PSBmYWxzZSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgICJhcC1wcm9kdWN0LWxpc3QiOiBQcm9kdWN0TGlzdAogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAWA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,WAAA,MAAA,wBAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,OAAA,EAAA;AADA;AADA,GADA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA,EAAA;AACA,GARA;AASA,EAAA,QAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,UAAA,OAAA,GAAA,KAAA,eAAA,CAAA,IAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,OAAA,CAAA,SAAA,IAAA,KAAA,CAAA,SAAA,EAAA;AACA,iBAAA,IAAA;AACA;AACA,OAJA,CAAA;;AAMA,UAAA,CAAA,OAAA,EAAA;AACA,QAAA,OAAA,GAAA;AACA,UAAA,OAAA,EAAA;AADA,SAAA;AAGA;;AAEA,aAAA,OAAA;AACA,KAfA;AAgBA,IAAA,kBAhBA,gCAgBA;AAAA;;AACA,UAAA,IAAA,GAAA,EAAA;;AAEA,UAAA,KAAA,cAAA,CAAA,kBAAA,IAAA,CAAA,EAAA;AACA,YAAA,WAAA,GAAA,KAAA,cAAA,CAAA,WAAA;AACA,QAAA,WAAA,CAAA,OAAA,CAAA,UAAA,EAAA,EAAA;AACA,cAAA,MAAA,CAAA,cAAA,CAAA,EAAA,CAAA,EAAA;AACA,gBAAA,CAAA,GAAA,MAAA,CAAA,cAAA,CAAA,EAAA,CAAA;AACA,YAAA,CAAA,CAAA,gBAAA,GAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA,aAAA,CAAA;AACA,YAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AACA;AACA,SANA;AAOA,OATA,MASA,IAAA,KAAA,cAAA,CAAA,kBAAA,IAAA,CAAA,EAAA;AACA,YAAA,YAAA,GAAA,IAAA,GAAA,EAAA;;AACA,YAAA,KAAA,mBAAA,EAAA;AACA,eAAA,mBAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,gBAAA,MAAA,CAAA,cAAA,CAAA,YAAA,CAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,YAAA,CAAA,GAAA,CAAA,IAAA,CAAA,SAAA;AACA;AACA,WAJA;AAKA;;AAEA,YAAA,KAAA,WAAA,EAAA;AACA,eAAA,WAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,gBAAA,YAAA,CAAA,GAAA,CAAA,OAAA,CAAA,SAAA,CAAA,EAAA;AACA,cAAA,OAAA,CAAA,gBAAA,GAAA,IAAA,CAAA,KAAA,CAAA,OAAA,CAAA,aAAA,CAAA;AACA,cAAA,IAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,WALA;AAMA;AACA;;AAEA,aAAA,IAAA;AACA;AAjDA,KAmDA,UAAA,CAAA,CAAA,iBAAA,EAAA,gBAAA,EAAA,aAAA,EAAA,qBAAA,CAAA,CAnDA,CATA;AA8DA,EAAA,KAAA,EAAA;AACA,IAAA,cADA,0BACA,OADA,EACA;AACA,UAAA,OAAA,IAAA,OAAA,CAAA,OAAA,KAAA,KAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA;AALA,GA9DA;AAqEA,EAAA,UAAA,EAAA;AACA,uBAAA;AADA;AArEA,CAAA","sourcesContent":["<template>\n  <div>\n    <ap-product-list\n      class=\"product-list\"\n      :title=\"matchedSection.sectionName\"\n      :productList=\"matchedProductList\"\n    ></ap-product-list>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport ProductList from \"components/ProductList\";\nexport default {\n  props: {\n    sectionId: {\n      default: \"\",\n    },\n  },\n  date() {\n    return {};\n  },\n  computed: {\n    matchedSection() {\n      let section = this.homeSectionList.find((section) => {\n        if (section.sectionId == this.sectionId) {\n          return true;\n        }\n      });\n\n      if (!section) {\n        section = {\n          success: false,\n        };\n      }\n\n      return section;\n    },\n    matchedProductList() {\n      const list = [];\n\n      if (this.matchedSection.sectionContentType == 2) {\n        const productList = this.matchedSection.productList;\n        productList.forEach((id) => {\n          if (this.productListObj[id]) {\n            const p = this.productListObj[id];\n            p.productImageList = JSON.parse(p.productImages);\n            list.push(p);\n          }\n        });\n      } else if (this.matchedSection.sectionContentType == 3) {\n        const productIdSet = new Set();\n        if (this.productCategoryList) {\n          this.productCategoryList.forEach((item) => {\n            if (this.matchedSection.categoryList.includes(item.categoryId)) {\n              productIdSet.add(item.productId);\n            }\n          });\n        }\n\n        if (this.productList) {\n          this.productList.forEach((product) => {\n            if (productIdSet.has(product.productId)) {\n              product.productImageList = JSON.parse(product.productImages);\n              list.push(product);\n            }\n          });\n        }\n      }\n\n      return list;\n    },\n\n    ...mapGetters([\"homeSectionList\", \"productListObj\", \"productList\", \"productCategoryList\"]),\n  },\n  watch: {\n    matchedSection(section) {\n      if (section && section.success === false) {\n        this.$router.push(\"/\");\n      }\n    },\n  },\n  components: {\n    \"ap-product-list\": ProductList,\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.product-list {\n  margin-top: 50px;\n}\n</style>\n"],"sourceRoot":"src/views/ProductList"}]}