{"remainingRequest":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/Account/myOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/Account/myOrder.vue","mtime":1587604468215},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3hpYW5nbGl1L0RldmVsb3BtZW50L1Byb2plY3RzL3h4eC9hcGVyYS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBfIGZyb20gImxvZGFzaCI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcmRlckxpc3Q6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJvcmRlckhpc3RvcnkiLCAiaXNQaG9uZVNpemUiXSkpLAogIHdhdGNoOiB7CiAgICBvcmRlckhpc3Rvcnk6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKGxpc3QpIHsKICAgICAgICB0aGlzLm9yZGVyTGlzdCA9IF8uY2xvbmVEZWVwKGxpc3QpOwogICAgICAgIHRoaXMub3JkZXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKG9yZGVyKSB7CiAgICAgICAgICB2YXIgdG90YWwgPSAwOwogICAgICAgICAgb3JkZXIub3JkZXJEZXRhaWwuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICB0b3RhbCArPSBpdGVtLmFtb3VudCAqIGl0ZW0ucXVhbnRpdHk7CiAgICAgICAgICB9KTsKICAgICAgICAgIG9yZGVyLnRvdGFsID0gdG90YWwgLyAxMDA7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpICsgIi8iICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpICsgIi8iICsgZGF0ZS5nZXREYXRlKCkgKyAiICIgKyBkYXRlLmdldEhvdXJzKCkgKyAiOiIgKyBkYXRlLmdldE1pbnV0ZXMoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["myOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA,OAAA,CAAA,MAAA,QAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,cAAA,EAAA,aAAA,CAAA,CADA,CANA;AAUA,EAAA,KAAA,EAAA;AACA,IAAA,YAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,mBAEA,IAFA,EAEA;AACA,aAAA,SAAA,GAAA,CAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,aAAA,SAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,cAAA,KAAA,GAAA,CAAA;AACA,UAAA,KAAA,CAAA,WAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,KAAA,IAAA,IAAA,CAAA,MAAA,GAAA,IAAA,CAAA,QAAA;AACA,WAFA;AAGA,UAAA,KAAA,CAAA,KAAA,GAAA,KAAA,GAAA,GAAA;AACA,SANA;AAOA;AAXA;AADA,GAVA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,IADA,EACA;AACA,aACA,IAAA,CAAA,WAAA,KACA,GADA,IAEA,IAAA,CAAA,QAAA,KAAA,CAFA,IAGA,GAHA,GAIA,IAAA,CAAA,OAAA,EAJA,GAKA,GALA,GAMA,IAAA,CAAA,QAAA,EANA,GAOA,GAPA,GAQA,IAAA,CAAA,UAAA,EATA;AAWA;AAbA;AA1BA,CAAA","sourcesContent":["<template>\n  <div class=\"ap-account-order\">\n    <el-collapse accordion>\n      <el-collapse-item v-for=\"(item, index) in orderList\" :key=\"index\" :name=\"item.orderId\">\n        <template slot=\"title\">\n          <div class=\"collapse-title\">\n            <div class=\"title-row id-row\">\n              <div class=\"order-id-group\">\n                <i class=\"icon el-icon-postcard\"></i>\n                <span class=\"field\">Order ID:</span>\n              </div>\n              <span class=\"content\">{{ item.orderId }}</span>\n              <el-divider direction=\"vertical\" v-if=\"!isPhoneSize\"></el-divider>\n            </div>\n\n            <div class=\"title-row\">\n              <i class=\"icon el-icon-date\"></i>\n              <span class=\"field\">Order Time:</span>\n              <span class=\"content\">{{ formatDate(new Date(item.createTime)) }}</span>\n              <el-divider direction=\"vertical\" v-if=\"!isPhoneSize\"></el-divider>\n            </div>\n\n            <div class=\"title-row\">\n              <i class=\"icon el-icon-money\"></i>\n              <span class=\"field\">Total:</span>\n              <span class=\"content\" v-if=\"item.total >= 1000\" v-format=\"'CAD $#,##0.00'\">\n                {{ item.total }}\n              </span>\n              <span class=\"content\" v-else v-format=\"'CAD $##0.00'\">\n                {{ item.total }}\n              </span>\n            </div>\n          </div>\n        </template>\n        <div class=\"shipping\">\n          <div class=\"shipping-row\">\n            <span class=\"shipping-field\">Name:</span>\n            {{ item.orderShipping.name }}\n          </div>\n          <div class=\"shipping-row\">\n            <span class=\"shipping-field\">Address 1:</span>\n            {{ item.orderShipping.line1 }}\n          </div>\n          <div class=\"shipping-row\">\n            <span class=\"shipping-field\">Address 2:</span>\n            {{ item.orderShipping.line2 }}\n          </div>\n          <div class=\"shipping-row\">\n            <span class=\"shipping-field\">City:</span>\n            {{ item.orderShipping.city }}\n          </div>\n          <div class=\"shipping-row\">\n            <span class=\"shipping-field\">State:</span>\n            {{ item.orderShipping.state }}\n          </div>\n          <div class=\"shipping-row\">\n            <span class=\"shipping-field\">Country:</span>\n            {{ item.orderShipping.country }}\n          </div>\n          <div class=\"shipping-row\">\n            <span class=\"shipping-field\">Postal Code:</span>\n            {{ item.orderShipping.postal_code }}\n          </div>\n        </div>\n        <el-divider></el-divider>\n        <div class=\"product-item\" v-for=\"(product, index) in item.orderDetail\" :key=\"index\">\n          <div class=\"product-wrap\">\n            <el-image\n              style=\"width: 100px; height: 100px\"\n              :src=\"product.imageUrl\"\n              fit=\"contain\"\n            ></el-image>\n            <div class=\"text-group\">\n              <span class=\"detail-field\">\n                <span class=\"detail-field-title\">Name:</span>\n                {{ product.name }}\n              </span>\n              <!-- <span class=\"detail-field\">\n                <span class=\"detail-field-title\">Description:</span>\n                {{ product.description }}\n              </span> -->\n              <span class=\"detail-field\">\n                <span class=\"detail-field-title\">Quantity:</span>\n                {{ product.quantity }}\n              </span>\n            </div>\n            <div class=\"right-group\">\n              <div\n                class=\"price\"\n                v-if=\"(product.amount / 100) * product.quantity >= 1000\"\n                v-format=\"'$#,##0.00'\"\n              >\n                {{ (product.amount / 100) * product.quantity }}\n              </div>\n              <div class=\"price\" v-else v-format=\"'$##0.00'\">\n                {{ (product.amount / 100) * product.quantity }}\n              </div>\n            </div>\n          </div>\n          <el-divider></el-divider>\n        </div>\n      </el-collapse-item>\n    </el-collapse>\n  </div>\n</template>\n<script>\nimport _ from \"lodash\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      orderList: []\n    };\n  },\n  computed: {\n    ...mapGetters([\"orderHistory\", \"isPhoneSize\"])\n  },\n\n  watch: {\n    orderHistory: {\n      immediate: true,\n      handler(list) {\n        this.orderList = _.cloneDeep(list);\n        this.orderList.forEach(order => {\n          let total = 0;\n          order.orderDetail.forEach(item => {\n            total += item.amount * item.quantity;\n          });\n          order.total = total / 100;\n        });\n      }\n    }\n  },\n\n  methods: {\n    formatDate(date) {\n      return (\n        date.getFullYear() +\n        \"/\" +\n        (date.getMonth() + 1) +\n        \"/\" +\n        date.getDate() +\n        \" \" +\n        date.getHours() +\n        \":\" +\n        date.getMinutes()\n      );\n    }\n  }\n};\n</script>\n<style lang=\"less\">\n.ap-account-order {\n  .collapse-title {\n    display: flex;\n    .title-row {\n      display: flex;\n      align-items: center;\n    }\n    .icon {\n      font-size: 1.2em;\n      margin-right: 5px;\n    }\n\n    .field {\n      font-size: 1.2em;\n      font-weight: bold;\n      margin-right: 10px;\n    }\n\n    .content {\n      color: #697386;\n    }\n  }\n\n  .el-collapse-item__content {\n    background-color: #f5f7fa !important;\n  }\n\n  .product-item {\n    .product-wrap {\n      display: flex;\n      padding: 0 20px;\n    }\n\n    .el-divider {\n      margin: 20px;\n    }\n    .text-group {\n      width: 400px;\n      padding-top: 10px;\n      padding-left: 20px;\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n\n      .detail-field {\n        font-size: 1.2em;\n        word-break: break-all;\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 3;\n        text-align: left;\n      }\n\n      .detail-field-title {\n        font-weight: bold;\n      }\n    }\n\n    .right-group {\n      .price {\n        margin-top: 10px;\n        margin-left: 20px;\n        font-size: 1.5em;\n        font-weight: bold;\n      }\n    }\n  }\n\n  .shipping {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    padding: 10px 20px;\n\n    .shipping-row {\n      font-size: 1.2em;\n    }\n\n    .shipping-field {\n      font-weight: bold;\n      margin-right: 5px;\n    }\n  }\n}\n\n.is_phone .el-collapse-item__header {\n  height: 200px;\n}\n\n.is_phone .collapse-title {\n  display: flex;\n  flex-direction: column;\n}\n\n.is_phone .order-id-group {\n  flex: 0 0 auto;\n}\n</style>\n"],"sourceRoot":"src/views/Account"}]}