{"remainingRequest":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/thread-loader/dist/cjs.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/Manage/TopicEditTab.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/Manage/TopicEditTab.vue","mtime":1586194007644},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3hpYW5nbGl1L0RldmVsb3BtZW50L1Byb2plY3RzL3h4eC9hcGVyYS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHRvcGljQ29uZmlnIGZyb20gIi4vY29uZmlnL3RvcGljX2NvbmZpZy5qcyI7CmltcG9ydCB0b3BpY0FwaSBmcm9tICJhcGkvdG9waWMiOwppbXBvcnQgdG9waWNUYWJsZUNvbmZpZyBmcm9tICIuL2NvbmZpZy90b3BpY190YWJsZV9jb25maWcuanMiOwppbXBvcnQgQWRkVG9waWNEaWFsb2cgZnJvbSAiLi9BZGRUb3BpY0RpYWxvZyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kZTogdG9waWNDb25maWcuTU9ERS5ORVcsCiAgICAgIHNlYXJjaDogIiIsCiAgICAgIHRvcGljVGFibGVDb25maWc6IHRvcGljVGFibGVDb25maWcsCiAgICAgIHRvcGljVHlwZTogdG9waWNUYWJsZUNvbmZpZy50eXBlT3B0aW9uc1swXS52YWx1ZSwKICAgICAgdGFyZ2V0VG9waWM6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbInRvcGljTGlzdCIsICJ0b3BpY0NhdGVnb3J5TGlzdCJdKSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7CiAgICBoYW5kbGVUb3BpY0FkZDogZnVuY3Rpb24gaGFuZGxlVG9waWNBZGQoKSB7CiAgICAgIHRoaXMubW9kZSA9IHRvcGljQ29uZmlnLk1PREUuTkVXOwogICAgICB0aGlzLiRyZWZzLmFkZFRvcGljRGlhbG9nLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnRhcmdldFRvcGljID0gewogICAgICAgIHRvcGljTmFtZTogIiIsCiAgICAgICAgdG9waWNUeXBlOiB0b3BpY1RhYmxlQ29uZmlnLnR5cGVPcHRpb25zWzBdLnZhbHVlLAogICAgICAgIGNhdGVnb3J5TGlzdDogbnVsbCwKICAgICAgICB0b3BpY0ltYWdlOiAiIgogICAgICB9OwogICAgfSwKICAgIGhhbmRsZVRvcGljRWRpdDogZnVuY3Rpb24gaGFuZGxlVG9waWNFZGl0KHRvcGljKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLm1vZGUgPSB0b3BpY0NvbmZpZy5NT0RFLkVESVQ7CiAgICAgIHRoaXMuJHJlZnMuYWRkVG9waWNEaWFsb2cuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMudGFyZ2V0VG9waWMgPSB0b3BpYzsKICAgICAgdmFyIGxpc3QgPSBbXTsKICAgICAgdGhpcy50b3BpY0NhdGVnb3J5TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0udG9waWNJZCA9PSBfdGhpcy50YXJnZXRUb3BpYy50b3BpY0lkKSB7CiAgICAgICAgICBsaXN0LnB1c2goaXRlbS5jYXRlZ29yeUlkKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnRhcmdldFRvcGljLmNhdGVnb3J5TGlzdCA9IGxpc3Q7CiAgICB9LAogICAgaGFuZGxlVG9waWNEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZVRvcGljRGVsZXRlKHRvcGljKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGlkID0gdG9waWMudG9waWNJZDsKICAgICAgdmFyIG5hbWUgPSB0b3BpYy50b3BpY05hbWU7CiAgICAgIHRoaXMuJGNvbmZpcm0oIkRvIHlvdSB3YW50IHRvIGRlbGV0ZSBcIiIuY29uY2F0KG5hbWUsICJcIj8gIiksICJEZWxldGUgQWN0aW9uIiwgewogICAgICAgIGRpc3Rpbmd1aXNoQ2FuY2VsQW5kQ2xvc2U6IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJEZWxldGUiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJDYW5jZWwiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHRvcGljQXBpLmRlbGV0ZVRvcGljKGlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5nZXRUb3BpY0xpc3QoKTsKCiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJEZWxldGUgU3VjY2VzcyIKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCBtYXBBY3Rpb25zKFsiZ2V0VG9waWNMaXN0Il0pKSwKICBjb21wb25lbnRzOiB7CiAgICAiYXAtYWRkdG9waWMtZGlhbG9nIjogQWRkVG9waWNEaWFsb2cKICB9Cn07"},{"version":3,"sources":["TopicEditTab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,WAAA,MAAA,0BAAA;AACA,OAAA,QAAA,MAAA,WAAA;AACA,OAAA,gBAAA,MAAA,gCAAA;AACA,OAAA,cAAA,MAAA,kBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,WAAA,CAAA,IAAA,CAAA,GADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,gBAAA,EAAA,gBAHA;AAIA,MAAA,SAAA,EAAA,gBAAA,CAAA,WAAA,CAAA,CAAA,EAAA,KAJA;AAKA,MAAA,WAAA,EAAA;AALA,KAAA;AAOA,GATA;AAWA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,WAAA,EAAA,mBAAA,CAAA,CADA,CAXA;AAeA,EAAA,OAAA;AACA,IAAA,cADA,4BACA;AACA,WAAA,IAAA,GAAA,WAAA,CAAA,IAAA,CAAA,GAAA;AACA,WAAA,KAAA,CAAA,cAAA,CAAA,aAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAAA;AACA,QAAA,SAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA,gBAAA,CAAA,WAAA,CAAA,CAAA,EAAA,KAFA;AAGA,QAAA,YAAA,EAAA,IAHA;AAIA,QAAA,UAAA,EAAA;AAJA,OAAA;AAMA,KAVA;AAYA,IAAA,eAZA,2BAYA,KAZA,EAYA;AAAA;;AACA,WAAA,IAAA,GAAA,WAAA,CAAA,IAAA,CAAA,IAAA;AACA,WAAA,KAAA,CAAA,cAAA,CAAA,aAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAAA,KAAA;AAEA,UAAA,IAAA,GAAA,EAAA;AAEA,WAAA,iBAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,OAAA,IAAA,KAAA,CAAA,WAAA,CAAA,OAAA,EAAA;AACA,UAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA;AACA;AACA,OAJA;AAKA,WAAA,WAAA,CAAA,YAAA,GAAA,IAAA;AACA,KAzBA;AA2BA,IAAA,iBA3BA,6BA2BA,KA3BA,EA2BA;AAAA;;AACA,UAAA,EAAA,GAAA,KAAA,CAAA,OAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,SAAA;AAEA,WAAA,QAAA,mCAAA,IAAA,WAAA,eAAA,EAAA;AACA,QAAA,yBAAA,EAAA,IADA;AAEA,QAAA,iBAAA,EAAA,QAFA;AAGA,QAAA,gBAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,YAAA;AACA,QAAA,QAAA,CAAA,WAAA,CAAA,EAAA,EAAA,IAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,YAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,IAAA,EAAA,SADA;AAEA,YAAA,OAAA,EAAA;AAFA,WAAA;AAIA,SANA;AAOA,OAZA;AAaA;AA5CA,KA8CA,UAAA,CAAA,CAAA,cAAA,CAAA,CA9CA,CAfA;AAgEA,EAAA,UAAA,EAAA;AACA,0BAAA;AADA;AAhEA,CAAA","sourcesContent":["<template>\n  <div class=\"ap-topic-edit-tab\">\n    <!-- Add new product button 添加新产品按钮 -->\n    <div class=\"add-btn-container\">\n      <el-button type=\"primary\" @click=\"handleTopicAdd\">ADD TOPIC</el-button>\n    </div>\n\n    <el-table\n      class=\"topic-table\"\n      max-height=\"650\"\n      style=\"width: 100%;\"\n      :data=\"\n        topicList.filter(\n          (data) =>\n            (!search || data.topicName.toLowerCase().includes(search.toLowerCase())) &&\n            data.topicType === topicType\n        )\n      \"\n    >\n      <el-table-column\n        v-for=\"(config, index) in topicTableConfig.rows\"\n        :key=\"index\"\n        :prop=\"config.key\"\n        :label=\"config.label\"\n        :width=\"config.width\"\n      >\n      </el-table-column>\n\n      <!-- Product Operation Column 商品操作列（修改，删除） -->\n      <el-table-column align=\"right\">\n        <template slot=\"header\" slot-scope=\"scope\">\n          <div class=\"header-control\">\n            <el-select class=\"ap-select\" v-model=\"topicType\" placeholder=\"Select the type\">\n              <el-option\n                v-for=\"item in topicTableConfig.typeOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n            <el-input v-model=\"search\" placeholder=\"Please enter keyword\" />\n            <span style=\"display: none;\">{{ scope.$index }}</span>\n          </div>\n        </template>\n        <template slot-scope=\"scope\">\n          <el-button @click=\"handleTopicEdit(scope.row)\">\n            Edit\n          </el-button>\n          <el-button type=\"danger\" @click=\"handleTopicDelete(scope.row)\">\n            Delete\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <ap-addtopic-dialog\n      ref=\"addTopicDialog\"\n      :mode=\"mode\"\n      :targetTopic=\"targetTopic\"\n    ></ap-addtopic-dialog>\n  </div>\n</template>\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport topicConfig from \"./config/topic_config.js\";\nimport topicApi from \"api/topic\";\nimport topicTableConfig from \"./config/topic_table_config.js\";\nimport AddTopicDialog from \"./AddTopicDialog\";\nexport default {\n  data() {\n    return {\n      mode: topicConfig.MODE.NEW,\n      search: \"\",\n      topicTableConfig,\n      topicType: topicTableConfig.typeOptions[0].value,\n      targetTopic: null,\n    };\n  },\n\n  computed: {\n    ...mapGetters([\"topicList\", \"topicCategoryList\"]),\n  },\n\n  methods: {\n    handleTopicAdd() {\n      this.mode = topicConfig.MODE.NEW;\n      this.$refs.addTopicDialog.dialogVisible = true;\n      this.targetTopic = {\n        topicName: \"\",\n        topicType: topicTableConfig.typeOptions[0].value,\n        categoryList: null,\n        topicImage: \"\",\n      };\n    },\n\n    handleTopicEdit(topic) {\n      this.mode = topicConfig.MODE.EDIT;\n      this.$refs.addTopicDialog.dialogVisible = true;\n      this.targetTopic = topic;\n\n      const list = [];\n\n      this.topicCategoryList.forEach((item) => {\n        if (item.topicId == this.targetTopic.topicId) {\n          list.push(item.categoryId);\n        }\n      });\n      this.targetTopic.categoryList = list;\n    },\n\n    handleTopicDelete(topic) {\n      const id = topic.topicId;\n      const name = topic.topicName;\n\n      this.$confirm(`Do you want to delete \"${name}\"? `, \"Delete Action\", {\n        distinguishCancelAndClose: true,\n        confirmButtonText: \"Delete\",\n        cancelButtonText: \"Cancel\",\n      }).then(() => {\n        topicApi.deleteTopic(id).then(() => {\n          this.getTopicList();\n          this.$message({\n            type: \"success\",\n            message: \"Delete Success\",\n          });\n        });\n      });\n    },\n\n    ...mapActions([\"getTopicList\"]),\n  },\n\n  components: {\n    \"ap-addtopic-dialog\": AddTopicDialog,\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n.ap-topic-edit-tab {\n  .add-btn-container {\n    width: 100%;\n    display: flex;\n  }\n\n  .topic-table {\n    margin-top: 20px;\n    .header-control {\n      display: flex;\n    }\n\n    .ap-select {\n      margin-right: 20px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/Manage"}]}