{"remainingRequest":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/store/actions.js","dependencies":[{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/store/actions.js","mtime":1586231541531},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHlwZXMgZnJvbSAiLi9tdXRhdGlvbi10eXBlIjsKaW1wb3J0IGNhdGVnb3J5QXBpIGZyb20gImFwaS9jYXRlZ29yeSI7CmltcG9ydCBwcm9kdWN0QXBpIGZyb20gImFwaS9wcm9kdWN0IjsKaW1wb3J0IHByb2R1Y3RDYXRlZ29yeUFwaSBmcm9tICJhcGkvcHJvZHVjdENhdGVnb3J5IjsKaW1wb3J0IHRvcGljQ2F0ZWdvcnlBcGkgZnJvbSAiYXBpL3RvcGljQ2F0ZWdvcnkiOwppbXBvcnQgYXJ0aWNsZUFwaSBmcm9tICJhcGkvYXJ0aWNsZSI7CmltcG9ydCB0b3BpY0FwaSBmcm9tICJhcGkvdG9waWMiOwppbXBvcnQgaG9tZVNlY3Rpb25BcGkgZnJvbSAiYXBpL2hvbWVTZWN0aW9uIjsKaW1wb3J0IHVzZXJBcGkgZnJvbSAiYXBpL3VzZXIiOwpleHBvcnQgdmFyIHNldEZ1bGxTY3JlZW5Mb2FkaW5nID0gZnVuY3Rpb24gc2V0RnVsbFNjcmVlbkxvYWRpbmcoX3JlZiwgdmFsdWUpIHsKICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgY29tbWl0KHR5cGVzLlNFVF9GVUxMU0NSRUVOX0xPQURJTkcsIHZhbHVlKTsKfTsKZXhwb3J0IHZhciBzZXRVc2VyID0gZnVuY3Rpb24gc2V0VXNlcihfcmVmMiwgdmFsdWUpIHsKICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogIGNvbW1pdCh0eXBlcy5TRVRfVVNFUiwgdmFsdWUpOwogIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlckVtYWlsJywgdmFsdWUudXNlckVtYWlsKTsKfTsKZXhwb3J0IHZhciBsb2dvdXQgPSBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogIGNvbW1pdCh0eXBlcy5TRVRfVVNFUiwgbnVsbCk7CiAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyRW1haWwnKTsKfTsKZXhwb3J0IHZhciBnZXRQcm9kdWN0TGlzdCA9IGZ1bmN0aW9uIGdldFByb2R1Y3RMaXN0KF9yZWY0KSB7CiAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICByZXR1cm4gcHJvZHVjdEFwaS5nZXRQcm9kdWN0TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlczEpIHsKICAgIHByb2R1Y3RDYXRlZ29yeUFwaS5nZXRQcm9kdWN0Q2F0ZWdvcnlMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzMikgewogICAgICBjb21taXQodHlwZXMuU0VUX1BST0RVQ1RfTElTVCwgcmVzMS5kYXRhKTsKICAgICAgY29tbWl0KHR5cGVzLlNFVF9QUk9EVUNUX0NBVEVHT1JZX0xJU1QsIHJlczIuZGF0YSk7CiAgICB9KTsKICB9KTsKfTsKZXhwb3J0IHZhciBnZXRBcnRpY2xlTGlzdCA9IGZ1bmN0aW9uIGdldEFydGljbGVMaXN0KF9yZWY1KSB7CiAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICByZXR1cm4gYXJ0aWNsZUFwaS5nZXRBcnRpY2xlTGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgY29tbWl0KHR5cGVzLlNFVF9BUlRJQ0xFX0xJU1QsIHJlcy5kYXRhKTsKICB9KTsKfTsKZXhwb3J0IHZhciBnZXRUb3BpY0xpc3QgPSBmdW5jdGlvbiBnZXRUb3BpY0xpc3QoX3JlZjYpIHsKICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogIHJldHVybiB0b3BpY0FwaS5nZXRUb3BpY0xpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMxKSB7CiAgICB0b3BpY0NhdGVnb3J5QXBpLmdldFRvcGljQ2F0ZWdvcnlMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzMikgewogICAgICBjb21taXQodHlwZXMuU0VUX1RPUElDX0xJU1QsIHJlczEuZGF0YSk7CiAgICAgIGNvbW1pdCh0eXBlcy5TRVRfVE9QSUNfQ0FURUdPUllfTElTVCwgcmVzMi5kYXRhKTsKICAgIH0pOwogIH0pOwp9OwpleHBvcnQgdmFyIGdldENhdGVnb3J5TGlzdCA9IGZ1bmN0aW9uIGdldENhdGVnb3J5TGlzdChfcmVmNykgewogIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQ7CiAgcmV0dXJuIGNhdGVnb3J5QXBpLmdldENhdGVnb3J5TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgY29tbWl0KHR5cGVzLlNFVF9DQVRFR09SWV9MSVNULCByZXMuZGF0YSk7CiAgfSk7Cn07CmV4cG9ydCB2YXIgZ2V0SG9tZVNlY3Rpb25MaXN0ID0gZnVuY3Rpb24gZ2V0SG9tZVNlY3Rpb25MaXN0KF9yZWY4KSB7CiAgdmFyIGNvbW1pdCA9IF9yZWY4LmNvbW1pdDsKICByZXR1cm4gaG9tZVNlY3Rpb25BcGkuZ2V0U2VjdGlvbkxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgIGNvbW1pdCh0eXBlcy5TRVRfSE9NRV9TRUNUSU9OX0xJU1QsIHJlcy5kYXRhKTsKICB9KTsKfTsgLy8g5ZCv5Yqo5pKt5pS+5ZmoCgpleHBvcnQgdmFyIGluaXRTaXRlID0gZnVuY3Rpb24gaW5pdFNpdGUoX3JlZjkpIHsKICB2YXIgZGlzcGF0Y2ggPSBfcmVmOS5kaXNwYXRjaDsKICBkaXNwYXRjaCgiZ2V0UHJvZHVjdExpc3QiKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkaXNwYXRjaCgiZ2V0Q2F0ZWdvcnlMaXN0Iik7CiAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZGlzcGF0Y2goImdldEFydGljbGVMaXN0Iik7CiAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZGlzcGF0Y2goImdldFRvcGljTGlzdCIpOwogIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGRpc3BhdGNoKCJnZXRIb21lU2VjdGlvbkxpc3QiKTsKICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIHZhciBlbWFpbCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlckVtYWlsIik7CgogICAgaWYgKGVtYWlsKSB7CiAgICAgIHVzZXJBcGkuZ2V0VXNlckJ5RW1haWwoZW1haWwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgZGlzcGF0Y2goInNldFVzZXIiLCB7CiAgICAgICAgICAgIHVzZXJFbWFpbDogcmVzLmRhdGEudXNlckVtYWlsLAogICAgICAgICAgICBpc01hbmFnZXI6IHJlcy5kYXRhLnVzZXJUeXBlID09ICdtYW5hZ2VyJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9KTsKfTs="},{"version":3,"sources":["/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/store/actions.js"],"names":["types","categoryApi","productApi","productCategoryApi","topicCategoryApi","articleApi","topicApi","homeSectionApi","userApi","setFullScreenLoading","value","commit","SET_FULLSCREEN_LOADING","setUser","SET_USER","window","localStorage","setItem","userEmail","logout","removeItem","getProductList","then","res1","getProductCategoryList","res2","SET_PRODUCT_LIST","data","SET_PRODUCT_CATEGORY_LIST","getArticleList","res","SET_ARTICLE_LIST","getTopicList","getTopicCategoryList","SET_TOPIC_LIST","SET_TOPIC_CATEGORY_LIST","getCategoryList","SET_CATEGORY_LIST","getHomeSectionList","getSectionList","SET_HOME_SECTION_LIST","initSite","dispatch","email","getItem","getUserByEmail","success","isManager","userType"],"mappings":"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","sourcesContent":["import * as types from \"./mutation-type\";\n\nimport categoryApi from \"api/category\";\nimport productApi from \"api/product\";\nimport productCategoryApi from \"api/productCategory\";\nimport topicCategoryApi from \"api/topicCategory\";\nimport articleApi from \"api/article\";\nimport topicApi from \"api/topic\";\nimport homeSectionApi from \"api/homeSection\";\nimport userApi from \"api/user\";\n\nexport const setFullScreenLoading = function({\n    commit\n}, value) {\n    commit(types.SET_FULLSCREEN_LOADING, value);\n\n};\n\nexport const setUser = function({\n    commit\n}, value) {\n    commit(types.SET_USER, value);\n    window.localStorage.setItem('userEmail', value.userEmail);\n};\n\nexport const logout = function({\n    commit\n}) {\n    commit(types.SET_USER, null);\n    window.localStorage.removeItem('userEmail');\n};\n\n\nexport const getProductList = function({\n    commit\n}) {\n    return productApi.getProductList().then(res1 => {\n        productCategoryApi.getProductCategoryList().then(res2 => {\n            commit(types.SET_PRODUCT_LIST, res1.data);\n            commit(types.SET_PRODUCT_CATEGORY_LIST, res2.data);\n        })\n\n    })\n};\n\nexport const getArticleList = function({\n    commit\n}) {\n    return articleApi.getArticleList().then(res => {\n        commit(types.SET_ARTICLE_LIST, res.data);\n    })\n};\n\nexport const getTopicList = function({\n    commit\n}) {\n    return topicApi.getTopicList().then(res1 => {\n        topicCategoryApi.getTopicCategoryList().then(res2 => {\n            commit(types.SET_TOPIC_LIST, res1.data);\n            commit(types.SET_TOPIC_CATEGORY_LIST, res2.data);\n        })\n    })\n};\n\nexport const getCategoryList = function({\n    commit\n}) {\n    return categoryApi.getCategoryList().then(res => {\n        commit(types.SET_CATEGORY_LIST, res.data);\n    })\n};\n\nexport const getHomeSectionList = function({\n    commit\n}) {\n    return homeSectionApi.getSectionList().then(res => {\n        commit(types.SET_HOME_SECTION_LIST, res.data);\n    })\n};\n\n\n// 启动播放器\nexport const initSite = function({\n    dispatch,\n}) {\n    dispatch(\"getProductList\").then(() => {\n        return dispatch(\"getCategoryList\");\n    }).then(() => {\n        return dispatch(\"getArticleList\");\n    }).then(() => {\n        return dispatch(\"getTopicList\");\n    }).then(() => {\n        return dispatch(\"getHomeSectionList\");\n    }).then(() => {\n        const email = window.localStorage.getItem(\"userEmail\");\n        if (email) {\n            userApi.getUserByEmail(email).then(res => {\n                if (res.success) {\n                    dispatch(\"setUser\", {\n                        userEmail: res.data.userEmail,\n                        isManager: res.data.userType == 'manager'\n                    })\n                }\n            })\n        }\n    })\n};"]}]}