{"remainingRequest":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/ProductList/index.vue?vue&type=style&index=0&id=15fe4ba6&lang=less&scoped=true&","dependencies":[{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/ProductList/index.vue","mtime":1586212463649},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/sass-resources-loader/lib/loader.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucHJvZHVjdC1saXN0IHsKICBtYXJnaW4tdG9wOiA1MHB4Owp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/ProductList","sourcesContent":["<template>\n  <div>\n    <ap-product-list\n      class=\"product-list\"\n      :title=\"matchedSection.sectionName\"\n      :productList=\"matchedProductList\"\n    ></ap-product-list>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport ProductList from \"components/ProductList\";\nexport default {\n  props: {\n    sectionId: {\n      default: \"\",\n    },\n  },\n  date() {\n    return {};\n  },\n  computed: {\n    matchedSection() {\n      let section = this.homeSectionList.find((section) => {\n        if (section.sectionId == this.sectionId) {\n          return true;\n        }\n      });\n\n      if (!section) {\n        section = {\n          success: false,\n        };\n      }\n\n      return section;\n    },\n    matchedProductList() {\n      const list = [];\n\n      if (this.matchedSection.sectionContentType == 2) {\n        const productList = this.matchedSection.productList;\n        productList.forEach((id) => {\n          if (this.productListObj[id]) {\n            const p = this.productListObj[id];\n            p.productImageList = JSON.parse(p.productImages);\n            list.push(p);\n          }\n        });\n      } else if (this.matchedSection.sectionContentType == 3) {\n        const productIdSet = new Set();\n        if (this.productCategoryList) {\n          this.productCategoryList.forEach((item) => {\n            if (this.matchedSection.categoryList.includes(item.categoryId)) {\n              productIdSet.add(item.productId);\n            }\n          });\n        }\n\n        if (this.productList) {\n          this.productList.forEach((product) => {\n            if (productIdSet.has(product.productId)) {\n              product.productImageList = JSON.parse(product.productImages);\n              list.push(product);\n            }\n          });\n        }\n      }\n\n      return list;\n    },\n\n    ...mapGetters([\"homeSectionList\", \"productListObj\", \"productList\", \"productCategoryList\"]),\n  },\n  watch: {\n    matchedSection(section) {\n      if (section && section.success === false) {\n        this.$router.push(\"/\");\n      }\n    },\n  },\n  components: {\n    \"ap-product-list\": ProductList,\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.product-list {\n  margin-top: 50px;\n}\n</style>\n"]}]}