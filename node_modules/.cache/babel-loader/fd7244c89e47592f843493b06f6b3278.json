{"remainingRequest":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/thread-loader/dist/cjs.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/Account/myInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/Account/myInfo.vue","mtime":1587473636269},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3hpYW5nbGl1L0RldmVsb3BtZW50L1Byb2plY3RzL3h4eC9hcGVyYS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHVzZXJBcGkgZnJvbSAiYXBpL3VzZXIiOwppbXBvcnQgeyB2YWxpZGF0ZVBhc3N3b3JkLCB2YWxpZGF0ZU5hbWUgfSBmcm9tICJjb21tb24vdXRpbHMvdmFsaWRhdGVSdWxlcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhbmdlUGFzc3dvcmQ6IGZhbHNlLAogICAgICBmb3JtRGF0YTogewogICAgICAgIHVzZXJGaXJzdE5hbWU6ICIiLAogICAgICAgIHVzZXJMYXN0TmFtZTogIiIsCiAgICAgICAgdXNlckVtYWlsOiAiIiwKICAgICAgICBjdXJyZW50UGFzc3dvcmQ6ICIiLAogICAgICAgIG5ld1Bhc3N3b3JkOiAiIiwKICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIGZvcm1SdWxlczogewogICAgICAgIHVzZXJGaXJzdE5hbWU6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlTmFtZSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHVzZXJMYXN0TmFtZTogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVOYW1lLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgY3VycmVudFBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAiUGxlYXNlIGVudGVyIGEgdmFsaWQgcGFzc3dvcmQiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3N3b3JkLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgbmV3UGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2UgZW50ZXIgYSB2YWxpZCBwYXNzd29yZCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzc3dvcmQsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBjb25maXJtUGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2UgZW50ZXIgYSB2YWxpZCBwYXNzd29yZCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzc3dvcmQsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICB2YWxpZGF0b3I6IHRoaXMudmFsaWRhdGVDb25maXJtUGFzc3dvcmQsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICBmb3JtTGFiZWxXaWR0aDogIjIwMHB4IgogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsidXNlciJdKSksCiAgd2F0Y2g6IHsKICAgIHVzZXI6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHVzZXIpIHsKICAgICAgICBpZiAodXNlciAmJiB1c2VyLnVzZXJFbWFpbCkgewogICAgICAgICAgdGhpcy5mb3JtRGF0YS51c2VySWQgPSB1c2VyLnVzZXJJZDsKICAgICAgICAgIHRoaXMuZm9ybURhdGEudXNlckZpcnN0TmFtZSA9IHVzZXIudXNlckZpcnN0bmFtZTsKICAgICAgICAgIHRoaXMuZm9ybURhdGEudXNlckxhc3ROYW1lID0gdXNlci51c2VyTGFzdG5hbWU7CiAgICAgICAgICB0aGlzLmZvcm1EYXRhLnVzZXJFbWFpbCA9IHVzZXIudXNlckVtYWlsOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7CiAgICBvblNhdmVFZGl0OiBmdW5jdGlvbiBvblNhdmVFZGl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5lZGl0SW5mb0Zvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAoIV90aGlzLmNoYW5nZVBhc3N3b3JkKSB7CiAgICAgICAgICAgIHVzZXJBcGkudXBkYXRlVXNlcih7CiAgICAgICAgICAgICAgdXNlcklkOiBfdGhpcy5mb3JtRGF0YS51c2VySWQsCiAgICAgICAgICAgICAgdXNlckVtYWlsOiBfdGhpcy5mb3JtRGF0YS51c2VyRW1haWwsCiAgICAgICAgICAgICAgdXNlckZpcnN0bmFtZTogX3RoaXMuZm9ybURhdGEudXNlckZpcnN0TmFtZSwKICAgICAgICAgICAgICB1c2VyTGFzdG5hbWU6IF90aGlzLmZvcm1EYXRhLnVzZXJMYXN0TmFtZQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiRWRpdCBBY2NvdW50IEluZm8gU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHVzZXJBcGkubG9naW4oewogICAgICAgICAgICAgIHVzZXJFbWFpbDogX3RoaXMuZm9ybURhdGEudXNlckVtYWlsLAogICAgICAgICAgICAgIHVzZXJQYXNzd29yZDogX3RoaXMuZm9ybURhdGEuY3VycmVudFBhc3N3b3JkCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgdXNlckFwaS51cGRhdGVVc2VyKHsKICAgICAgICAgICAgICAgICAgdXNlcklkOiBfdGhpcy5mb3JtRGF0YS51c2VySWQsCiAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogX3RoaXMuZm9ybURhdGEudXNlckVtYWlsLAogICAgICAgICAgICAgICAgICB1c2VyUGFzc3dvcmQ6IF90aGlzLmZvcm1EYXRhLm5ld1Bhc3N3b3JkCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nb3V0KCk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiaG9tZSIpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiRWRpdCBBY2NvdW50IEluZm8gU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiDpqozor4Hlr4bnoIEgKi8KICAgIHZhbGlkYXRlQ29uZmlybVBhc3N3b3JkOiBmdW5jdGlvbiB2YWxpZGF0ZUNvbmZpcm1QYXNzd29yZChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmZvcm1EYXRhLm5ld1Bhc3N3b3JkKSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygiQ29uZmlybWVkIFBhc3N3b3JkIGRvZXMgbm90IG1hdGNoIG5ldyBwYXNzd29yZC4iKTsKICAgICAgfQogICAgfQogIH0sIG1hcEFjdGlvbnMoWyJsb2dvdXQiXSkpCn07"},{"version":3,"sources":["myInfo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"my-info\">\n    <div class=\"edit-info-form\">\n      <h2>Edit Account Information</h2>\n      <el-form\n        class=\"account-form\"\n        :model=\"formData\"\n        :rules=\"formRules\"\n        ref=\"editInfoForm\"\n      >\n        <!-- Name -->\n        <el-form-item\n          label=\"First Name\"\n          :label-width=\"formLabelWidth\"\n          prop=\"userFirstName\"\n        >\n          <el-input\n            v-model=\"formData.userFirstName\"\n            placeholder=\"Please enter first name\"\n          ></el-input>\n        </el-form-item>\n\n        <el-form-item\n          label=\"Last Name\"\n          :label-width=\"formLabelWidth\"\n          prop=\"userLastName\"\n        >\n          <el-input\n            v-model=\"formData.userLastName\"\n            placeholder=\"Please enter last name\"\n          ></el-input>\n        </el-form-item>\n\n        <!-- Email -->\n        <el-form-item\n          label=\"Email\"\n          :label-width=\"formLabelWidth\"\n        >\n          <el-input\n            :value=\"user ? user.userEmail : ''\"\n            placeholder=\"Please enter email\"\n          ></el-input>\n        </el-form-item>\n\n        <el-form-item\n          label=\"User ID\"\n          :label-width=\"formLabelWidth\"\n        >\n          <el-input :value=\"user ? user.userId : ''\"></el-input>\n        </el-form-item>\n\n        <el-form-item\n          class=\"change-password-item\"\n          label=\"\"\n          :label-width=\"formLabelWidth\"\n        >\n          <el-checkbox\n            v-model=\"changePassword\"\n            label=\"Change Password\"\n            border\n            size=\"medium\"\n          ></el-checkbox>\n        </el-form-item>\n\n        <template v-if=\"changePassword\">\n          <!-- Password -->\n          <el-form-item\n            label=\"Current Password\"\n            :label-width=\"formLabelWidth\"\n            prop=\"currentPassword\"\n          >\n            <el-input\n              v-model=\"formData.currentPassword\"\n              show-password\n              placeholder=\"Please enter password\"\n            ></el-input>\n          </el-form-item>\n\n          <el-form-item\n            label=\"New Password\"\n            :label-width=\"formLabelWidth\"\n            prop=\"newPassword\"\n          >\n            <el-input\n              v-model=\"formData.newPassword\"\n              show-password\n              placeholder=\"Please enter password\"\n            ></el-input>\n          </el-form-item>\n\n          <el-form-item\n            label=\"Confirm New Password\"\n            :label-width=\"formLabelWidth\"\n            prop=\"confirmPassword\"\n          >\n            <el-input\n              v-model=\"formData.confirmPassword\"\n              show-password\n              placeholder=\"Please enter password\"\n            ></el-input>\n          </el-form-item>\n        </template>\n\n        <el-form-item class=\"form-item-button\">\n          <el-popconfirm\n            title=\"Do you want to save the edit?\"\n            @onConfirm=\"onSaveEdit\"\n            confirmButtonText=\"Yes\"\n            cancelButtonText=\"Cancel\"\n          >\n            <el-button\n              slot=\"reference\"\n              type=\"primary\"\n            >Save Edit</el-button>\n          </el-popconfirm>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport userApi from \"api/user\";\nimport { validatePassword, validateName } from \"common/utils/validateRules\";\nexport default {\n  data() {\n    return {\n      changePassword: false,\n      formData: {\n        userFirstName: \"\",\n        userLastName: \"\",\n        userEmail: \"\",\n        currentPassword: \"\",\n        newPassword: \"\",\n        confirmPassword: \"\"\n      },\n\n      formRules: {\n        userFirstName: [\n          {\n            validator: validateName,\n            trigger: \"blur\"\n          }\n        ],\n        userLastName: [\n          {\n            validator: validateName,\n            trigger: \"blur\"\n          }\n        ],\n        currentPassword: [\n          {\n            required: true,\n            message: \"Please enter a valid password\",\n            trigger: \"blur\"\n          },\n          {\n            validator: validatePassword,\n            trigger: \"blur\"\n          }\n        ],\n        newPassword: [\n          {\n            required: true,\n            message: \"Please enter a valid password\",\n            trigger: \"blur\"\n          },\n          {\n            validator: validatePassword,\n            trigger: \"blur\"\n          }\n        ],\n        confirmPassword: [\n          {\n            required: true,\n            message: \"Please enter a valid password\",\n            trigger: \"blur\"\n          },\n          {\n            validator: validatePassword,\n            trigger: \"blur\"\n          },\n          {\n            validator: this.validateConfirmPassword,\n            trigger: \"blur\"\n          }\n        ]\n      },\n      formLabelWidth: \"200px\"\n    };\n  },\n\n  computed: {\n    ...mapGetters([\"user\"])\n  },\n\n  watch: {\n    user: {\n      immediate: true,\n      handler(user) {\n        if (user && user.userEmail) {\n          this.formData.userId = user.userId;\n          this.formData.userFirstName = user.userFirstname;\n          this.formData.userLastName = user.userLastname;\n          this.formData.userEmail = user.userEmail;\n        }\n      }\n    }\n  },\n\n  methods: {\n    onSaveEdit() {\n      this.$refs.editInfoForm.validate(valid => {\n        if (valid) {\n          if (!this.changePassword) {\n            userApi\n              .updateUser({\n                userId: this.formData.userId,\n                userEmail: this.formData.userEmail,\n                userFirstname: this.formData.userFirstName,\n                userLastname: this.formData.userLastName\n              })\n              .then(res => {\n                if (res.success) {\n                  this.$message({\n                    type: \"success\",\n                    message: \"Edit Account Info Success\",\n                    showClose: true\n                  });\n                }\n              });\n          } else {\n            userApi\n              .login({\n                userEmail: this.formData.userEmail,\n                userPassword: this.formData.currentPassword\n              })\n              .then(res => {\n                if (res.success) {\n                  userApi\n                    .updateUser({\n                      userId: this.formData.userId,\n                      userEmail: this.formData.userEmail,\n                      userPassword: this.formData.newPassword\n                    })\n                    .then(res => {\n                      if (res.success) {\n                        this.logout();\n                        this.$router.push(\"home\");\n                        this.$message({\n                          type: \"success\",\n                          message: \"Edit Account Info Success\",\n                          showClose: true\n                        });\n                      }\n                    });\n                }\n              });\n          }\n        }\n      });\n    },\n\n    /* 验证密码 */\n    validateConfirmPassword(rule, value, callback) {\n      if (value === this.formData.newPassword) {\n        callback();\n      } else {\n        callback(\"Confirmed Password does not match new password.\");\n      }\n    },\n\n    ...mapActions([\"logout\"])\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.my-info {\n  display: flex;\n\n  h2 {\n    margin-top: 0;\n  }\n\n  .change-password-item {\n    display: flex;\n    justify-content: flex-start;\n\n    margin-top: 40px;\n  }\n\n  .edit-info-form {\n    flex: 1 1 auto;\n  }\n\n  .account-form {\n    margin-right: 100px;\n  }\n\n  .form-item-button {\n    display: flex;\n    justify-content: flex-end;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/Account"}]}