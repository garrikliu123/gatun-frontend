{"remainingRequest":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/api/common.js","dependencies":[{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/api/common.js","mtime":1587269334762},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgYXhpb3MgZnJvbSAiLi9jb25maWciOwppbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICJ1dWlkIjsKZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZEltYWdlKGZpbGVuYW1lKSB7CiAgdmFyIGZvcm1kYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICB2YXIgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDsKICB2YXIgdXJsID0gImh0dHBzOi8vc3RvcmFnZS5nb29nbGVhcGlzLmNvbS9hcGVyYS1mcm9udGVuZC5hcHBzcG90LmNvbS9pbWFnZXMvIjsKICB2YXIgZmlsZXR5cGUgPSBmaWxlbmFtZS5zcGxpdCgiLiIpLnBvcCgpLnRvTG93ZXJDYXNlKCk7CiAgdmFyIGZpbGVVcmwgPSB1cmwgKyB1dWlkdjQoKSArICIuIiArIGZpbGV0eXBlOwogIHJldHVybiBheGlvcy5wb3N0KGZpbGVVcmwsIGZvcm1kYXRhLCBjb25maWcpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgY2FsbGJhY2soewogICAgICBuYW1lOiBmaWxlbmFtZSwKICAgICAgdXJsOiBmaWxlVXJsCiAgICB9KTsKICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICBjb25zb2xlLmxvZyhlcnIpOwogIH0pOwp9"},{"version":3,"sources":["/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/api/common.js"],"names":["axios","v4","uuidv4","uploadImage","filename","formdata","config","callback","url","filetype","split","pop","toLowerCase","fileUrl","post","then","name","catch","err","console","log"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,UAAlB;AACA,SACIC,EAAE,IAAIC,MADV,QAEO,MAFP;AAIA,OAAO,SAASC,WAAT,CAAqBC,QAArB,EAAqE;AAAA,MAAtCC,QAAsC,uEAA3B,EAA2B;AAAA,MAAvBC,MAAuB,uEAAd,EAAc;AAAA,MAAVC,QAAU;AACxE,MAAMC,GAAG,GAAG,mEAAZ;AAEA,MAAMC,QAAQ,GAAGL,QAAQ,CACpBM,KADY,CACN,GADM,EAEZC,GAFY,GAGZC,WAHY,EAAjB;AAKA,MAAMC,OAAO,GAAGL,GAAG,GAAGN,MAAM,EAAZ,GAAiB,GAAjB,GAAuBO,QAAvC;AAEA,SAAOT,KAAK,CACPc,IADE,CACGD,OADH,EACYR,QADZ,EACsBC,MADtB,EAEFS,IAFE,CAEG,YAAM;AACRR,IAAAA,QAAQ,CAAC;AACLS,MAAAA,IAAI,EAAEZ,QADD;AAELI,MAAAA,GAAG,EAAEK;AAFA,KAAD,CAAR;AAIH,GAPE,EAQFI,KARE,CAQI,UAAAC,GAAG,EAAI;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,GAVE,CAAP;AAWH","sourcesContent":["import axios from \"./config\";\nimport {\n    v4 as uuidv4\n} from \"uuid\";\n\nexport function uploadImage(filename, formdata = {}, config = {}, callback) {\n    const url = \"https://storage.googleapis.com/apera-frontend.appspot.com/images/\";\n\n    const filetype = filename\n        .split(\".\")\n        .pop()\n        .toLowerCase();\n\n    const fileUrl = url + uuidv4() + \".\" + filetype;\n\n    return axios\n        .post(fileUrl, formdata, config)\n        .then(() => {\n            callback({\n                name: filename,\n                url: fileUrl\n            });\n        })\n        .catch(err => {\n            console.log(err);\n        });\n}"]}]}