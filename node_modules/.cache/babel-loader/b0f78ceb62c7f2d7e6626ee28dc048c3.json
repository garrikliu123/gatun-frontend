{"remainingRequest":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/thread-loader/dist/cjs.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/Manage/AddHomeSectionDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/Manage/AddHomeSectionDialog.vue","mtime":1586199356986},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3hpYW5nbGl1L0RldmVsb3BtZW50L1Byb2plY3RzL3h4eC9hcGVyYS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gInV1aWQiOwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IHVwbG9hZEltYWdlIH0gZnJvbSAiYXBpL2NvbW1vbiI7CmltcG9ydCBzZWN0aW9uQ29uZmlnIGZyb20gIi4vY29uZmlnL3NlY3Rpb25fY29uZmlnLmpzIjsKaW1wb3J0IHNlY3Rpb25UYWJsZUNvbmZpZyBmcm9tICIuL2NvbmZpZy9zZWN0aW9uX3RhYmxlX2NvbmZpZy5qcyI7CmltcG9ydCBob21lU2VjdGlvbkFwaSBmcm9tICJhcGkvaG9tZVNlY3Rpb24uanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIG1vZGU6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB0YXJnZXRTZWN0aW9uOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc2VjdGlvblRhYmxlQ29uZmlnOiBzZWN0aW9uVGFibGVDb25maWcsCiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgc2VjdGlvbk5hbWU6ICIiLAogICAgICAgIHNlY3Rpb25UeXBlOiBzZWN0aW9uVGFibGVDb25maWcuc2VjdGlvblR5cGVPcHRpb25zWzBdLnZhbHVlLAogICAgICAgIHRvcGljVHlwZTogc2VjdGlvblRhYmxlQ29uZmlnLnR5cGVPcHRpb25zWzBdLnZhbHVlLAogICAgICAgIHNlY3Rpb25JbWFnZTogIiIsCiAgICAgICAgc2VjdGlvbkNvbnRlbnRUeXBlOiAxLAogICAgICAgIGNhdGVnb3J5TGlzdDogW10sCiAgICAgICAgcHJvZHVjdDogbnVsbCwKICAgICAgICBwcm9kdWN0TGlzdDogW10KICAgICAgfSwKICAgICAgZm9ybVJ1bGVzOiB7CiAgICAgICAgc2VjdGlvbk5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2UgZW50ZXIgYSB2YWxpZCBuYW1lIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHByb2R1Y3Q6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2Ugc2VsZWN0IGEgcHJvZHVjdCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwcm9kdWN0TGlzdDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIlBsZWFzZSBzZWxlY3QgYSBwcm9kdWN0IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGNhdGVnb3J5TGlzdDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIlBsZWFzZSBzZWxlY3QgYSBjYXRlZ29yeSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICBmb3JtTGFiZWxXaWR0aDogIjEwMHB4IgogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHsKICAgIG1hdGNoZWRDYXRlZ29yeUxpc3Q6IGZ1bmN0aW9uIG1hdGNoZWRDYXRlZ29yeUxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHRoaXMuY2F0ZWdvcnlMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbS5jYXRlZ29yeVR5cGUgPT09IF90aGlzLmZvcm1EYXRhLnRvcGljVHlwZSkgewogICAgICAgICAgcmVzdWx0LnB1c2goewogICAgICAgICAgICBsYWJlbDogaXRlbS5jYXRlZ29yeU5hbWUsCiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmNhdGVnb3J5SWQKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgbWF0Y2hlZFByb2R1Y3RMaXN0OiBmdW5jdGlvbiBtYXRjaGVkUHJvZHVjdExpc3QoKSB7CiAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgdGhpcy5wcm9kdWN0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmVzdWx0LnB1c2goewogICAgICAgICAgbGFiZWw6IGl0ZW0ucHJvZHVjdE5hbWUsCiAgICAgICAgICB2YWx1ZTogaXRlbS5wcm9kdWN0SWQKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfSwgbWFwR2V0dGVycyhbImNhdGVnb3J5TGlzdCIsICJwcm9kdWN0TGlzdCJdKSksCiAgd2F0Y2g6IHsKICAgIHRhcmdldFNlY3Rpb246IGZ1bmN0aW9uIHRhcmdldFNlY3Rpb24oc2VjdGlvbikgewogICAgICBpZiAoc2VjdGlvbikgewogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5mb3JtRGF0YSwgc2VjdGlvbik7CiAgICAgIH0KICAgIH0sCiAgICAiZm9ybURhdGEuc2VjdGlvblR5cGUiOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih0eXBlKSB7CiAgICAgICAgaWYgKHR5cGUgPT0gIlByb2R1Y3RTZWN0aW9uIikgewogICAgICAgICAgdGhpcy5mb3JtRGF0YS5zZWN0aW9uQ29udGVudFR5cGUgPSAyOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJmb3JtRGF0YS50b3BpY1R5cGUiOiBmdW5jdGlvbiBmb3JtRGF0YVRvcGljVHlwZSgpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5jYXRlZ29yeUxpc3QgPSBbXTsKICAgIH0KICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoewogICAgb25TdWJtaXRDbGljazogZnVuY3Rpb24gb25TdWJtaXRDbGljaygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmVkaXRTZWN0aW9uRm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmIChfdGhpczIubW9kZSA9PT0gc2VjdGlvbkNvbmZpZy5NT0RFLk5FVykgewogICAgICAgICAgICB2YXIgc2VjdGlvbklkID0gdXVpZHY0KCk7CiAgICAgICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgICAgc2VjdGlvbklkOiBzZWN0aW9uSWQsCiAgICAgICAgICAgICAgc2VjdGlvbkRhdGE6IEpTT04uc3RyaW5naWZ5KF90aGlzMi5mb3JtRGF0YSkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaG9tZVNlY3Rpb25BcGkuYWRkU2VjdGlvbihvYmopLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzMi5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgIF90aGlzMi5nZXRIb21lU2VjdGlvbkxpc3QoKTsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJBZGQgU2VjdGlvbiBTdWNjZXNzIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLm1vZGUgPT09IHNlY3Rpb25Db25maWcuTU9ERS5FRElUKSB7CiAgICAgICAgICAgIHZhciBfb2JqID0gewogICAgICAgICAgICAgIHNlY3Rpb25JZDogX3RoaXMyLmZvcm1EYXRhLnNlY3Rpb25JZCwKICAgICAgICAgICAgICBzZWN0aW9uRGF0YTogSlNPTi5zdHJpbmdpZnkoX3RoaXMyLmZvcm1EYXRhKQogICAgICAgICAgICB9OwogICAgICAgICAgICBob21lU2VjdGlvbkFwaS51cGRhdGVTZWN0aW9uKF9vYmopLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzMi5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgIF90aGlzMi5nZXRIb21lU2VjdGlvbkxpc3QoKTsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJVcGRhdGUgU2VjdGlvbiBTdWNjZXNzIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uVXBsb2FkSW1hZ2U6IGZ1bmN0aW9uIG9uVXBsb2FkSW1hZ2UocmVxKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGZpbGV0eXBlID0gIiI7CgogICAgICBpZiAocmVxLmZpbGUudHlwZSA9PT0gImltYWdlL3BuZyIpIHsKICAgICAgICBmaWxldHlwZSA9ICJwbmciOwogICAgICB9IGVsc2UgewogICAgICAgIGZpbGV0eXBlID0gImpwZyI7CiAgICAgIH0gLy8g6YeN5ZG95ZCN6KaB5LiK5Lyg55qE5paH5Lu2CgoKICAgICAgdmFyIGZpbGVuYW1lID0gdXVpZHY0KCkgKyAiLiIgKyBmaWxldHlwZTsKICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1kYXRhLmFwcGVuZCgiZmlsZSIsIHJlcS5maWxlKTsKICAgICAgdXBsb2FkSW1hZ2UoZmlsZW5hbWUsIGZvcm1kYXRhLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIgogICAgICAgIH0KICAgICAgfSwgZnVuY3Rpb24gKGltYWdlKSB7CiAgICAgICAgaWYgKGltYWdlLnVybCkgewogICAgICAgICAgX3RoaXMzLmZvcm1EYXRhLnNlY3Rpb25JbWFnZSA9IGltYWdlLnVybDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOmqjOivgeaWh+S7tuWQiOazleaApwogICAgYmVmb3JlVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICB2YXIgaXNKUEcgPSBmaWxlLnR5cGUgPT09ICJpbWFnZS9qcGVnIiB8fCBmaWxlLnR5cGUgPT09ICJpbWFnZS9wbmciOwogICAgICB2YXIgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCA1OwoKICAgICAgaWYgKCFpc0pQRykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIkltYWdlIHR5cGUgc2hvdWxkIGJlIEpQRUQgb3IgUE5HIik7CiAgICAgIH0KCiAgICAgIGlmICghaXNMdDJNKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiSW1hZ2Ugc2l6ZSBzaG91bGQgbGVzcyB0aGFuIDVNQiIpOwogICAgICB9CgogICAgICByZXR1cm4gaXNKUEcgJiYgaXNMdDJNOwogICAgfSwKICAgIG9uVXBsb2FkU3VjY2VzczogZnVuY3Rpb24gb25VcGxvYWRTdWNjZXNzKCkge30KICB9LCBtYXBBY3Rpb25zKFsiZ2V0SG9tZVNlY3Rpb25MaXN0Il0pKQp9Ow=="},{"version":3,"sources":["AddHomeSectionDialog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-dialog class=\"ap-dialog\" title=\"Edit Section\" :visible.sync=\"dialogVisible\" width=\"1100px\">\n      <div class=\"dialog-inner\">\n        <el-form :model=\"formData\" :rules=\"formRules\" ref=\"editSectionForm\">\n          <el-form-item label=\"Name\" :label-width=\"formLabelWidth\" prop=\"sectionName\">\n            <el-input v-model=\"formData.sectionName\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"Section Type\" :label-width=\"formLabelWidth\">\n            <el-select\n              class=\"form-item\"\n              v-model=\"formData.sectionType\"\n              placeholder=\"Select the type\"\n            >\n              <el-option\n                v-for=\"item in sectionTableConfig.sectionTypeOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item class=\"form-radio-group\" :label-width=\"formLabelWidth\">\n            <el-radio-group v-model=\"formData.sectionContentType\">\n              <el-radio-button :label=\"1\" :disabled=\"formData.sectionType == 'ProductSection'\"\n                >Single Product</el-radio-button\n              >\n              <el-radio-button :label=\"2\">Product Group</el-radio-button>\n              <el-radio-button :label=\"3\" :disabled=\"formData.sectionType == 'ProductSection'\"\n                >Topic</el-radio-button\n              >\n            </el-radio-group>\n          </el-form-item>\n\n          <!-- Product -->\n          <el-form-item\n            v-if=\"formData.sectionContentType != 3 && formData.sectionContentType == 1\"\n            label=\"Product\"\n            :label-width=\"formLabelWidth\"\n            prop=\"product\"\n          >\n            <el-select\n              key=\"product\"\n              class=\"form-item\"\n              v-model=\"formData.product\"\n              filterable\n              placeholder=\"Please select a product\"\n            >\n              <el-option\n                v-for=\"item in matchedProductList\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n\n          <!-- Product -->\n          <el-form-item\n            v-if=\"formData.sectionContentType != 3 && formData.sectionContentType == 2\"\n            label=\"Product\"\n            :label-width=\"formLabelWidth\"\n            prop=\"productList\"\n          >\n            <el-select\n              key=\"productList\"\n              class=\"form-item\"\n              v-model=\"formData.productList\"\n              filterable\n              placeholder=\"Please select a product\"\n              multiple\n            >\n              <el-option\n                v-for=\"item in matchedProductList\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n\n          <!-- TOPIC -->\n          <el-form-item\n            v-if=\"formData.sectionContentType == 3\"\n            label=\"Topic Type\"\n            :label-width=\"formLabelWidth\"\n          >\n            <el-select\n              key=\"topicType\"\n              class=\"form-item\"\n              v-model=\"formData.topicType\"\n              placeholder=\"Select the type\"\n            >\n              <el-option\n                v-for=\"item in sectionTableConfig.typeOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item\n            v-if=\"formData.sectionContentType == 3\"\n            label=\"Category\"\n            :label-width=\"formLabelWidth\"\n            prop=\"categoryList\"\n          >\n            <el-select\n              key=\"categoryList\"\n              class=\"form-item\"\n              v-model=\"formData.categoryList\"\n              filterable\n              multiple\n            >\n              <el-option\n                v-for=\"item in matchedCategoryList\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n\n          <!-- IMAGE -->\n          <el-upload\n            v-if=\"formData.sectionType != 'ProductSection'\"\n            class=\"avatar-uploader\"\n            action=\"\"\n            :show-file-list=\"false\"\n            :http-request=\"onUploadImage\"\n            :before-upload=\"beforeUpload\"\n            :on-success=\"onUploadSuccess\"\n          >\n            <img v-if=\"formData.sectionImage\" :src=\"formData.sectionImage\" class=\"avatar\" />\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n          </el-upload>\n        </el-form>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"onSubmitClick\">Submit</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from \"uuid\";\nimport { mapGetters, mapActions } from \"vuex\";\nimport { uploadImage } from \"api/common\";\nimport sectionConfig from \"./config/section_config.js\";\nimport sectionTableConfig from \"./config/section_table_config.js\";\nimport homeSectionApi from \"api/homeSection.js\";\nexport default {\n  props: {\n    mode: {\n      required: true,\n    },\n    targetSection: {\n      type: Object,\n      default() {\n        return null;\n      },\n    },\n  },\n\n  data() {\n    return {\n      dialogVisible: false,\n      sectionTableConfig,\n      formData: {\n        sectionName: \"\",\n        sectionType: sectionTableConfig.sectionTypeOptions[0].value,\n        topicType: sectionTableConfig.typeOptions[0].value,\n        sectionImage: \"\",\n        sectionContentType: 1,\n        categoryList: [],\n        product: null,\n        productList: [],\n      },\n      formRules: {\n        sectionName: [\n          {\n            required: true,\n            message: \"Please enter a valid name\",\n            trigger: \"blur\",\n          },\n        ],\n        product: [\n          {\n            required: true,\n            message: \"Please select a product\",\n            trigger: \"blur\",\n          },\n        ],\n        productList: [\n          {\n            required: true,\n            message: \"Please select a product\",\n            trigger: \"blur\",\n          },\n        ],\n        categoryList: [\n          {\n            required: true,\n            message: \"Please select a category\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n      formLabelWidth: \"100px\",\n    };\n  },\n\n  computed: {\n    matchedCategoryList() {\n      const result = [];\n      this.categoryList.forEach((item) => {\n        if (item.categoryType === this.formData.topicType) {\n          result.push({\n            label: item.categoryName,\n            value: item.categoryId,\n          });\n        }\n      });\n      return result;\n    },\n\n    matchedProductList() {\n      const result = [];\n      this.productList.forEach((item) => {\n        result.push({\n          label: item.productName,\n          value: item.productId,\n        });\n      });\n      return result;\n    },\n\n    ...mapGetters([\"categoryList\", \"productList\"]),\n  },\n\n  watch: {\n    targetSection(section) {\n      if (section) {\n        Object.assign(this.formData, section);\n      }\n    },\n    \"formData.sectionType\": {\n      immediate: true,\n      handler(type) {\n        if (type == \"ProductSection\") {\n          this.formData.sectionContentType = 2;\n        }\n      },\n    },\n\n    \"formData.topicType\"() {\n      this.formData.categoryList = [];\n    },\n  },\n\n  methods: {\n    onSubmitClick() {\n      this.$refs.editSectionForm.validate((valid) => {\n        if (valid) {\n          if (this.mode === sectionConfig.MODE.NEW) {\n            const sectionId = uuidv4();\n\n            const obj = {\n              sectionId: sectionId,\n              sectionData: JSON.stringify(this.formData),\n            };\n\n            homeSectionApi.addSection(obj).then((res) => {\n              this.dialogVisible = false;\n              this.getHomeSectionList();\n              if (res.success) {\n                this.$message({\n                  type: \"success\",\n                  message: \"Add Section Success\",\n                });\n              }\n            });\n          } else if (this.mode === sectionConfig.MODE.EDIT) {\n            const obj = {\n              sectionId: this.formData.sectionId,\n              sectionData: JSON.stringify(this.formData),\n            };\n\n            homeSectionApi.updateSection(obj).then((res) => {\n              this.dialogVisible = false;\n              this.getHomeSectionList();\n              if (res.success) {\n                this.$message({\n                  type: \"success\",\n                  message: \"Update Section Success\",\n                });\n              }\n            });\n          }\n        }\n      });\n    },\n\n    onUploadImage(req) {\n      let filetype = \"\";\n      if (req.file.type === \"image/png\") {\n        filetype = \"png\";\n      } else {\n        filetype = \"jpg\";\n      }\n\n      // 重命名要上传的文件\n      const filename = uuidv4() + \".\" + filetype;\n\n      const formdata = new FormData();\n\n      formdata.append(\"file\", req.file);\n\n      uploadImage(\n        filename,\n        formdata,\n        {\n          headers: { \"Content-Type\": \"multipart/form-data\" },\n        },\n        (image) => {\n          if (image.url) {\n            this.formData.sectionImage = image.url;\n          }\n        }\n      );\n    },\n\n    // 验证文件合法性\n    beforeUpload(file) {\n      const isJPG = file.type === \"image/jpeg\" || file.type === \"image/png\";\n      const isLt2M = file.size / 1024 / 1024 < 5;\n\n      if (!isJPG) {\n        this.$message.error(\"Image type should be JPED or PNG\");\n      }\n\n      if (!isLt2M) {\n        this.$message.error(\"Image size should less than 5MB\");\n      }\n\n      return isJPG && isLt2M;\n    },\n\n    onUploadSuccess() {},\n\n    ...mapActions([\"getHomeSectionList\"]),\n  },\n};\n</script>\n\n<style lang=\"less\">\n.ap-dialog {\n  overflow-x: visible;\n  .dialog-inner {\n    max-height: 60vh;\n    overflow-x: visible;\n    overflow-y: auto;\n    padding: 0 20px;\n  }\n\n  .form-radio-group {\n    display: flex;\n    justify-content: flex-start;\n  }\n\n  .form-item {\n    width: 100%;\n  }\n\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409eff;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 400px;\n    height: 180px;\n    line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    height: 180px;\n    display: block;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/Manage"}]}