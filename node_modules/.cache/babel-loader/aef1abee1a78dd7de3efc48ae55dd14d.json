{"remainingRequest":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/thread-loader/dist/cjs.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/Manage/AddProductDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/views/Manage/AddProductDialog.vue","mtime":1587590030658},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy94aWFuZ2xpdS9EZXZlbG9wbWVudC9Qcm9qZWN0cy94eHgvYXBlcmEtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gInV1aWQiOwppbXBvcnQgeyB1cGxvYWRJbWFnZSB9IGZyb20gImFwaS9jb21tb24iOwppbXBvcnQgcHJvZHVjdENvbmZpZyBmcm9tICIuL2NvbmZpZy9wcm9kdWN0X2NvbmZpZy5qcyI7CmltcG9ydCBwcm9kdWN0QXBpIGZyb20gImFwaS9wcm9kdWN0IjsKaW1wb3J0IFRleHRFZGl0b3IgZnJvbSAiY29tcG9uZW50cy9UZXh0RWRpdG9yIjsKaW1wb3J0IHsgY2hlY2tEb3VibGUgfSBmcm9tICJjb21tb24vdXRpbHMvdmFsaWRhdGVSdWxlcyI7CmltcG9ydCB7IGVkaXRQcm9kdWN0Rm9ybSBhcyB0ZXN0Rm9ybURhdGEgfSBmcm9tICJjb21tb24vY29uZmlnL3Rlc3REYXRhIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdGFyZ2V0UHJvZHVjdDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGVzdEZvcm1EYXRhOiB0ZXN0Rm9ybURhdGEsCiAgICAgIGFjdGl2ZVRhYk5hbWU6ICIxIiwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgcHJvZHVjdE5hbWU6ICIiLAogICAgICAgIHByb2R1Y3REZXNjOiAiIiwKICAgICAgICBwcm9kdWN0U3BlY3M6ICIiLAogICAgICAgIHByb2R1Y3RXYXJyYW50eTogIiIsCiAgICAgICAgcHJvZHVjdFZpZGVvOiAiIiwKICAgICAgICBwcm9kdWN0RmVhdHVyZXM6ICIiLAogICAgICAgIHByb2R1Y3RQcmljZTogIiIsCiAgICAgICAgcHJvZHVjdENhdGVnb3J5OiBbXSwKICAgICAgICBwcm9kdWN0RmlsZUxpc3Q6IFtdLAogICAgICAgIHByb2R1Y3RQYXJ0czogW10sCiAgICAgICAgcHJvZHVjdEFwcGxpY2F0aW9uOiBbXSwKICAgICAgICBwcm9kdWN0UGFyYW1ldGVyOiBbXSwKICAgICAgICBwcm9kdWN0T3B0aW9uTGlzdDogW10sCiAgICAgICAgcHJvZHVjdEltYWdlTGlzdDogW10KICAgICAgfSwKICAgICAgZm9ybVJ1bGVzOiB7CiAgICAgICAgcHJvZHVjdE5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2UgZW50ZXIgYSB2YWxpZCBuYW1lIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHByb2R1Y3RQcmljZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIlBsZWFzZSBlbnRlciBhIHZhbGlkIHByaWNlIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tEb3VibGUoIlBsZWFzZSBlbnRlciBhIHZhbGlkIG51bWJlciB3aXRoIHR3byBkZWNpbWFsIHBsYWNlcyIpLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZm9ybUxhYmVsV2lkdGg6ICIxMDBweCIKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7CiAgICBjYXRlZ29yeUxpc3RCeVByb2R1Y3Q6IGZ1bmN0aW9uIGNhdGVnb3J5TGlzdEJ5UHJvZHVjdCgpIHsKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICB0aGlzLmNhdGVnb3J5TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChjYXRlZ29yeSkgewogICAgICAgIGlmIChjYXRlZ29yeS5jYXRlZ29yeVR5cGUgPT0gIlByb2R1Y3QiKSB7CiAgICAgICAgICByZXN1bHQucHVzaCh7CiAgICAgICAgICAgIGxhYmVsOiBjYXRlZ29yeS5jYXRlZ29yeU5hbWUsCiAgICAgICAgICAgIHZhbHVlOiBjYXRlZ29yeS5jYXRlZ29yeUlkCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIGNhdGVnb3J5TGlzdEJ5QXBwbGljYXRpb246IGZ1bmN0aW9uIGNhdGVnb3J5TGlzdEJ5QXBwbGljYXRpb24oKSB7CiAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgdGhpcy5jYXRlZ29yeUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoY2F0ZWdvcnkpIHsKICAgICAgICBpZiAoY2F0ZWdvcnkuY2F0ZWdvcnlUeXBlID09ICJBcHBsaWNhdGlvbnMiKSB7CiAgICAgICAgICByZXN1bHQucHVzaCh7CiAgICAgICAgICAgIGxhYmVsOiBjYXRlZ29yeS5jYXRlZ29yeU5hbWUsCiAgICAgICAgICAgIHZhbHVlOiBjYXRlZ29yeS5jYXRlZ29yeUlkCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIGNhdGVnb3J5TGlzdEJ5UGFyYW10ZXI6IGZ1bmN0aW9uIGNhdGVnb3J5TGlzdEJ5UGFyYW10ZXIoKSB7CiAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgdGhpcy5jYXRlZ29yeUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoY2F0ZWdvcnkpIHsKICAgICAgICBpZiAoY2F0ZWdvcnkuY2F0ZWdvcnlUeXBlID09ICJQYXJhbWV0ZXJzIikgewogICAgICAgICAgcmVzdWx0LnB1c2goewogICAgICAgICAgICBsYWJlbDogY2F0ZWdvcnkuY2F0ZWdvcnlOYW1lLAogICAgICAgICAgICB2YWx1ZTogY2F0ZWdvcnkuY2F0ZWdvcnlJZAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9LCBtYXBHZXR0ZXJzKFsiY2F0ZWdvcnlMaXN0Il0pKSwKICB3YXRjaDogewogICAgdGFyZ2V0UHJvZHVjdDogZnVuY3Rpb24gdGFyZ2V0UHJvZHVjdChwcm9kdWN0KSB7CiAgICAgIGlmIChwcm9kdWN0KSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmZvcm1EYXRhLCBwcm9kdWN0KTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7CiAgICBvblN1Ym1pdENsaWNrOiBmdW5jdGlvbiBvblN1Ym1pdENsaWNrKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5lZGl0UHJvZHVjdEZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpcy5mb3JtRGF0YS5wcm9kdWN0SW1hZ2VzID0gSlNPTi5zdHJpbmdpZnkoX3RoaXMuZm9ybURhdGEucHJvZHVjdEltYWdlTGlzdCk7CiAgICAgICAgICBfdGhpcy5mb3JtRGF0YS5wcm9kdWN0T3B0aW9ucyA9IEpTT04uc3RyaW5naWZ5KF90aGlzLmZvcm1EYXRhLnByb2R1Y3RPcHRpb25MaXN0KTsKICAgICAgICAgIF90aGlzLmZvcm1EYXRhLnByb2R1Y3RGaWxlcyA9IEpTT04uc3RyaW5naWZ5KF90aGlzLmZvcm1EYXRhLnByb2R1Y3RGaWxlTGlzdCk7CgogICAgICAgICAgaWYgKF90aGlzLm1vZGUgPT09IHByb2R1Y3RDb25maWcuTU9ERS5ORVcpIHsKICAgICAgICAgICAgdmFyIHByb2R1Y3RJZCA9IHV1aWR2NCgpOwogICAgICAgICAgICBfdGhpcy5mb3JtRGF0YS5wcm9kdWN0SWQgPSBwcm9kdWN0SWQ7CiAgICAgICAgICAgIHByb2R1Y3RBcGkuYWRkUHJvZHVjdChfdGhpcy5mb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgX3RoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgICAgICBfdGhpcy5nZXRQcm9kdWN0TGlzdCgpOwoKICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiQWRkIFByb2R1Y3QgU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMubW9kZSA9PT0gcHJvZHVjdENvbmZpZy5NT0RFLkVESVQpIHsKICAgICAgICAgICAgcHJvZHVjdEFwaS51cGRhdGVQcm9kdWN0KF90aGlzLmZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgIF90aGlzLmdldFByb2R1Y3RMaXN0KCk7CgogICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJVcGRhdGUgUHJvZHVjdCBTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25VcGxvYWRGaWxlOiBmdW5jdGlvbiBvblVwbG9hZEZpbGUocmVxKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGZpbGVuYW1lID0gcmVxLmZpbGUubmFtZTsKICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1kYXRhLmFwcGVuZCgiZmlsZSIsIHJlcS5maWxlKTsKICAgICAgdXBsb2FkSW1hZ2UoZmlsZW5hbWUsIGZvcm1kYXRhLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIgogICAgICAgIH0KICAgICAgfSwgZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICBfdGhpczIuZm9ybURhdGEucHJvZHVjdEZpbGVMaXN0LnB1c2goZmlsZSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uVXBsb2FkSW1hZ2U6IGZ1bmN0aW9uIG9uVXBsb2FkSW1hZ2UocmVxKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGZpbGVuYW1lID0gcmVxLmZpbGUubmFtZTsKICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1kYXRhLmFwcGVuZCgiZmlsZSIsIHJlcS5maWxlKTsKICAgICAgdXBsb2FkSW1hZ2UoZmlsZW5hbWUsIGZvcm1kYXRhLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIgogICAgICAgIH0KICAgICAgfSwgZnVuY3Rpb24gKGltYWdlKSB7CiAgICAgICAgX3RoaXMzLmZvcm1EYXRhLnByb2R1Y3RJbWFnZUxpc3QucHVzaChpbWFnZSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOmqjOivgeaWh+S7tuWQiOazleaApwogICAgYmVmb3JlVXBsb2FkSW1hZ2U6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZEltYWdlKGZpbGUpIHsKICAgICAgdmFyIGlzSlBHID0gZmlsZS50eXBlID09PSAiaW1hZ2UvanBlZyIgfHwgZmlsZS50eXBlID09PSAiaW1hZ2UvcG5nIjsKICAgICAgdmFyIGlzTHQyTSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgNTsKCiAgICAgIGlmICghaXNKUEcpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCJJbWFnZSB0eXBlIHNob3VsZCBiZSBKUEVEIG9yIFBORyIpOwogICAgICB9CgogICAgICBpZiAoIWlzTHQyTSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIkltYWdlIHNpemUgc2hvdWxkIGxlc3MgdGhhbiA1TUIiKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGlzSlBHICYmIGlzTHQyTTsKICAgIH0sCiAgICAvLyDpqozor4Hmlofku7blkIjms5XmgKcKICAgIGJlZm9yZVVwbG9hZEZpbGU6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZEZpbGUoZmlsZSkgewogICAgICB2YXIgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAxMDsKCiAgICAgIGlmICghaXNMdDJNKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiRmlsZSBzaXplIHNob3VsZCBsZXNzIHRoYW4gMTBNQiIpOwogICAgICB9CgogICAgICByZXR1cm4gaXNMdDJNOwogICAgfSwKICAgIG9uVXBsb2FkU3VjY2VzczogZnVuY3Rpb24gb25VcGxvYWRTdWNjZXNzKCkge30sCiAgICBvbkltYWdlUmVtb3ZlOiBmdW5jdGlvbiBvbkltYWdlUmVtb3ZlKHRhcmdldCkgewogICAgICB2YXIgdGFyZ2V0SW5kZXggPSBudWxsOwogICAgICB0aGlzLmZvcm1EYXRhLnByb2R1Y3RJbWFnZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICBpZiAoaXRlbS5uYW1lID09PSB0YXJnZXQubmFtZSkgewogICAgICAgICAgdGFyZ2V0SW5kZXggPSBpbmRleDsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKHRhcmdldEluZGV4ICE9PSBudWxsKSB7CiAgICAgICAgdGhpcy5mb3JtRGF0YS5wcm9kdWN0SW1hZ2VMaXN0LnNwbGljZSh0YXJnZXRJbmRleCwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkZpbGVSZW1vdmU6IGZ1bmN0aW9uIG9uRmlsZVJlbW92ZSh0YXJnZXQpIHsKICAgICAgdmFyIHRhcmdldEluZGV4ID0gbnVsbDsKICAgICAgdGhpcy5mb3JtRGF0YS5wcm9kdWN0RmlsZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICBpZiAoaXRlbS5uYW1lID09PSB0YXJnZXQubmFtZSkgewogICAgICAgICAgdGFyZ2V0SW5kZXggPSBpbmRleDsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKHRhcmdldEluZGV4ICE9PSBudWxsKSB7CiAgICAgICAgdGhpcy5mb3JtRGF0YS5wcm9kdWN0RmlsZUxpc3Quc3BsaWNlKHRhcmdldEluZGV4LCAxKTsKICAgICAgfQogICAgfSwKICAgIGJlZm9yZUZpbGVSZW1vdmU6IGZ1bmN0aW9uIGJlZm9yZUZpbGVSZW1vdmUoZmlsZSkgewogICAgICByZXR1cm4gdGhpcy4kY29uZmlybSgiRG8geW91IHdhbnQgdG8gZGVsZXRlICIuY29uY2F0KGZpbGUubmFtZSwgIlx1RkYxRiIpKTsKICAgIH0KICB9LCBtYXBBY3Rpb25zKFsiZ2V0UHJvZHVjdExpc3QiXSkpLAogIGNvbXBvbmVudHM6IHsKICAgICJhcC10ZXh0ZWRpdG9yIjogVGV4dEVkaXRvcgogIH0KfTs="},{"version":3,"sources":["AddProductDialog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-dialog class=\"ap-dialog\" title=\"Edit Product\" :visible.sync=\"dialogVisible\" width=\"1100px\">\n    <el-form :model=\"formData\" :rules=\"formRules\" ref=\"editProductForm\">\n      <!-- Name -->\n      <el-form-item label=\"Name\" :label-width=\"formLabelWidth\" prop=\"productName\">\n        <el-input v-model=\"formData.productName\"></el-input>\n      </el-form-item>\n\n      <!-- Price -->\n      <el-form-item label=\"Price\" :label-width=\"formLabelWidth\" prop=\"productPrice\">\n        <el-input v-model=\"formData.productPrice\"></el-input>\n      </el-form-item>\n\n      <!-- Parameter -->\n      <el-form-item label=\"Parameter\" :label-width=\"formLabelWidth\" prop=\"productParameter\">\n        <el-select class=\"form-item\" v-model=\"formData.productParameter\" filterable multiple>\n          <el-option\n            v-for=\"item in categoryListByParamter\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n\n      <!-- Category -->\n      <el-form-item label=\"Product\" :label-width=\"formLabelWidth\" prop=\"productCategory\">\n        <el-select class=\"form-item\" v-model=\"formData.productCategory\" filterable multiple>\n          <el-option\n            v-for=\"item in categoryListByProduct\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n\n      <!-- Application -->\n      <el-form-item label=\"Application\" :label-width=\"formLabelWidth\" prop=\"productApplication\">\n        <el-select class=\"form-item\" v-model=\"formData.productApplication\" filterable multiple>\n          <el-option\n            v-for=\"item in categoryListByApplication\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item label=\"Options\" :label-width=\"formLabelWidth\" prop=\"productApplication\">\n        <el-select\n          class=\"form-item product-options\"\n          v-model=\"formData.productOptionList\"\n          multiple\n          filterable\n          allow-create\n          default-first-option\n          no-data-text=\"You can enter an option for this product\"\n        ></el-select>\n      </el-form-item>\n    </el-form>\n\n    <!-- Pictures -->\n    <el-upload\n      class=\"dialog-picture-upload\"\n      action=\"\"\n      :http-request=\"onUploadImage\"\n      :before-upload=\"beforeUploadImage\"\n      :on-success=\"onUploadSuccess\"\n      :on-remove=\"onImageRemove\"\n      :file-list=\"formData.productImageList\"\n      list-type=\"picture-card\"\n    >\n      <i class=\"el-icon-plus\"></i>\n    </el-upload>\n\n    <!-- Rich Text Enter -->\n    <el-tabs class=\"dialog-tabs\" v-model=\"activeTabName\">\n      <!-- Description -->\n      <el-tab-pane label=\"Description\" name=\"1\">\n        <ap-texteditor v-model=\"formData.productDesc\" />\n      </el-tab-pane>\n\n      <!-- Feature -->\n      <el-tab-pane label=\"Feature\" name=\"2\">\n        <ap-texteditor v-model=\"formData.productFeatures\" />\n      </el-tab-pane>\n\n      <!-- Speces -->\n      <el-tab-pane label=\"Specs\" name=\"3\">\n        <ap-texteditor v-model=\"formData.productSpecs\" />\n      </el-tab-pane>\n\n      <!-- Video -->\n      <el-tab-pane label=\"Video\" name=\"4\">\n        <ap-texteditor v-model=\"formData.productVideo\" />\n      </el-tab-pane>\n\n      <!-- Files -->\n      <el-tab-pane label=\"Files\" name=\"5\">\n        <el-upload\n          multiple\n          action=\"\"\n          :http-request=\"onUploadFile\"\n          :before-upload=\"beforeUploadFile\"\n          :before-remove=\"beforeFileRemove\"\n          :on-remove=\"onFileRemove\"\n          :file-list=\"formData.productFileList\"\n        >\n          <el-button size=\"small\" type=\"primary\">Upload File</el-button>\n        </el-upload>\n      </el-tab-pane>\n\n      <!-- Parts -->\n      <!-- <el-tab-pane label=\"Parts\" name=\"6\"> </el-tab-pane> -->\n\n      <!-- Warrant -->\n      <el-tab-pane label=\"Warrant\" name=\"7\">\n        <ap-texteditor v-model=\"formData.productWarranty\" />\n      </el-tab-pane>\n    </el-tabs>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"dialogVisible = false\">Cancel</el-button>\n      <el-button type=\"primary\" @click=\"onSubmitClick\">Submit</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { uploadImage } from \"api/common\";\nimport productConfig from \"./config/product_config.js\";\nimport productApi from \"api/product\";\nimport TextEditor from \"components/TextEditor\";\nimport { checkDouble } from \"common/utils/validateRules\";\nimport { editProductForm as testFormData } from \"common/config/testData\";\n\nexport default {\n  props: {\n    mode: {\n      required: true\n    },\n    targetProduct: {\n      type: Object,\n      default() {\n        return null;\n      }\n    }\n  },\n  data() {\n    return {\n      testFormData,\n      activeTabName: \"1\",\n      dialogVisible: false,\n      formData: {\n        productName: \"\",\n        productDesc: \"\",\n        productSpecs: \"\",\n        productWarranty: \"\",\n        productVideo: \"\",\n        productFeatures: \"\",\n        productPrice: \"\",\n        productCategory: [],\n        productFileList: [],\n        productParts: [],\n        productApplication: [],\n        productParameter: [],\n        productOptionList: [],\n        productImageList: []\n      },\n      formRules: {\n        productName: [\n          {\n            required: true,\n            message: \"Please enter a valid name\",\n            trigger: \"blur\"\n          }\n        ],\n        productPrice: [\n          {\n            required: true,\n            message: \"Please enter a valid price\",\n            trigger: \"blur\"\n          },\n          {\n            validator: checkDouble(\"Please enter a valid number with two decimal places\"),\n            trigger: \"blur\"\n          }\n        ]\n      },\n      formLabelWidth: \"100px\"\n    };\n  },\n\n  computed: {\n    categoryListByProduct() {\n      const result = [];\n      this.categoryList.forEach(category => {\n        if (category.categoryType == \"Product\") {\n          result.push({\n            label: category.categoryName,\n            value: category.categoryId\n          });\n        }\n      });\n      return result;\n    },\n    categoryListByApplication() {\n      const result = [];\n      this.categoryList.forEach(category => {\n        if (category.categoryType == \"Applications\") {\n          result.push({\n            label: category.categoryName,\n            value: category.categoryId\n          });\n        }\n      });\n      return result;\n    },\n    categoryListByParamter() {\n      const result = [];\n      this.categoryList.forEach(category => {\n        if (category.categoryType == \"Parameters\") {\n          result.push({\n            label: category.categoryName,\n            value: category.categoryId\n          });\n        }\n      });\n      return result;\n    },\n    ...mapGetters([\"categoryList\"])\n  },\n\n  watch: {\n    targetProduct(product) {\n      if (product) {\n        Object.assign(this.formData, product);\n      }\n    }\n  },\n\n  methods: {\n    onSubmitClick() {\n      this.$refs.editProductForm.validate(valid => {\n        if (valid) {\n          this.formData.productImages = JSON.stringify(this.formData.productImageList);\n          this.formData.productOptions = JSON.stringify(this.formData.productOptionList);\n          this.formData.productFiles = JSON.stringify(this.formData.productFileList);\n          if (this.mode === productConfig.MODE.NEW) {\n            const productId = uuidv4();\n            this.formData.productId = productId;\n\n            productApi.addProduct(this.formData).then(res => {\n              this.dialogVisible = false;\n              this.getProductList();\n              if (res.success) {\n                this.$message({\n                  type: \"success\",\n                  message: \"Add Product Success\",\n                  showClose: true\n                });\n              }\n            });\n          } else if (this.mode === productConfig.MODE.EDIT) {\n            productApi.updateProduct(this.formData).then(res => {\n              this.dialogVisible = false;\n              this.getProductList();\n              if (res.success) {\n                this.$message({\n                  type: \"success\",\n                  message: \"Update Product Success\",\n                  showClose: true\n                });\n              }\n            });\n          }\n        }\n      });\n    },\n\n    onUploadFile(req) {\n      const filename = req.file.name;\n      const formdata = new FormData();\n      formdata.append(\"file\", req.file);\n\n      uploadImage(\n        filename,\n        formdata,\n        {\n          headers: { \"Content-Type\": \"multipart/form-data\" }\n        },\n        file => {\n          this.formData.productFileList.push(file);\n        }\n      );\n    },\n\n    onUploadImage(req) {\n      const filename = req.file.name;\n      const formdata = new FormData();\n      formdata.append(\"file\", req.file);\n\n      uploadImage(\n        filename,\n        formdata,\n        {\n          headers: { \"Content-Type\": \"multipart/form-data\" }\n        },\n        image => {\n          this.formData.productImageList.push(image);\n        }\n      );\n    },\n\n    // 验证文件合法性\n    beforeUploadImage(file) {\n      const isJPG = file.type === \"image/jpeg\" || file.type === \"image/png\";\n      const isLt2M = file.size / 1024 / 1024 < 5;\n\n      if (!isJPG) {\n        this.$message.error(\"Image type should be JPED or PNG\");\n      }\n\n      if (!isLt2M) {\n        this.$message.error(\"Image size should less than 5MB\");\n      }\n\n      return isJPG && isLt2M;\n    },\n\n    // 验证文件合法性\n    beforeUploadFile(file) {\n      const isLt2M = file.size / 1024 / 1024 < 10;\n\n      if (!isLt2M) {\n        this.$message.error(\"File size should less than 10MB\");\n      }\n\n      return isLt2M;\n    },\n\n    onUploadSuccess() {},\n\n    onImageRemove(target) {\n      let targetIndex = null;\n      this.formData.productImageList.forEach((item, index) => {\n        if (item.name === target.name) {\n          targetIndex = index;\n        }\n      });\n\n      if (targetIndex !== null) {\n        this.formData.productImageList.splice(targetIndex, 1);\n      }\n    },\n\n    onFileRemove(target) {\n      let targetIndex = null;\n      this.formData.productFileList.forEach((item, index) => {\n        if (item.name === target.name) {\n          targetIndex = index;\n        }\n      });\n\n      if (targetIndex !== null) {\n        this.formData.productFileList.splice(targetIndex, 1);\n      }\n    },\n\n    beforeFileRemove(file) {\n      return this.$confirm(`Do you want to delete ${file.name}？`);\n    },\n\n    ...mapActions([\"getProductList\"])\n  },\n\n  components: {\n    \"ap-texteditor\": TextEditor\n  }\n};\n</script>\n\n<style lang=\"less\">\n.ap-dialog {\n  .dialog-picture-upload {\n    width: 100%;\n    display: flex;\n    justify-content: flex-start;\n    margin: 10px 0;\n  }\n\n  .form-item {\n    width: 100%;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/Manage"}]}