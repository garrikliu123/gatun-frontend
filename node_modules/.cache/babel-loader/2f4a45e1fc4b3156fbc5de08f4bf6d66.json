{"remainingRequest":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/thread-loader/dist/cjs.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js!/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/store/actions.js","dependencies":[{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/store/actions.js","mtime":1587649337581},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xiangliu/Development/Projects/xxx/apera-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy94aWFuZ2xpdS9EZXZlbG9wbWVudC9Qcm9qZWN0cy94eHgvYXBlcmEtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAiLi9tdXRhdGlvbi10eXBlIjsKaW1wb3J0IGNhdGVnb3J5QXBpIGZyb20gImFwaS9jYXRlZ29yeSI7CmltcG9ydCBwcm9kdWN0QXBpIGZyb20gImFwaS9wcm9kdWN0IjsKaW1wb3J0IHByb2R1Y3RDYXRlZ29yeUFwaSBmcm9tICJhcGkvcHJvZHVjdENhdGVnb3J5IjsKaW1wb3J0IHRvcGljQ2F0ZWdvcnlBcGkgZnJvbSAiYXBpL3RvcGljQ2F0ZWdvcnkiOwppbXBvcnQgYXJ0aWNsZUFwaSBmcm9tICJhcGkvYXJ0aWNsZSI7CmltcG9ydCB0b3BpY0FwaSBmcm9tICJhcGkvdG9waWMiOwppbXBvcnQgaG9tZVNlY3Rpb25BcGkgZnJvbSAiYXBpL2hvbWVTZWN0aW9uIjsKaW1wb3J0IHVzZXJBcGkgZnJvbSAiYXBpL3VzZXIiOwppbXBvcnQgb3JkZXJBcGkgZnJvbSAiYXBpL29yZGVyIjsKaW1wb3J0IF8gZnJvbSAibG9kYXNoIjsKZXhwb3J0IHZhciBzZXRGdWxsU2NyZWVuTG9hZGluZyA9IGZ1bmN0aW9uIHNldEZ1bGxTY3JlZW5Mb2FkaW5nKF9yZWYsIHZhbHVlKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogIGNvbW1pdCh0eXBlcy5TRVRfRlVMTFNDUkVFTl9MT0FESU5HLCB2YWx1ZSk7Cn07CmV4cG9ydCB2YXIgc2V0VXNlciA9IGZ1bmN0aW9uIHNldFVzZXIoX3JlZjIsIHZhbHVlKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICBjb21taXQodHlwZXMuU0VUX1VTRVIsIHZhbHVlKTsKICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oImdhdHVuVXNlcklkIiwgdmFsdWUudXNlcklkKTsKfTsKZXhwb3J0IHZhciBzZXRTY3JlZW5XaWR0aCA9IGZ1bmN0aW9uIHNldFNjcmVlbldpZHRoKF9yZWYzLCB2YWx1ZSkgewogIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgY29tbWl0KHR5cGVzLlNFVF9TQ1JFRU5fV0lEVEgsIHZhbHVlKTsKfTsKZXhwb3J0IHZhciBzZXRJc1Bob25lU2l6ZSA9IGZ1bmN0aW9uIHNldElzUGhvbmVTaXplKF9yZWY0LCB2YWx1ZSkgewogIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgY29tbWl0KHR5cGVzLlNFVF9JU19QSE9ORV9TSVpFLCB2YWx1ZSk7Cn07CmV4cG9ydCB2YXIgc2V0Q2FydCA9IGZ1bmN0aW9uIHNldENhcnQoX3JlZjUsIGxpc3QpIHsKICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogIGNvbW1pdCh0eXBlcy5TRVRfU0hPUFBJTkdfQ0FSVCwgbGlzdCk7CiAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJnYXR1bkNhcnQiLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7Cn07CmV4cG9ydCB2YXIgYWRkUHJvdWRjdFRvQ2FydCA9IGZ1bmN0aW9uIGFkZFByb3VkY3RUb0NhcnQoX3JlZjYsIHByb2R1Y3QpIHsKICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0LAogICAgICBzdGF0ZSA9IF9yZWY2LnN0YXRlOwoKICB2YXIgbGlzdCA9IF8uY2xvbmVEZWVwKHN0YXRlLnNob3BwaW5nQ2FydCk7CgogIHZhciBtYXRjaGVkUHJvZHVjdCA9IGxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIGl0ZW0ucHJvZHVjdElkID09IHByb2R1Y3QucHJvZHVjdElkICYmIGl0ZW0ub3B0aW9uID09IHByb2R1Y3Qub3B0aW9uOwogIH0pOwoKICBpZiAobWF0Y2hlZFByb2R1Y3QpIHsKICAgIG1hdGNoZWRQcm9kdWN0LmFtb3VudCArPSBwcm9kdWN0LmFtb3VudDsKICB9IGVsc2UgewogICAgbGlzdC5wdXNoKHByb2R1Y3QpOwogIH0KCiAgY29tbWl0KHR5cGVzLlNFVF9TSE9QUElOR19DQVJULCBsaXN0KTsKfTsKZXhwb3J0IHZhciBkZWxldGVQcm91ZGN0RnJvbUNhcnQgPSBmdW5jdGlvbiBkZWxldGVQcm91ZGN0RnJvbUNhcnQoX3JlZjcsIHByb2R1Y3RJZCkgewogIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQsCiAgICAgIHN0YXRlID0gX3JlZjcuc3RhdGU7CgogIHZhciBsaXN0ID0gX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlLnNob3BwaW5nQ2FydCk7CgogIHZhciBpbmRleCA9IGxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpdGVtLmlkID09PSBwcm9kdWN0SWQ7CiAgfSk7CiAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogIGNvbW1pdCh0eXBlcy5TRVRfU0hPUFBJTkdfQ0FSVCwgbGlzdCk7Cn07CmV4cG9ydCB2YXIgY2xlYXJDYXJ0ID0gZnVuY3Rpb24gY2xlYXJDYXJ0KF9yZWY4KSB7CiAgdmFyIGNvbW1pdCA9IF9yZWY4LmNvbW1pdDsKICBjb21taXQodHlwZXMuU0VUX1NIT1BQSU5HX0NBUlQsIFtdKTsKfTsKZXhwb3J0IHZhciBsb2dvdXQgPSBmdW5jdGlvbiBsb2dvdXQoX3JlZjkpIHsKICB2YXIgY29tbWl0ID0gX3JlZjkuY29tbWl0OwogIGNvbW1pdCh0eXBlcy5TRVRfVVNFUiwgbnVsbCk7CiAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJnYXR1blVzZXJJZCIpOwp9OwpleHBvcnQgdmFyIGdldFByb2R1Y3RMaXN0ID0gZnVuY3Rpb24gZ2V0UHJvZHVjdExpc3QoX3JlZjEwKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYxMC5jb21taXQ7CiAgcmV0dXJuIHByb2R1Y3RBcGkuZ2V0UHJvZHVjdExpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMxKSB7CiAgICBwcm9kdWN0Q2F0ZWdvcnlBcGkuZ2V0UHJvZHVjdENhdGVnb3J5TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlczIpIHsKICAgICAgY29tbWl0KHR5cGVzLlNFVF9QUk9EVUNUX0xJU1QsIHJlczEuZGF0YSk7CiAgICAgIGNvbW1pdCh0eXBlcy5TRVRfUFJPRFVDVF9DQVRFR09SWV9MSVNULCByZXMyLmRhdGEpOwogICAgfSk7CiAgfSk7Cn07CmV4cG9ydCB2YXIgZ2V0T3JkZXJIaXN0b3J5ID0gZnVuY3Rpb24gZ2V0T3JkZXJIaXN0b3J5KF9yZWYxMSwgdXNlcklkKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYxMS5jb21taXQ7CiAgcmV0dXJuIG9yZGVyQXBpLmdldE9yZGVyTGlzdEJ5VXNlcklkKHVzZXJJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgdmFyIG9yZGVySGlzdG9yeSA9IHJlcy5vcmRlcmxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5vcmRlckRldGFpbCA9IEpTT04ucGFyc2UoaXRlbS5vcmRlckRldGFpbCk7CiAgICAgICAgaXRlbS5vcmRlclNoaXBwaW5nID0gSlNPTi5wYXJzZShpdGVtLm9yZGVyU2hpcHBpbmcpOwogICAgICAgIHJldHVybiBpdGVtOwogICAgICB9KTsKICAgICAgY29tbWl0KHR5cGVzLlNFVF9PUkRFUl9ISVNUT1JZLCBvcmRlckhpc3RvcnkpOwogICAgfQogIH0pOwp9OwpleHBvcnQgdmFyIGdldEFydGljbGVMaXN0ID0gZnVuY3Rpb24gZ2V0QXJ0aWNsZUxpc3QoX3JlZjEyKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYxMi5jb21taXQ7CiAgcmV0dXJuIGFydGljbGVBcGkuZ2V0QXJ0aWNsZUxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgIGNvbW1pdCh0eXBlcy5TRVRfQVJUSUNMRV9MSVNULCByZXMuZGF0YSk7CiAgfSk7Cn07CmV4cG9ydCB2YXIgZ2V0VG9waWNMaXN0ID0gZnVuY3Rpb24gZ2V0VG9waWNMaXN0KF9yZWYxMykgewogIHZhciBjb21taXQgPSBfcmVmMTMuY29tbWl0OwogIHJldHVybiB0b3BpY0FwaS5nZXRUb3BpY0xpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMxKSB7CiAgICB0b3BpY0NhdGVnb3J5QXBpLmdldFRvcGljQ2F0ZWdvcnlMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzMikgewogICAgICBjb21taXQodHlwZXMuU0VUX1RPUElDX0xJU1QsIHJlczEuZGF0YSk7CiAgICAgIGNvbW1pdCh0eXBlcy5TRVRfVE9QSUNfQ0FURUdPUllfTElTVCwgcmVzMi5kYXRhKTsKICAgIH0pOwogIH0pOwp9OwpleHBvcnQgdmFyIGdldENhdGVnb3J5TGlzdCA9IGZ1bmN0aW9uIGdldENhdGVnb3J5TGlzdChfcmVmMTQpIHsKICB2YXIgY29tbWl0ID0gX3JlZjE0LmNvbW1pdDsKICByZXR1cm4gY2F0ZWdvcnlBcGkuZ2V0Q2F0ZWdvcnlMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICBjb21taXQodHlwZXMuU0VUX0NBVEVHT1JZX0xJU1QsIHJlcy5kYXRhKTsKICB9KTsKfTsKZXhwb3J0IHZhciBnZXRIb21lU2VjdGlvbkxpc3QgPSBmdW5jdGlvbiBnZXRIb21lU2VjdGlvbkxpc3QoX3JlZjE1KSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYxNS5jb21taXQ7CiAgcmV0dXJuIGhvbWVTZWN0aW9uQXBpLmdldFNlY3Rpb25MaXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICBjb21taXQodHlwZXMuU0VUX0hPTUVfU0VDVElPTl9MSVNULCByZXMuZGF0YSk7CiAgfSk7Cn07IC8vIOWQr+WKqOaSreaUvuWZqAoKZXhwb3J0IHZhciBpbml0U2l0ZSA9IGZ1bmN0aW9uIGluaXRTaXRlKF9yZWYxNikgewogIHZhciBkaXNwYXRjaCA9IF9yZWYxNi5kaXNwYXRjaDsKICB2YXIgc2NyZWVuV2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogIGRpc3BhdGNoKCJzZXRTY3JlZW5XaWR0aCIsIHNjcmVlbldpZHRoKTsKCiAgaWYgKHNjcmVlbldpZHRoICYmIHNjcmVlbldpZHRoIDw9IDYwMCkgewogICAgZGlzcGF0Y2goInNldElzUGhvbmVTaXplIiwgdHJ1ZSk7CiAgfSBlbHNlIHsKICAgIGRpc3BhdGNoKCJzZXRJc1Bob25lU2l6ZSIsIGZhbHNlKTsKICB9CgogIGRpc3BhdGNoKCJnZXRQcm9kdWN0TGlzdCIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGRpc3BhdGNoKCJnZXRDYXRlZ29yeUxpc3QiKTsKICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkaXNwYXRjaCgiZ2V0QXJ0aWNsZUxpc3QiKTsKICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkaXNwYXRjaCgiZ2V0VG9waWNMaXN0Iik7CiAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZGlzcGF0Y2goImdldEhvbWVTZWN0aW9uTGlzdCIpOwogIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgdmFyIHVzZXJJZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZ2F0dW5Vc2VySWQiKTsKICAgIHZhciBjYXJ0SnNvbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZ2F0dW5DYXJ0Iik7CiAgICB2YXIgY2FydCA9IEpTT04ucGFyc2UoY2FydEpzb24pOwoKICAgIGlmIChjYXJ0ICYmIEFycmF5LmlzQXJyYXkoY2FydCkpIHsKICAgICAgZGlzcGF0Y2goInNldENhcnQiLCBjYXJ0KTsKICAgIH0gZWxzZSB7CiAgICAgIGRpc3BhdGNoKCJzZXRDYXJ0IiwgW10pOwogICAgfQoKICAgIGlmICh1c2VySWQpIHsKICAgICAgdXNlckFwaS5nZXRVc2VyQnlJZCh1c2VySWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgZGlzcGF0Y2goInNldFVzZXIiLCByZXMudXNlcik7CiAgICAgICAgICBkaXNwYXRjaCgiZ2V0T3JkZXJIaXN0b3J5IiwgdXNlcklkKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0pOwp9Ow=="},{"version":3,"sources":["/Users/xiangliu/Development/Projects/xxx/apera-frontend/src/store/actions.js"],"names":["types","categoryApi","productApi","productCategoryApi","topicCategoryApi","articleApi","topicApi","homeSectionApi","userApi","orderApi","_","setFullScreenLoading","value","commit","SET_FULLSCREEN_LOADING","setUser","SET_USER","window","localStorage","setItem","userId","setScreenWidth","SET_SCREEN_WIDTH","setIsPhoneSize","SET_IS_PHONE_SIZE","setCart","list","SET_SHOPPING_CART","JSON","stringify","addProudctToCart","product","state","cloneDeep","shoppingCart","matchedProduct","find","item","productId","option","amount","push","deleteProudctFromCart","index","findIndex","id","splice","clearCart","logout","removeItem","getProductList","then","res1","getProductCategoryList","res2","SET_PRODUCT_LIST","data","SET_PRODUCT_CATEGORY_LIST","getOrderHistory","getOrderListByUserId","res","success","orderHistory","orderlist","map","orderDetail","parse","orderShipping","SET_ORDER_HISTORY","getArticleList","SET_ARTICLE_LIST","getTopicList","getTopicCategoryList","SET_TOPIC_LIST","SET_TOPIC_CATEGORY_LIST","getCategoryList","SET_CATEGORY_LIST","getHomeSectionList","getSectionList","SET_HOME_SECTION_LIST","initSite","dispatch","screenWidth","document","body","clientWidth","getItem","cartJson","cart","Array","isArray","getUserById","user"],"mappings":"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","sourcesContent":["import * as types from \"./mutation-type\";\n\nimport categoryApi from \"api/category\";\nimport productApi from \"api/product\";\nimport productCategoryApi from \"api/productCategory\";\nimport topicCategoryApi from \"api/topicCategory\";\nimport articleApi from \"api/article\";\nimport topicApi from \"api/topic\";\nimport homeSectionApi from \"api/homeSection\";\nimport userApi from \"api/user\";\nimport orderApi from \"api/order\";\nimport _ from \"lodash\";\n\nexport const setFullScreenLoading = function({\n    commit\n}, value) {\n    commit(types.SET_FULLSCREEN_LOADING, value);\n};\n\nexport const setUser = function({\n    commit\n}, value) {\n    commit(types.SET_USER, value);\n    window.localStorage.setItem(\"gatunUserId\", value.userId);\n};\n\nexport const setScreenWidth = function({\n    commit\n}, value) {\n    commit(types.SET_SCREEN_WIDTH, value);\n\n};\n\nexport const setIsPhoneSize = function({\n    commit\n}, value) {\n    commit(types.SET_IS_PHONE_SIZE, value);\n\n};\n\nexport const setCart = function({\n    commit\n}, list) {\n    commit(types.SET_SHOPPING_CART, list);\n    window.localStorage.setItem(\"gatunCart\", JSON.stringify(list));\n\n};\n\nexport const addProudctToCart = function({\n    commit,\n    state\n}, product) {\n    const list = _.cloneDeep(state.shoppingCart);\n    const matchedProduct = list.find(item => {\n        return item.productId == product.productId && item.option == product.option;\n    });\n\n    if (matchedProduct) {\n        matchedProduct.amount += product.amount;\n    } else {\n        list.push(product);\n    }\n\n    commit(types.SET_SHOPPING_CART, list);\n};\n\nexport const deleteProudctFromCart = function({\n    commit,\n    state\n}, productId) {\n    const list = [...state.shoppingCart];\n    const index = list.findIndex(item => {\n        item.id === productId;\n    });\n\n    list.splice(index, 1);\n    commit(types.SET_SHOPPING_CART, list);\n};\n\nexport const clearCart = function({\n    commit\n}) {\n    commit(types.SET_SHOPPING_CART, []);\n};\n\nexport const logout = function({\n    commit\n}) {\n    commit(types.SET_USER, null);\n    window.localStorage.removeItem(\"gatunUserId\");\n};\n\nexport const getProductList = function({\n    commit\n}) {\n    return productApi.getProductList().then(res1 => {\n        productCategoryApi.getProductCategoryList().then(res2 => {\n            commit(types.SET_PRODUCT_LIST, res1.data);\n            commit(types.SET_PRODUCT_CATEGORY_LIST, res2.data);\n        });\n    });\n};\n\nexport const getOrderHistory = function({\n    commit\n}, userId) {\n    return orderApi.getOrderListByUserId(userId).then(res => {\n        if (res.success) {\n            const orderHistory = res.orderlist.map(item => {\n                item.orderDetail = JSON.parse(item.orderDetail);\n                item.orderShipping = JSON.parse(item.orderShipping);\n                return item;\n            })\n            commit(types.SET_ORDER_HISTORY, orderHistory);\n        }\n    });\n};\n\nexport const getArticleList = function({\n    commit\n}) {\n    return articleApi.getArticleList().then(res => {\n        commit(types.SET_ARTICLE_LIST, res.data);\n    });\n};\n\nexport const getTopicList = function({\n    commit\n}) {\n    return topicApi.getTopicList().then(res1 => {\n        topicCategoryApi.getTopicCategoryList().then(res2 => {\n            commit(types.SET_TOPIC_LIST, res1.data);\n            commit(types.SET_TOPIC_CATEGORY_LIST, res2.data);\n        });\n    });\n};\n\nexport const getCategoryList = function({\n    commit\n}) {\n    return categoryApi.getCategoryList().then(res => {\n        commit(types.SET_CATEGORY_LIST, res.data);\n    });\n};\n\nexport const getHomeSectionList = function({\n    commit\n}) {\n    return homeSectionApi.getSectionList().then(res => {\n        commit(types.SET_HOME_SECTION_LIST, res.data);\n    });\n};\n\n// 启动播放器\nexport const initSite = function({\n    dispatch\n}) {\n    const screenWidth = document.body.clientWidth;\n    dispatch(\"setScreenWidth\", screenWidth);\n    if (screenWidth && screenWidth <= 600) {\n        dispatch(\"setIsPhoneSize\", true);\n    } else {\n        dispatch(\"setIsPhoneSize\", false);\n    }\n    dispatch(\"getProductList\")\n        .then(() => {\n            return dispatch(\"getCategoryList\");\n        })\n        .then(() => {\n            return dispatch(\"getArticleList\");\n        })\n        .then(() => {\n            return dispatch(\"getTopicList\");\n        })\n        .then(() => {\n            return dispatch(\"getHomeSectionList\");\n        })\n        .then(() => {\n\n            const userId = window.localStorage.getItem(\"gatunUserId\");\n            const cartJson = window.localStorage.getItem(\"gatunCart\");\n            const cart = JSON.parse(cartJson);\n            if (cart && Array.isArray(cart)) {\n                dispatch(\"setCart\", cart);\n            } else {\n                dispatch(\"setCart\", []);\n            }\n            if (userId) {\n                userApi.getUserById(userId).then(res => {\n                    if (res.success) {\n                        dispatch(\"setUser\", res.user);\n                        dispatch(\"getOrderHistory\", userId);\n                    }\n                });\n            }\n        });\n};"]}]}